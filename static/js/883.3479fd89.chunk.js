/*! For license information please see 883.3479fd89.chunk.js.LICENSE.txt */
(self.webpackChunkrpdb_dash=self.webpackChunkrpdb_dash||[]).push([[883],{54339:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(72791))&&r.__esModule?r:{default:r},i=n(30460),a=n(8941),s=n(42330),u=["isProcessing","isOpen","id","message","title","action","handleAction","handleClose"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=o.default.forwardRef((function(e,t){return o.default.createElement(s.Slide,c({direction:"up"},e,{ref:t}))})),p=function(e){var t=e.isProcessing,n=void 0!==t&&t,r=e.isOpen,p=void 0!==r&&r,d=(e.id,e.message),h=void 0===d?"":d,f=e.title,v=void 0===f?"":f,m=e.action,g=void 0===m?"":m,y=e.handleAction,w=void 0===y?function(){}:y,b=e.handleClose,C=void 0===b?function(){}:b,_=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,u),S=(0,i.useIntl)(),x=(0,a.useTheme)(),P=(0,s.useMediaQuery)(x.breakpoints.down("sm"));return o.default.createElement(s.Dialog,c({fullScreen:P,open:p,onClose:C,TransitionComponent:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},_),o.default.createElement(s.DialogTitle,{id:"alert-dialog-title"},v),o.default.createElement(s.DialogContent,null,o.default.createElement(s.DialogContentText,{id:"alert-dialog-description"},h)),o.default.createElement(s.DialogActions,null,o.default.createElement(s.Button,{onClick:C,color:"primary"},S.formatMessage({id:"cancel",defaultMessage:"Cancel"})),o.default.createElement(s.Button,{disabled:n,onClick:function(){w(C)},color:"secondary"},g)))};t.default=p,e.exports=t.default},10434:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){return c.apply(this,arguments)};var r,o=(r=n(64687))&&r.__esModule?r:{default:r};function i(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))}}var s=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.setAttribute("crossOrigin","anonymous"),r.src=e}))};function u(e){return e*Math.PI/180}function c(){return(c=a(o.default.mark((function e(t,n,r){var i,a,c,l,p,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=0),e.next=3,s(t);case 3:return i=e.sent,a=document.createElement("canvas"),c=a.getContext("2d"),l=Math.max(i.width,i.height),p=l/2*Math.sqrt(2)*2,a.width=p,a.height=p,c.translate(p/2,p/2),c.rotate(u(r)),c.translate(-p/2,-p/2),c.drawImage(i,p/2-.5*i.width,p/2-.5*i.height),d=c.getImageData(0,0,p,p),a.width=n.width,a.height=n.height,c.putImageData(d,0-p/2+.5*i.width-n.x,0-p/2+.5*i.height-n.y),e.abrupt("return",a.toDataURL("image/jpeg"));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports=t.default},22964:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.isOpen,n=void 0!==t&&t,p=e.handleClose,d=e.handleCropSubmit,h=e.path,g=e.cropperProps,y=(0,s.useIntl)(),w=(0,u.useTheme)(),b=(0,i.useState)(!1),C=b[0],_=b[1],S=(0,i.useState)(!1),x=S[0],P=S[1],E=(0,c.useMediaQuery)(w.breakpoints.down("sm")),M=(0,i.useState)(!1),R=M[0],D=M[1],z=(0,i.useState)({x:0,y:0}),O=z[0],T=z[1],A=(0,i.useState)(1),j=A[0],W=A[1],k=(0,i.useState)(null),L=k[0],I=k[1],N=(0,i.useCallback)((function(e,t){I(t)}),[]),F=function(){D(!1),P(!1),I(null),_(!1)};(0,i.useEffect)((function(){return F(),F}),[h]);var Z=(0,i.useCallback)(f(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.default)(x,L,0);case 3:t=e.sent,D(t),d&&(p(),d(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[L,x,p,d]);return i.default.createElement(c.Dialog,{fullScreen:E,open:n,onClose:p,TransitionComponent:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.default.createElement(c.DialogContent,null,i.default.createElement("div",{style:{width:"100%",height:"100%",minWidth:350,padding:0,display:"flex",justifyContent:"center",alignItems:"center"}},!x&&i.default.createElement("div",{onDrop:function(e){e.preventDefault();var t=function(e){var t=[];if(e.dataTransfer.items)for(var n=0;n<e.dataTransfer.items.length;n++)"file"===e.dataTransfer.items[n].kind&&t.push(e.dataTransfer.items[n].getAsFile());else for(var r=0;r<e.dataTransfer.files.length;r++)t.push(e.dataTransfer.files[r]);return t}(e);if(t.length){var n=new FileReader;n.onload=function(e){P(e.target.result)},n.readAsDataURL(t[0])}},onDragOver:function(e){e.preventDefault(),_(!0)},onDragLeave:function(e){e.preventDefault(),_(!1)},style:{width:"100%",minHeight:350,borderStyle:"dashed",borderColor:C?"red":"grey",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},i.default.createElement(l.CloudUpload,{color:"disabled",style:{height:60,width:60}}),i.default.createElement(c.Typography,{variant:"h6",style:{color:"grey"}},y.formatMessage({id:"file_upload_text",defaultMessage:"Drop image here or "})),i.default.createElement("input",{style:{display:"none"},accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){if(e.target.files){var t=new FileReader;t.onload=function(e){P(e.target.result)},t.readAsDataURL(e.target.files[0])}}}),i.default.createElement("label",{htmlFor:"contained-button-file"},i.default.createElement(c.Button,{variant:"contained",color:"primary",component:"span",style:{margin:8}},"Upload"))),x&&!R&&i.default.createElement("div",{style:{position:"relative",height:300,width:"100%",background:"black"}},i.default.createElement(o.default,v({cropShape:"round",showGrid:!1,image:x,crop:O,zoom:j,aspect:1,onCropChange:T,onCropComplete:N,onZoomChange:W},g))),R&&i.default.createElement(c.Box,{position:"relative",display:"inline-flex",style:{height:280}},i.default.createElement(c.CircularProgress,{size:280,variant:"determinate"}),i.default.createElement(c.Box,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},i.default.createElement("img",{style:{height:250,borderRadius:"50%"},src:R,alt:"img"}))))),i.default.createElement(c.DialogActions,null,i.default.createElement(c.Button,{onClick:p,color:"secondary"},y.formatMessage({id:"cancel",defaultMessage:"Cancel"})),i.default.createElement(c.Button,{disabled:!x,onClick:Z,color:"primary"},y.formatMessage({id:"save",defaultMessage:"Save"}))))};var r=d(n(64687)),o=d(n(63572)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(72791)),a=d(n(10434)),s=n(30460),u=n(52554),c=n(42330),l=n(71977);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,s,"next",e)}function s(e){h(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var m=i.default.forwardRef((function(e,t){return i.default.createElement(c.Slide,v({direction:"up"},e,{ref:t}))}));e.exports=t.default},12549:function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=t.Context=void 0;var o=((r=n(72791))&&r.__esModule?r:{default:r}).default.createContext(null);t.Context=o;var i=o;t.default=i},62613:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(72791)),o=a(n(12549)),i=a(n(54339));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c=function(e){var t=e.children,n=(0,r.useState)({isOpen:!1}),a=n[0],s=n[1],c=(0,r.useState)(!1),l=c[0],p=c[1],d=function(){s({isOpen:!1})};return r.default.createElement(o.default.Provider,{value:{openDialog:function(e){s(u({isOpen:!0},e))},closeDialog:d,setProcessing:function(e){p(e)}}},r.default.createElement(r.Fragment,null,t,r.default.createElement(i.default,u({handleClose:d,isProcessing:l},a))))};t.default=c,e.exports=t.default},88240:function(e,t,n){"use strict";t.k5=function(){return(0,r.useContext)(o.default)};var r=n(72791),o=i(n(12549));function i(e){return e&&e.__esModule?e:{default:e}}i(n(38326)).default,i(n(62613)).default},38326:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(12549)),o=i(n(72791));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var s=function(e){return function(t){return o.default.createElement(r.default.Consumer,null,(function(n){return o.default.createElement(e,a({},n,t))}))}};t.default=s,e.exports=t.default},38136:function(e,t,n){e.exports=n(20166)},24872:function(e){"use strict";var t=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},65811:function(e){var t,n,r,o,i,a,s,u,c,l,p,d,h,f,v,m=!1;function g(){if(!m){m=!0;var e=navigator.userAgent,g=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),y=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(d=/\b(iPhone|iP[ao]d)/.exec(e),h=/\b(iP[ao]d)/.exec(e),l=/Android/i.exec(e),f=/FBAN\/\w+;/i.exec(e),v=/Mobile/i.exec(e),p=!!/Win64/.exec(e),g){(t=g[1]?parseFloat(g[1]):g[5]?parseFloat(g[5]):NaN)&&document&&document.documentMode&&(t=document.documentMode);var w=/(?:Trident\/(\d+.\d+))/.exec(e);a=w?parseFloat(w[1])+4:t,n=g[2]?parseFloat(g[2]):NaN,r=g[3]?parseFloat(g[3]):NaN,(o=g[4]?parseFloat(g[4]):NaN)?(g=/(?:Chrome\/(\d+\.\d+))/.exec(e),i=g&&g[1]?parseFloat(g[1]):NaN):i=NaN}else t=n=r=i=o=NaN;if(y){if(y[1]){var b=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);s=!b||parseFloat(b[1].replace("_","."))}else s=!1;u=!!y[2],c=!!y[3]}else s=u=c=!1}}var y={ie:function(){return g()||t},ieCompatibilityMode:function(){return g()||a>t},ie64:function(){return y.ie()&&p},firefox:function(){return g()||n},opera:function(){return g()||r},webkit:function(){return g()||o},safari:function(){return y.webkit()},chrome:function(){return g()||i},windows:function(){return g()||u},osx:function(){return g()||s},linux:function(){return g()||c},iphone:function(){return g()||d},mobile:function(){return g()||d||h||l||v},nativeApp:function(){return g()||f},android:function(){return g()||l},ipad:function(){return g()||h}};e.exports=y},95780:function(e,t,n){"use strict";var r,o=n(24872);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"===typeof a[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},20166:function(e,t,n){"use strict";var r=n(65811),o=n(95780);function i(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}i.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=i},63572:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42410),o=n(72791),i=n(38136);function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=a(o),u=a(i);function c(e,t,n,r,o,i){void 0===i&&(i=0);var a=b(e,t,i),s=a.width,u=a.height,c=Math.min(s,n),l=Math.min(u,r);return c>l*o?{width:l*o,height:l}:{width:c,height:c/o}}function l(e,t,n,r,o){void 0===o&&(o=0);var i=b(t.width,t.height,o),a=i.width,s=i.height;return{x:p(e.x,a,n.width,r),y:p(e.y,s,n.height,r)}}function p(e,t,n,r){var o=t*r/2-n/2;return C(e,-o,o)}function d(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function h(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function f(e,t,n,o,i,a,s){void 0===a&&(a=0),void 0===s&&(s=!0);var u=s?v:m,c=b(t.width,t.height,a),l=b(t.naturalWidth,t.naturalHeight,a),p={x:u(100,((c.width-n.width/i)/2-e.x/i)/c.width*100),y:u(100,((c.height-n.height/i)/2-e.y/i)/c.height*100),width:u(100,n.width/c.width*100/i),height:u(100,n.height/c.height*100/i)},d=Math.round(u(l.width,p.width*l.width/100)),h=Math.round(u(l.height,p.height*l.height/100)),f=l.width>=l.height*o?{width:Math.round(h*o),height:h}:{width:d,height:Math.round(d/o)};return{croppedAreaPercentages:p,croppedAreaPixels:r.__assign(r.__assign({},f),{x:Math.round(u(l.width-f.width,p.x*l.width/100)),y:Math.round(u(l.height-f.height,p.y*l.height/100))})}}function v(e,t){return Math.min(e,Math.max(0,t))}function m(e,t){return t}function g(e,t,n,r,o,i){var a=b(t.width,t.height,n),s=C(r.width/a.width*(100/e.width),o,i);return{crop:{x:s*a.width/2-r.width/2-a.width*s*(e.x/100),y:s*a.height/2-r.height/2-a.height*s*(e.y/100)},zoom:s}}function y(e,t,n,r,o,i){void 0===n&&(n=0);var a=b(t.naturalWidth,t.naturalHeight,n),s=C(function(e,t,n){var r=function(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}(e,t,r),o,i),u=r.height>r.width?r.height/e.height:r.width/e.width;return{crop:{x:((a.width-e.width)/2-e.x)*u,y:((a.height-e.height)/2-e.y)*u},zoom:s}}function w(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function b(e,t,n){var r=n*Math.PI/180;return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function C(e,t,n){return Math.min(Math.max(e,t),n)}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return"string"===typeof e&&e.length>0})).join(" ").trim()}var S=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.imageRef=s.default.createRef(),n.videoRef=s.default.createRef(),n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=document,n.currentWindow=window,n.state={cropSize:null,hasWheelJustStarted:!1},n.preventZoomSafari=function(e){return e.preventDefault()},n.cleanEvents=function(){n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd)},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var e=n.computeSizes();e&&(n.emitCropData(),n.setInitialCrop(e)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(e){if(n.props.initialCroppedAreaPercentages){var t=g(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,e,n.props.minZoom,n.props.maxZoom),r=t.crop,o=t.zoom;n.props.onCropChange(r),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var i=y(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,e,n.props.minZoom,n.props.maxZoom);r=i.crop,o=i.zoom;n.props.onCropChange(r),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var e,t,o,i,a,s,u=n.imageRef.current||n.videoRef.current;if(u&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect();var l=n.containerRect.width/n.containerRect.height,p=(null===(e=n.imageRef.current)||void 0===e?void 0:e.naturalWidth)||(null===(t=n.videoRef.current)||void 0===t?void 0:t.videoWidth)||0,d=(null===(o=n.imageRef.current)||void 0===o?void 0:o.naturalHeight)||(null===(i=n.videoRef.current)||void 0===i?void 0:i.videoHeight)||0,h=p/d,f=void 0;if(u.offsetWidth<p||u.offsetHeight<d)switch(n.props.objectFit){default:case"contain":f=l>h?{width:n.containerRect.height*h,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/h};break;case"horizontal-cover":f={width:n.containerRect.width,height:n.containerRect.width/h};break;case"vertical-cover":f={width:n.containerRect.height*h,height:n.containerRect.height};break;case"auto-cover":f=p>d?{width:n.containerRect.width,height:n.containerRect.width/h}:{width:n.containerRect.height*h,height:n.containerRect.height}}else f={width:u.offsetWidth,height:u.offsetHeight};n.mediaSize=r.__assign(r.__assign({},f),{naturalWidth:p,naturalHeight:d}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var v=n.props.cropSize?n.props.cropSize:c(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(null===(a=n.state.cropSize)||void 0===a?void 0:a.height)===v.height&&(null===(s=n.state.cropSize)||void 0===s?void 0:s.width)===v.width||n.props.onCropSizeChange&&n.props.onCropSizeChange(v),n.setState({cropSize:v},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(v),v}},n.onMouseDown=function(e){e.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.onDragStart(t.getMousePoint(e))},n.onMouseMove=function(e){return n.onDrag(t.getMousePoint(e))},n.onTouchStart=function(e){n.isTouching=!0,n.props.onTouchRequest&&!n.props.onTouchRequest(e)||(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),2===e.touches.length?n.onPinchStart(e):1===e.touches.length&&n.onDragStart(t.getTouchPoint(e.touches[0])))},n.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?n.onPinchMove(e):1===e.touches.length&&n.onDrag(t.getTouchPoint(e.touches[0]))},n.onGestureStart=function(e){e.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation},n.onGestureMove=function(e){if(e.preventDefault(),!n.isTouching){var r=t.getMousePoint(e),o=n.gestureZoomStart-1+e.scale;if(n.setNewZoom(o,r,{shouldUpdatePosition:!0}),n.props.onRotationChange){var i=n.gestureRotationStart+e.rotation;n.props.onRotationChange(i)}}},n.onGestureEnd=function(e){n.cleanEvents()},n.onDragStart=function(e){var t,o,i=e.x,a=e.y;n.dragStartPosition={x:i,y:a},n.dragStartCrop=r.__assign({},n.props.crop),null===(o=(t=n.props).onInteractionStart)||void 0===o||o.call(t)},n.onDrag=function(e){var t=e.x,r=e.y;n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame((function(){if(n.state.cropSize&&void 0!==t&&void 0!==r){var e=t-n.dragStartPosition.x,o=r-n.dragStartPosition.y,i={x:n.dragStartCrop.x+e,y:n.dragStartCrop.y+o},a=n.props.restrictPosition?l(i,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):i;n.props.onCropChange(a)}}))},n.onDragStopped=function(){var e,t;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),null===(t=(e=n.props).onInteractionEnd)||void 0===t||t.call(e)},n.onWheel=function(e){if(!n.props.onWheelRequest||n.props.onWheelRequest(e)){e.preventDefault();var r=t.getMousePoint(e),o=u.default(e).pixelY,i=n.props.zoom-o*n.props.zoomSpeed/200;n.setNewZoom(i,r,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},(function(){var e,t;return null===(t=(e=n.props).onInteractionStart)||void 0===t?void 0:t.call(e)})),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout((function(){return n.setState({hasWheelJustStarted:!1},(function(){var e,t;return null===(t=(e=n.props).onInteractionEnd)||void 0===t?void 0:t.call(e)}))}),250)}},n.getPointOnContainer=function(e){var t=e.x,r=e.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(t-n.containerRect.left),y:n.containerRect.height/2-(r-n.containerRect.top)}},n.getPointOnMedia=function(e){var t=e.x,r=e.y,o=n.props,i=o.crop,a=o.zoom;return{x:(t+i.x)/a,y:(r+i.y)/a}},n.setNewZoom=function(e,t,r){var o=(void 0===r?{}:r).shouldUpdatePosition,i=void 0===o||o;if(n.state.cropSize&&n.props.onZoomChange){var a=C(e,n.props.minZoom,n.props.maxZoom);if(i){var s=n.getPointOnContainer(t),u=n.getPointOnMedia(s),c={x:u.x*a-s.x,y:u.y*a-s.y},p=n.props.restrictPosition?l(c,n.mediaSize,n.state.cropSize,a,n.props.rotation):c;n.props.onCropChange(p)}n.props.onZoomChange(a)}},n.getCropData=function(){return n.state.cropSize?f(n.props.restrictPosition?l(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition):null},n.emitCropData=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(t,r),n.props.onCropAreaChange&&n.props.onCropAreaChange(t,r)}},n.emitCropAreaChange=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,r=e.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(t,r)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var e=n.props.restrictPosition?l(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(e),n.emitCropData()}},n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef)},t.prototype.componentWillUnmount=function(){var e;this.currentWindow.removeEventListener("resize",this.computeSizes),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null===(e=this.styleRef.parentNode)||void 0===e||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},t.prototype.componentDidUpdate=function(e){var t,n,r,o,i,a,s,u,c;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null===(t=e.cropSize)||void 0===t?void 0:t.height)!==(null===(n=this.props.cropSize)||void 0===n?void 0:n.height)||(null===(r=e.cropSize)||void 0===r?void 0:r.width)!==(null===(o=this.props.cropSize)||void 0===o?void 0:o.width)?this.computeSizes():(null===(i=e.crop)||void 0===i?void 0:i.x)===(null===(a=this.props.crop)||void 0===a?void 0:a.x)&&(null===(s=e.crop)||void 0===s?void 0:s.y)===(null===(u=this.props.crop)||void 0===u?void 0:u.y)||this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null===(c=this.videoRef.current)||void 0===c||c.load())},t.prototype.getAspect=function(){var e=this.props,t=e.cropSize,n=e.aspect;return t?t.width/t.height:n},t.prototype.onPinchStart=function(e){var n=t.getTouchPoint(e.touches[0]),r=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=d(n,r),this.lastPinchRotation=h(n,r),this.onDragStart(w(n,r))},t.prototype.onPinchMove=function(e){var n=this,r=t.getTouchPoint(e.touches[0]),o=t.getTouchPoint(e.touches[1]),i=w(r,o);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame((function(){var e=d(r,o),t=n.props.zoom*(e/n.lastPinchDistance);n.setNewZoom(t,i,{shouldUpdatePosition:!1}),n.lastPinchDistance=e;var a=h(r,o),s=n.props.rotation+(a-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(s),n.lastPinchRotation=a}))},t.prototype.render=function(){var e=this,t=this.props,n=t.image,o=t.video,i=t.mediaProps,a=t.transform,u=t.crop,c=u.x,l=u.y,p=t.rotation,d=t.zoom,h=t.cropShape,f=t.showGrid,v=t.style,m=v.containerStyle,g=v.cropAreaStyle,y=v.mediaStyle,w=t.classes,b=w.containerClassName,C=w.cropAreaClassName,S=w.mediaClassName,x=t.objectFit;return s.default.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(t){return e.containerRef=t},"data-testid":"container",style:m,className:_("reactEasyCrop_Container",b)},n?s.default.createElement("img",r.__assign({alt:"",className:_("reactEasyCrop_Image","contain"===x&&"reactEasyCrop_Contain","horizontal-cover"===x&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===x&&"reactEasyCrop_Cover_Vertical","auto-cover"===x&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),S)},i,{src:n,ref:this.imageRef,style:r.__assign(r.__assign({},y),{transform:a||"translate("+c+"px, "+l+"px) rotate("+p+"deg) scale("+d+")"}),onLoad:this.onMediaLoad})):o&&s.default.createElement("video",r.__assign({autoPlay:!0,loop:!0,muted:!0,className:_("reactEasyCrop_Video","contain"===x&&"reactEasyCrop_Contain","horizontal-cover"===x&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===x&&"reactEasyCrop_Cover_Vertical","auto-cover"===x&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),S)},i,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:r.__assign(r.__assign({},y),{transform:a||"translate("+c+"px, "+l+"px) rotate("+p+"deg) scale("+d+")"}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map((function(e){return s.default.createElement("source",r.__assign({key:e.src},e))}))),this.state.cropSize&&s.default.createElement("div",{style:r.__assign(r.__assign({},g),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:_("reactEasyCrop_CropArea","round"===h&&"reactEasyCrop_CropAreaRound",f&&"reactEasyCrop_CropAreaGrid",C)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(s.default.Component);t.default=S,t.getInitialCropFromCroppedAreaPercentages=g,t.getInitialCropFromCroppedAreaPixels=y},42410:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return C},__await:function(){return y},__awaiter:function(){return l},__classPrivateFieldGet:function(){return E},__classPrivateFieldSet:function(){return M},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return o},__generator:function(){return p},__importDefault:function(){return P},__importStar:function(){return x},__makeTemplateObject:function(){return _},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return m},__spreadArrays:function(){return g},__values:function(){return f}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function p(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return S(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function M(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}}]);
//# sourceMappingURL=883.3479fd89.chunk.js.map