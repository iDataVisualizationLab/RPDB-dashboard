{"version":3,"file":"static/js/300.073ac46a.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/FiberManualRecord.js","../node_modules/@mui/icons-material/NavigateBefore.js","../node_modules/@mui/icons-material/NavigateNext.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/framer-motion/dist/framer-motion.cjs.js","../node_modules/framer-motion/node_modules/@emotion/memoize/dist/memoize.browser.esm.js","../node_modules/framer-motion/node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","../node_modules/framesync/dist/framesync.cjs.js","../node_modules/hey-listen/dist/hey-listen.es.js","../node_modules/object-assign/index.js","../node_modules/popmotion/dist/popmotion.cjs.js","../node_modules/react-fast-compare/index.js","../node_modules/react-helmet/es/Helmet.js","../node_modules/react-material-ui-carousel/dist/components/Carousel.js","../node_modules/react-material-ui-carousel/dist/components/CarouselItem.js","../node_modules/react-material-ui-carousel/dist/components/Indicators.js","../node_modules/react-material-ui-carousel/dist/components/Styled.js","../node_modules/react-material-ui-carousel/dist/components/util.js","../node_modules/react-material-ui-carousel/dist/index.js","../node_modules/react-side-effect/lib/index.js","../node_modules/style-value-types/dist/valueTypes.cjs.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"8\"\n}), 'FiberManualRecord');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'NavigateBefore');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\nvar _utils = require(\"@mui/material/utils\");","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar tslib = require('tslib');\nvar React = require('react');\nvar heyListen = require('hey-listen');\nvar styleValueTypes = require('style-value-types');\nvar popmotion = require('popmotion');\nvar sync = require('framesync');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nfunction _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = Object.create(null);\n    if (e) {\n        Object.keys(e).forEach(function (k) {\n            if (k !== 'default') {\n                var d = Object.getOwnPropertyDescriptor(e, k);\n                Object.defineProperty(n, k, d.get ? d : {\n                    enumerable: true,\n                    get: function () {\n                        return e[k];\n                    }\n                });\n            }\n        });\n    }\n    n['default'] = e;\n    return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\nvar sync__default = /*#__PURE__*/_interopDefaultLegacy(sync);\n\nvar createDefinition = function (propNames) { return ({\n    isEnabled: function (props) { return propNames.some(function (name) { return !!props[name]; }); },\n}); };\nvar featureDefinitions = {\n    measureLayout: createDefinition([\n        \"layout\",\n        \"layoutId\",\n        \"drag\",\n        \"_layoutResetTransform\",\n    ]),\n    animation: createDefinition([\n        \"animate\",\n        \"exit\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ]),\n    exit: createDefinition([\"exit\"]),\n    drag: createDefinition([\"drag\", \"dragControls\"]),\n    focus: createDefinition([\"whileFocus\"]),\n    hover: createDefinition([\"whileHover\", \"onHoverStart\", \"onHoverEnd\"]),\n    tap: createDefinition([\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"]),\n    pan: createDefinition([\n        \"onPan\",\n        \"onPanStart\",\n        \"onPanSessionStart\",\n        \"onPanEnd\",\n    ]),\n    layoutAnimation: createDefinition([\"layout\", \"layoutId\"]),\n};\nfunction loadFeatures(features) {\n    for (var key in features) {\n        var Component = features[key];\n        if (Component !== null)\n            featureDefinitions[key].Component = Component;\n    }\n}\n\nvar LazyContext = React.createContext({ strict: false });\n\nvar featureNames = Object.keys(featureDefinitions);\nvar numFeatures = featureNames.length;\n/**\n * Load features via renderless components based on the provided MotionProps.\n */\nfunction useFeatures(props, visualElement, preloadedFeatures) {\n    var features = [];\n    var lazyContext = React.useContext(LazyContext);\n    if (!visualElement)\n        return null;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        lazyContext.strict) {\n        heyListen.invariant(false, \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\");\n    }\n    for (var i = 0; i < numFeatures; i++) {\n        var name_1 = featureNames[i];\n        var _a = featureDefinitions[name_1], isEnabled = _a.isEnabled, Component = _a.Component;\n        /**\n         * It might be possible in the future to use this moment to\n         * dynamically request functionality. In initial tests this\n         * was producing a lot of duplication amongst bundles.\n         */\n        if (isEnabled(props) && Component) {\n            features.push(React__namespace.createElement(Component, tslib.__assign({ key: name_1 }, props, { visualElement: visualElement })));\n        }\n    }\n    return features;\n}\n\n/**\n * @public\n */\nvar MotionConfigContext = React.createContext({\n    transformPagePoint: function (p) { return p; },\n    isStatic: false,\n});\n\nvar MotionContext = React.createContext({});\nfunction useVisualElementContext() {\n    return React.useContext(MotionContext).visualElement;\n}\n\n/**\n * @public\n */\nvar PresenceContext = React.createContext(null);\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    var ref = React.useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    var context = React.useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    var isPresent = context.isPresent, onExitComplete = context.onExitComplete, register = context.register;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    // Replace with useOpaqueId when released in React\n    var id = useUniqueId();\n    React.useEffect(function () { return register(id); }, []);\n    var safeToRemove = function () { return onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete(id); };\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(React.useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\nvar counter = 0;\nvar incrementId = function () { return counter++; };\nvar useUniqueId = function () { return useConstant(incrementId); };\n\n/**\n * @internal\n */\nvar LayoutGroupContext = React.createContext(null);\n\nvar isBrowser = typeof window !== \"undefined\";\n\nvar useIsomorphicLayoutEffect = isBrowser ? React.useLayoutEffect : React.useEffect;\n\nfunction useLayoutId(_a) {\n    var layoutId = _a.layoutId;\n    var layoutGroupId = React.useContext(LayoutGroupContext);\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    var config = React.useContext(MotionConfigContext);\n    var lazyContext = React.useContext(LazyContext);\n    var parent = useVisualElementContext();\n    var presenceContext = React.useContext(PresenceContext);\n    var layoutId = useLayoutId(props);\n    var visualElementRef = React.useRef(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement)\n        createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState: visualState,\n            parent: parent,\n            props: tslib.__assign(tslib.__assign({}, props), { layoutId: layoutId }),\n            presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n            blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n        });\n    }\n    var visualElement = visualElementRef.current;\n    useIsomorphicLayoutEffect(function () {\n        if (!visualElement)\n            return;\n        visualElement.setProps(tslib.__assign(tslib.__assign(tslib.__assign({}, config), props), { layoutId: layoutId }));\n        visualElement.isPresent = isPresent(presenceContext);\n        visualElement.isPresenceRoot =\n            !parent || parent.presenceId !== (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id);\n        /**\n         * Fire a render to ensure the latest state is reflected on-screen.\n         */\n        visualElement.syncRender();\n    });\n    React.useEffect(function () {\n        var _a;\n        if (!visualElement)\n            return;\n        /**\n         * In a future refactor we can replace the features-as-components and\n         * have this loop through them all firing \"effect\" listeners\n         */\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    useIsomorphicLayoutEffect(function () { return function () { return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(); }; }, []);\n    return visualElement;\n}\n\nfunction isRefObject(ref) {\n    return (typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return React.useCallback(function (instance) {\n        var _a;\n        instance && ((_a = visualState.mount) === null || _a === void 0 ? void 0 : _a.call(visualState, instance));\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\n/**\n * Decides if the supplied variable is an array of variant labels\n */\nfunction isVariantLabels(v) {\n    return Array.isArray(v);\n}\n/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || isVariantLabels(v);\n}\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    var current = {};\n    visualElement.forEachValue(function (value, key) { return (current[key] = value.get()); });\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity$1(visualElement) {\n    var velocity = {};\n    visualElement.forEachValue(function (value, key) { return (velocity[key] = value.getVelocity()); });\n    return velocity;\n}\nfunction resolveVariantFromProps(props, definition, custom, currentValues, currentVelocity) {\n    var _a;\n    if (currentValues === void 0) { currentValues = {}; }\n    if (currentVelocity === void 0) { currentVelocity = {}; }\n    if (typeof definition === \"string\") {\n        definition = (_a = props.variants) === null || _a === void 0 ? void 0 : _a[definition];\n    }\n    return typeof definition === \"function\"\n        ? definition(custom !== null && custom !== void 0 ? custom : props.custom, currentValues, currentVelocity)\n        : definition;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    var props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== null && custom !== void 0 ? custom : props.custom, getCurrent(visualElement), getVelocity$1(visualElement));\n}\nfunction checkIfControllingVariants(props) {\n    var _a;\n    return (typeof ((_a = props.animate) === null || _a === void 0 ? void 0 : _a.start) === \"function\" ||\n        isVariantLabel(props.initial) ||\n        isVariantLabel(props.animate) ||\n        isVariantLabel(props.whileHover) ||\n        isVariantLabel(props.whileDrag) ||\n        isVariantLabel(props.whileTap) ||\n        isVariantLabel(props.whileFocus) ||\n        isVariantLabel(props.exit));\n}\nfunction checkIfVariantNode(props) {\n    return Boolean(checkIfControllingVariants(props) || props.variants);\n}\n\nfunction getCurrentTreeVariants(props, context) {\n    if (checkIfControllingVariants(props)) {\n        var initial = props.initial, animate = props.animate;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nfunction useCreateMotionContext(props, isStatic) {\n    var _a = getCurrentTreeVariants(props, React.useContext(MotionContext)), initial = _a.initial, animate = _a.animate;\n    return React.useMemo(function () { return ({ initial: initial, animate: animate }); }, \n    /**\n     * Only break memoisation in static mode\n     */\n    isStatic\n        ? [\n            variantLabelsAsDependency(initial),\n            variantLabelsAsDependency(animate),\n        ]\n        : []);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n *\n * @internal\n */\nfunction createMotionComponent(_a) {\n    var preloadedFeatures = _a.preloadedFeatures, createVisualElement = _a.createVisualElement, useRender = _a.useRender, useVisualState = _a.useVisualState, Component = _a.Component;\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we're rendering in a static environment, we only visually update the component\n         * as a result of a React-rerender rather than interactions or animations. This\n         * means we don't need to load additional memory structures like VisualElement,\n         * or any gesture/animation features.\n         */\n        var isStatic = React.useContext(MotionConfigContext).isStatic;\n        var features = null;\n        /**\n         * Create the tree context. This is memoized and will only trigger renders\n         * when the current tree variant changes in static mode.\n         */\n        var context = useCreateMotionContext(props, isStatic);\n        /**\n         *\n         */\n        var visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, props, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             *\n             * TODO: The intention is to move these away from a React-centric to a\n             * VisualElement-centric lifecycle scheme.\n             */\n            features = useFeatures(props, context.visualElement, preloadedFeatures);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React__namespace.createElement(React__namespace.Fragment, null,\n            React__namespace.createElement(MotionContext.Provider, { value: context }, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic)),\n            features));\n    }\n    return React.forwardRef(MotionComponent);\n}\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig) {\n        if (customMotionComponentConfig === void 0) { customMotionComponentConfig = {}; }\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    var componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: function (_target, key) {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\n/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nvar lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"svg\",\n    \"switch\",\n    \"symbol\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nvar valueScaleCorrection = {};\n/**\n * @internal\n */\nfunction addScaleCorrection(correctors) {\n    for (var key in correctors) {\n        valueScaleCorrection[key] = correctors[key];\n    }\n}\n\n/**\n * A list of all transformable axes. We'll use this list to generated a version\n * of each axes for each transform.\n */\nvar transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * An ordered array of each transformable value. By default, transform values\n * will be sorted to this order.\n */\nvar order = [\"translate\", \"scale\", \"rotate\", \"skew\"];\n/**\n * Generate a list of every possible transform key.\n */\nvar transformProps = [\"transformPerspective\", \"x\", \"y\", \"z\"];\norder.forEach(function (operationKey) {\n    return transformAxes.forEach(function (axesKey) {\n        return transformProps.push(operationKey + axesKey);\n    });\n});\n/**\n * A function to use with Array.sort to sort transform keys by their default order.\n */\nfunction sortTransformProps(a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n/**\n * A quick lookup for transform props.\n */\nvar transformPropSet = new Set(transformProps);\nfunction isTransformProp(key) {\n    return transformPropSet.has(key);\n}\n/**\n * A quick lookup for transform origin props\n */\nvar transformOriginProps = new Set([\"originX\", \"originY\", \"originZ\"]);\nfunction isTransformOriginProp(key) {\n    return transformOriginProps.has(key);\n}\n\nfunction isForcedMotionValue(key, _a) {\n    var layout = _a.layout, layoutId = _a.layoutId;\n    return (isTransformProp(key) ||\n        isTransformOriginProp(key) ||\n        ((layout || layoutId !== undefined) &&\n            (!!valueScaleCorrection[key] || key === \"opacity\")));\n}\n\nvar isMotionValue = function (value) {\n    return value !== null && typeof value === \"object\" && value.getVelocity;\n};\n\nvar translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(_a, _b, transformIsDefault, transformTemplate) {\n    var transform = _a.transform, transformKeys = _a.transformKeys;\n    var _c = _b.enableHardwareAcceleration, enableHardwareAcceleration = _c === void 0 ? true : _c, _d = _b.allowTransformNone, allowTransformNone = _d === void 0 ? true : _d;\n    // The transform string we're going to build into.\n    var transformString = \"\";\n    // Transform keys into their default order - this will determine the output order.\n    transformKeys.sort(sortTransformProps);\n    // Track whether the defined transform has a defined z so we don't add a\n    // second to enable hardware acceleration\n    var transformHasZ = false;\n    // Loop over each transform and build them into transformString\n    var numTransformKeys = transformKeys.length;\n    for (var i = 0; i < numTransformKeys; i++) {\n        var key = transformKeys[i];\n        transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n        if (key === \"z\")\n            transformHasZ = true;\n    }\n    if (!transformHasZ && enableHardwareAcceleration) {\n        transformString += \"translateZ(0)\";\n    }\n    else {\n        transformString = transformString.trim();\n    }\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n/**\n * Build a transformOrigin style. Uses the same defaults as the browser for\n * undefined origins.\n */\nfunction buildTransformOrigin(_a) {\n    var _b = _a.originX, originX = _b === void 0 ? \"50%\" : _b, _c = _a.originY, originY = _c === void 0 ? \"50%\" : _c, _d = _a.originZ, originZ = _d === void 0 ? 0 : _d;\n    return originX + \" \" + originY + \" \" + originZ;\n}\n\n/**\n * Returns true if the provided key is a CSS variable\n */\nfunction isCSSVariable$1(key) {\n    return key.startsWith(\"--\");\n}\n\n/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nvar getValueAsType = function (value, type) {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nvar int = tslib.__assign(tslib.__assign({}, styleValueTypes.number), { transform: Math.round });\n\nvar numberValueTypes = {\n    // Border props\n    borderWidth: styleValueTypes.px,\n    borderTopWidth: styleValueTypes.px,\n    borderRightWidth: styleValueTypes.px,\n    borderBottomWidth: styleValueTypes.px,\n    borderLeftWidth: styleValueTypes.px,\n    borderRadius: styleValueTypes.px,\n    radius: styleValueTypes.px,\n    borderTopLeftRadius: styleValueTypes.px,\n    borderTopRightRadius: styleValueTypes.px,\n    borderBottomRightRadius: styleValueTypes.px,\n    borderBottomLeftRadius: styleValueTypes.px,\n    // Positioning props\n    width: styleValueTypes.px,\n    maxWidth: styleValueTypes.px,\n    height: styleValueTypes.px,\n    maxHeight: styleValueTypes.px,\n    size: styleValueTypes.px,\n    top: styleValueTypes.px,\n    right: styleValueTypes.px,\n    bottom: styleValueTypes.px,\n    left: styleValueTypes.px,\n    // Spacing props\n    padding: styleValueTypes.px,\n    paddingTop: styleValueTypes.px,\n    paddingRight: styleValueTypes.px,\n    paddingBottom: styleValueTypes.px,\n    paddingLeft: styleValueTypes.px,\n    margin: styleValueTypes.px,\n    marginTop: styleValueTypes.px,\n    marginRight: styleValueTypes.px,\n    marginBottom: styleValueTypes.px,\n    marginLeft: styleValueTypes.px,\n    // Transform props\n    rotate: styleValueTypes.degrees,\n    rotateX: styleValueTypes.degrees,\n    rotateY: styleValueTypes.degrees,\n    rotateZ: styleValueTypes.degrees,\n    scale: styleValueTypes.scale,\n    scaleX: styleValueTypes.scale,\n    scaleY: styleValueTypes.scale,\n    scaleZ: styleValueTypes.scale,\n    skew: styleValueTypes.degrees,\n    skewX: styleValueTypes.degrees,\n    skewY: styleValueTypes.degrees,\n    distance: styleValueTypes.px,\n    translateX: styleValueTypes.px,\n    translateY: styleValueTypes.px,\n    translateZ: styleValueTypes.px,\n    x: styleValueTypes.px,\n    y: styleValueTypes.px,\n    z: styleValueTypes.px,\n    perspective: styleValueTypes.px,\n    transformPerspective: styleValueTypes.px,\n    opacity: styleValueTypes.alpha,\n    originX: styleValueTypes.progressPercentage,\n    originY: styleValueTypes.progressPercentage,\n    originZ: styleValueTypes.px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: styleValueTypes.alpha,\n    strokeOpacity: styleValueTypes.alpha,\n    numOctaves: int,\n};\n\nfunction buildHTMLStyles(state, latestValues, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n    var _a;\n    var style = state.style, vars = state.vars, transform = state.transform, transformKeys = state.transformKeys, transformOrigin = state.transformOrigin;\n    // Empty the transformKeys array. As we're throwing out refs to its items\n    // this might not be as cheap as suspected. Maybe using the array as a buffer\n    // with a manual incrementation would be better.\n    transformKeys.length = 0;\n    // Track whether we encounter any transform or transformOrigin values.\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    var transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (var key in latestValues) {\n        var value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariable$1(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        var valueType = numberValueTypes[key];\n        var valueAsType = getValueAsType(value, valueType);\n        if (isTransformProp(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            transformKeys.push(key);\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0))\n                transformIsNone = false;\n        }\n        else if (isTransformOriginProp(key)) {\n            transformOrigin[key] = valueAsType;\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n        }\n        else {\n            /**\n             * If layout projection is on, and we need to perform scale correction for this\n             * value type, perform it.\n             */\n            if ((projection === null || projection === void 0 ? void 0 : projection.isHydrated) &&\n                (layoutState === null || layoutState === void 0 ? void 0 : layoutState.isHydrated) &&\n                valueScaleCorrection[key]) {\n                var correctedValue = valueScaleCorrection[key].process(value, layoutState, projection);\n                /**\n                 * Scale-correctable values can define a number of other values to break\n                 * down into. For instance borderRadius needs applying to borderBottomLeftRadius etc\n                 */\n                var applyTo = valueScaleCorrection[key].applyTo;\n                if (applyTo) {\n                    var num = applyTo.length;\n                    for (var i = 0; i < num; i++) {\n                        style[applyTo[i]] = correctedValue;\n                    }\n                }\n                else {\n                    style[key] = correctedValue;\n                }\n            }\n            else {\n                style[key] = valueAsType;\n            }\n        }\n    }\n    if (layoutState &&\n        projection &&\n        buildProjectionTransform &&\n        buildProjectionTransformOrigin) {\n        style.transform = buildProjectionTransform(layoutState.deltaFinal, layoutState.treeScale, hasTransform ? transform : undefined);\n        if (transformTemplate) {\n            style.transform = transformTemplate(transform, style.transform);\n        }\n        style.transformOrigin = buildProjectionTransformOrigin(layoutState);\n    }\n    else {\n        if (hasTransform) {\n            style.transform = buildTransform(state, options, transformIsNone, transformTemplate);\n        }\n        if (hasTransformOrigin) {\n            style.transformOrigin = buildTransformOrigin(transformOrigin);\n        }\n    }\n}\n\nvar createHtmlRenderState = function () { return ({\n    style: {},\n    transform: {},\n    transformKeys: [],\n    transformOrigin: {},\n    vars: {},\n}); };\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (var key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues(_a, visualState, isStatic) {\n    var transformTemplate = _a.transformTemplate;\n    return React.useMemo(function () {\n        var state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, undefined, undefined, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        var vars = state.vars, style = state.style;\n        return tslib.__assign(tslib.__assign({}, vars), style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    var styleProp = props.style || {};\n    var style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    if (props.transformValues) {\n        style = props.transformValues(style);\n    }\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    var htmlProps = {};\n    var style = useStyle(props, visualState, isStatic);\n    if (Boolean(props.drag)) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect = style.WebkitUserSelect = style.WebkitTouchCallout =\n            \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : \"pan-\" + (props.drag === \"x\" ? \"y\" : \"x\");\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\n/**\n * A list of all valid MotionProps.\n *\n * @internalremarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nvar validMotionProps = new Set([\n    \"initial\",\n    \"animate\",\n    \"exit\",\n    \"style\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"transformValues\",\n    \"custom\",\n    \"inherit\",\n    \"layout\",\n    \"layoutId\",\n    \"_layoutResetTransform\",\n    \"onLayoutAnimationComplete\",\n    \"onViewportBoxUpdate\",\n    \"onLayoutMeasure\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"drag\",\n    \"dragControls\",\n    \"dragListener\",\n    \"dragConstraints\",\n    \"dragDirectionLock\",\n    \"_dragX\",\n    \"_dragY\",\n    \"dragElastic\",\n    \"dragMomentum\",\n    \"dragPropagation\",\n    \"dragTransition\",\n    \"whileDrag\",\n    \"onPan\",\n    \"onPanStart\",\n    \"onPanEnd\",\n    \"onPanSessionStart\",\n    \"onTap\",\n    \"onTapStart\",\n    \"onTapCancel\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"whileFocus\",\n    \"whileTap\",\n    \"whileHover\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return validMotionProps.has(key);\n}\n\nvar shouldForward = function (key) { return !isValidMotionProp(key); };\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    var emotionIsPropValid_1 = require(\"@emotion/is-prop-valid\").default;\n    shouldForward = function (key) {\n        // Handle events explicitly as Emotion validates them all as true\n        if (key.startsWith(\"on\")) {\n            return !isValidMotionProp(key);\n        }\n        else {\n            return emotionIsPropValid_1(key);\n        }\n    };\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    var filteredProps = {};\n    for (var key in props) {\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nfunction calcOrigin$1(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : styleValueTypes.px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    var pxOriginX = calcOrigin$1(originX, dimensions.x, dimensions.width);\n    var pxOriginY = calcOrigin$1(originY, dimensions.y, dimensions.height);\n    return pxOriginX + \" \" + pxOriginY;\n}\n\n// Convert a progress 0-1 to a pixels value based on the provided length\nvar progressToPixels = function (progress, length) {\n    return styleValueTypes.px.transform(progress * length);\n};\nvar dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nvar camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, totalLength, length, spacing, offset, useDashCase) {\n    if (spacing === void 0) { spacing = 1; }\n    if (offset === void 0) { offset = 0; }\n    if (useDashCase === void 0) { useDashCase = true; }\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    var keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = progressToPixels(-offset, totalLength);\n    // Build the dash array\n    var pathLength = progressToPixels(length, totalLength);\n    var pathSpacing = progressToPixels(spacing, totalLength);\n    attrs[keys.array] = pathLength + \" \" + pathSpacing;\n}\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, _a, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin) {\n    var attrX = _a.attrX, attrY = _a.attrY, originX = _a.originX, originY = _a.originY, pathLength = _a.pathLength, _b = _a.pathSpacing, pathSpacing = _b === void 0 ? 1 : _b, _c = _a.pathOffset, pathOffset = _c === void 0 ? 0 : _c, \n    // This is object creation, which we try to avoid per-frame.\n    latest = tslib.__rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n    buildHTMLStyles(state, latest, projection, layoutState, options, transformTemplate, buildProjectionTransform, buildProjectionTransformOrigin);\n    state.attrs = state.style;\n    state.style = {};\n    var attrs = state.attrs, style = state.style, dimensions = state.dimensions, totalPathLength = state.totalPathLength;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Treat x/y not as shortcuts but as actual attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    // Build SVG path if one has been measured\n    if (totalPathLength !== undefined && pathLength !== undefined) {\n        buildSVGPath(attrs, totalPathLength, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nvar createSvgRenderState = function () { return (tslib.__assign(tslib.__assign({}, createHtmlRenderState()), { attrs: {} })); };\n\nfunction useSVGProps(props, visualState) {\n    var visualProps = React.useMemo(function () {\n        var state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n        return tslib.__assign(tslib.__assign({}, state.attrs), { style: tslib.__assign({}, state.style) });\n    }, [visualState]);\n    if (props.style) {\n        var rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = tslib.__assign(tslib.__assign({}, rawStyles), visualProps.style);\n    }\n    return visualProps;\n}\n\nfunction createUseRender(forwardMotionProps) {\n    if (forwardMotionProps === void 0) { forwardMotionProps = false; }\n    var useRender = function (Component, props, ref, _a, isStatic) {\n        var latestValues = _a.latestValues;\n        var useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        var visualProps = useVisualProps(props, latestValues, isStatic);\n        var filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        var elementProps = tslib.__assign(tslib.__assign(tslib.__assign({}, filteredProps), visualProps), { ref: ref });\n        return React.createElement(Component, elementProps);\n    };\n    return useRender;\n}\n\nvar CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = \"$1-$2\";\n/**\n * Convert camelCase to dash-case properties.\n */\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nfunction renderHTML(element, _a) {\n    var style = _a.style, vars = _a.vars;\n    // Directly assign style into the Element's style prop. In tests Object.assign is the\n    // fastest way to assign styles.\n    Object.assign(element.style, style);\n    // Loop over any CSS variables and assign those.\n    for (var key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\n/**\n * A set of attribute names that are always read/written as camel case.\n */\nvar camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n]);\n\nfunction renderSVG(element, renderState) {\n    renderHTML(element, renderState);\n    for (var key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nfunction scrapeMotionValuesFromProps$1(props) {\n    var style = props.style;\n    var newValues = {};\n    for (var key in style) {\n        if (isMotionValue(style[key]) || isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nfunction scrapeMotionValuesFromProps(props) {\n    var newValues = scrapeMotionValuesFromProps$1(props);\n    for (var key in props) {\n        if (isMotionValue(props[key])) {\n            var targetKey = key === \"x\" || key === \"y\" ? \"attr\" + key.toUpperCase() : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nfunction isAnimationControls(v) {\n    return typeof v === \"object\" && typeof v.start === \"function\";\n}\n\nvar isKeyframesTarget = function (v) {\n    return Array.isArray(v);\n};\n\nvar isCustomValue = function (v) {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nvar resolveFinalValueInKeyframes = function (v) {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n *\n * @internal\n */\nfunction resolveMotionValue(value) {\n    var unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nfunction makeState(_a, props, context, presenceContext) {\n    var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps, createRenderState = _a.createRenderState, onMount = _a.onMount;\n    var state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = function (instance) { return onMount(props, instance, state); };\n    }\n    return state;\n}\nvar makeUseVisualState = function (config) { return function (props, isStatic) {\n    var context = React.useContext(MotionContext);\n    var presenceContext = React.useContext(PresenceContext);\n    return isStatic\n        ? makeState(config, props, context, presenceContext)\n        : useConstant(function () { return makeState(config, props, context, presenceContext); });\n}; };\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    var values = {};\n    var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n    var motionValues = scrapeMotionValues(props);\n    for (var key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    var initial = props.initial, animate = props.animate;\n    var isControllingVariants = checkIfControllingVariants(props);\n    var isVariantNode = checkIfVariantNode(props);\n    if (context &&\n        isVariantNode &&\n        !isControllingVariants &&\n        props.inherit !== false) {\n        initial !== null && initial !== void 0 ? initial : (initial = context.initial);\n        animate !== null && animate !== void 0 ? animate : (animate = context.animate);\n    }\n    var variantToSet = blockInitialAnimation || initial === false ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach(function (definition) {\n            var resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            var transitionEnd = resolved.transitionEnd; resolved.transition; var target = tslib.__rest(resolved, [\"transitionEnd\", \"transition\"]);\n            for (var key in target)\n                values[key] = target[key];\n            for (var key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nvar svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: function (props, instance, _a) {\n            var renderState = _a.renderState, latestValues = _a.latestValues;\n            try {\n                renderState.dimensions =\n                    typeof instance.getBBox ===\n                        \"function\"\n                        ? instance.getBBox()\n                        : instance.getBoundingClientRect();\n            }\n            catch (e) {\n                // Most likely trying to measure an unrendered element under Firefox\n                renderState.dimensions = {\n                    x: 0,\n                    y: 0,\n                    width: 0,\n                    height: 0,\n                };\n            }\n            if (isPath(instance)) {\n                renderState.totalPathLength = instance.getTotalLength();\n            }\n            buildSVGAttrs(renderState, latestValues, undefined, undefined, { enableHardwareAcceleration: false }, props.transformTemplate);\n            // TODO: Replace with direct assignment\n            renderSVG(instance, renderState);\n        },\n    }),\n};\nfunction isPath(element) {\n    return element.tagName === \"path\";\n}\n\nvar htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps$1,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nfunction createDomMotionConfig(Component, _a, preloadedFeatures, createVisualElement) {\n    var _b = _a.forwardMotionProps, forwardMotionProps = _b === void 0 ? false : _b;\n    var baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return tslib.__assign(tslib.__assign({}, baseConfig), { preloadedFeatures: preloadedFeatures, useRender: createUseRender(forwardMotionProps), createVisualElement: createVisualElement,\n        Component: Component });\n}\n\nvar AnimationType;\n(function (AnimationType) {\n    AnimationType[\"Animate\"] = \"animate\";\n    AnimationType[\"Hover\"] = \"whileHover\";\n    AnimationType[\"Tap\"] = \"whileTap\";\n    AnimationType[\"Drag\"] = \"whileDrag\";\n    AnimationType[\"Focus\"] = \"whileFocus\";\n    AnimationType[\"Exit\"] = \"exit\";\n})(AnimationType || (AnimationType = {}));\n\nfunction addDomEvent(target, eventName, handler, options) {\n    target.addEventListener(eventName, handler, options);\n    return function () { return target.removeEventListener(eventName, handler, options); };\n}\n/**\n * Attaches an event listener directly to the provided DOM element.\n *\n * Bypassing React's event system can be desirable, for instance when attaching non-passive\n * event handlers.\n *\n * ```jsx\n * const ref = useRef(null)\n *\n * useDomEvent(ref, 'wheel', onWheel, { passive: false })\n *\n * return <div ref={ref} />\n * ```\n *\n * @param ref - React.RefObject that's been provided to the element you want to bind the listener to.\n * @param eventName - Name of the event you want listen for.\n * @param handler - Function to fire when receiving the event.\n * @param options - Options to pass to `Event.addEventListener`.\n *\n * @public\n */\nfunction useDomEvent(ref, eventName, handler, options) {\n    React.useEffect(function () {\n        var element = ref.current;\n        if (handler && element) {\n            return addDomEvent(element, eventName, handler, options);\n        }\n    }, [ref, eventName, handler, options]);\n}\n\n/**\n *\n * @param props\n * @param ref\n * @internal\n */\nfunction useFocusGesture(_a) {\n    var whileFocus = _a.whileFocus, visualElement = _a.visualElement;\n    var onFocus = function () {\n        var _a;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, true);\n    };\n    var onBlur = function () {\n        var _a;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Focus, false);\n    };\n    useDomEvent(visualElement, \"focus\", whileFocus ? onFocus : undefined);\n    useDomEvent(visualElement, \"blur\", whileFocus ? onBlur : undefined);\n}\n\nfunction isMouseEvent(event) {\n    // PointerEvent inherits from MouseEvent so we can't use a straight instanceof check.\n    if (typeof PointerEvent !== \"undefined\" && event instanceof PointerEvent) {\n        return !!(event.pointerType === \"mouse\");\n    }\n    return event instanceof MouseEvent;\n}\nfunction isTouchEvent(event) {\n    var hasTouches = !!event.touches;\n    return hasTouches;\n}\n\n/**\n * Filters out events not attached to the primary pointer (currently left mouse button)\n * @param eventHandler\n */\nfunction filterPrimaryPointer(eventHandler) {\n    return function (event) {\n        var isMouseEvent = event instanceof MouseEvent;\n        var isPrimaryPointer = !isMouseEvent ||\n            (isMouseEvent && event.button === 0);\n        if (isPrimaryPointer) {\n            eventHandler(event);\n        }\n    };\n}\nvar defaultPagePoint = { pageX: 0, pageY: 0 };\nfunction pointFromTouch(e, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    var primaryTouch = e.touches[0] || e.changedTouches[0];\n    var point = primaryTouch || defaultPagePoint;\n    return {\n        x: point[pointType + \"X\"],\n        y: point[pointType + \"Y\"],\n    };\n}\nfunction pointFromMouse(point, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    return {\n        x: point[pointType + \"X\"],\n        y: point[pointType + \"Y\"],\n    };\n}\nfunction extractEventInfo(event, pointType) {\n    if (pointType === void 0) { pointType = \"page\"; }\n    return {\n        point: isTouchEvent(event)\n            ? pointFromTouch(event, pointType)\n            : pointFromMouse(event, pointType),\n    };\n}\nfunction getViewportPointFromEvent(event) {\n    return extractEventInfo(event, \"client\");\n}\nvar wrapHandler = function (handler, shouldFilterPrimaryPointer) {\n    if (shouldFilterPrimaryPointer === void 0) { shouldFilterPrimaryPointer = false; }\n    var listener = function (event) {\n        return handler(event, extractEventInfo(event));\n    };\n    return shouldFilterPrimaryPointer\n        ? filterPrimaryPointer(listener)\n        : listener;\n};\n\n// We check for event support via functions in case they've been mocked by a testing suite.\nvar supportsPointerEvents = function () {\n    return isBrowser && window.onpointerdown === null;\n};\nvar supportsTouchEvents = function () {\n    return isBrowser && window.ontouchstart === null;\n};\nvar supportsMouseEvents = function () {\n    return isBrowser && window.onmousedown === null;\n};\n\nvar mouseEventNames = {\n    pointerdown: \"mousedown\",\n    pointermove: \"mousemove\",\n    pointerup: \"mouseup\",\n    pointercancel: \"mousecancel\",\n    pointerover: \"mouseover\",\n    pointerout: \"mouseout\",\n    pointerenter: \"mouseenter\",\n    pointerleave: \"mouseleave\",\n};\nvar touchEventNames = {\n    pointerdown: \"touchstart\",\n    pointermove: \"touchmove\",\n    pointerup: \"touchend\",\n    pointercancel: \"touchcancel\",\n};\nfunction getPointerEventName(name) {\n    if (supportsPointerEvents()) {\n        return name;\n    }\n    else if (supportsTouchEvents()) {\n        return touchEventNames[name];\n    }\n    else if (supportsMouseEvents()) {\n        return mouseEventNames[name];\n    }\n    return name;\n}\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, getPointerEventName(eventName), wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\nfunction usePointerEvent(ref, eventName, handler, options) {\n    return useDomEvent(ref, getPointerEventName(eventName), handler && wrapHandler(handler, eventName === \"pointerdown\"), options);\n}\n\nfunction createLock(name) {\n    var lock = null;\n    return function () {\n        var openLock = function () {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nvar globalHorizontalLock = createLock(\"dragHorizontal\");\nvar globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    var lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        var openHorizontal_1 = globalHorizontalLock();\n        var openVertical_1 = globalVerticalLock();\n        if (openHorizontal_1 && openVertical_1) {\n            lock = function () {\n                openHorizontal_1();\n                openVertical_1();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal_1)\n                openHorizontal_1();\n            if (openVertical_1)\n                openVertical_1();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    var openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nfunction createHoverEvent(visualElement, isActive, callback) {\n    return function (event, info) {\n        var _a;\n        if (!isMouseEvent(event) || isDragActive())\n            return;\n        callback === null || callback === void 0 ? void 0 : callback(event, info);\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Hover, isActive);\n    };\n}\nfunction useHoverGesture(_a) {\n    var onHoverStart = _a.onHoverStart, onHoverEnd = _a.onHoverEnd, whileHover = _a.whileHover, visualElement = _a.visualElement;\n    usePointerEvent(visualElement, \"pointerenter\", onHoverStart || whileHover\n        ? createHoverEvent(visualElement, true, onHoverStart)\n        : undefined);\n    usePointerEvent(visualElement, \"pointerleave\", onHoverEnd || whileHover\n        ? createHoverEvent(visualElement, false, onHoverEnd)\n        : undefined);\n}\n\n/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nvar isNodeOrChild = function (parent, child) {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nfunction useUnmountEffect(callback) {\n    return React.useEffect(function () { return function () { return callback(); }; }, []);\n}\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_a) {\n    var onTap = _a.onTap, onTapStart = _a.onTapStart, onTapCancel = _a.onTapCancel, whileTap = _a.whileTap, visualElement = _a.visualElement;\n    var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n    var isPressing = React.useRef(false);\n    var cancelPointerEndListeners = React.useRef(null);\n    function removePointerEndListener() {\n        var _a;\n        (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n        cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n        var _a;\n        removePointerEndListener();\n        isPressing.current = false;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n        return !isDragActive();\n    }\n    function onPointerUp(event, info) {\n        if (!checkPointerEnd())\n            return;\n        /**\n         * We only count this as a tap gesture if the event.target is the same\n         * as, or a child of, this component's element\n         */\n        !isNodeOrChild(visualElement.getInstance(), event.target)\n            ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info)\n            : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n    }\n    function onPointerCancel(event, info) {\n        if (!checkPointerEnd())\n            return;\n        onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n    }\n    function onPointerDown(event, info) {\n        var _a;\n        removePointerEndListener();\n        if (isPressing.current)\n            return;\n        isPressing.current = true;\n        cancelPointerEndListeners.current = popmotion.pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n        onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n    useUnmountEffect(removePointerEndListener);\n}\n\nvar makeRenderlessComponent = function (hook) { return function (props) {\n    hook(props);\n    return null;\n}; };\n\nvar gestureAnimations = {\n    tap: makeRenderlessComponent(useTapGesture),\n    focus: makeRenderlessComponent(useFocusGesture),\n    hover: makeRenderlessComponent(useHoverGesture),\n};\n\nfunction shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    var prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (var i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\n/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nvar secondsToMilliseconds = function (seconds) { return seconds * 1000; };\n\nvar easingLookup = {\n    linear: popmotion.linear,\n    easeIn: popmotion.easeIn,\n    easeInOut: popmotion.easeInOut,\n    easeOut: popmotion.easeOut,\n    circIn: popmotion.circIn,\n    circInOut: popmotion.circInOut,\n    circOut: popmotion.circOut,\n    backIn: popmotion.backIn,\n    backInOut: popmotion.backInOut,\n    backOut: popmotion.backOut,\n    anticipate: popmotion.anticipate,\n    bounceIn: popmotion.bounceIn,\n    bounceInOut: popmotion.bounceInOut,\n    bounceOut: popmotion.bounceOut,\n};\nvar easingDefinitionToFunction = function (definition) {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        heyListen.invariant(definition.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n        var _a = tslib.__read(definition, 4), x1 = _a[0], y1 = _a[1], x2 = _a[2], y2 = _a[3];\n        return popmotion.cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        heyListen.invariant(easingLookup[definition] !== undefined, \"Invalid easing type '\" + definition + \"'\");\n        return easingLookup[definition];\n    }\n    return definition;\n};\nvar isEasingArray = function (ease) {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nvar isAnimatable = function (key, value) {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        styleValueTypes.complex.test(value) && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nvar underDampedSpring = function () { return ({\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10,\n}); };\nvar criticallyDampedSpring = function (to) { return ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restDelta: 0.01,\n    restSpeed: 10,\n}); };\nvar linearTween = function () { return ({\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3,\n}); };\nvar keyframes = function (values) { return ({\n    type: \"keyframes\",\n    duration: 0.8,\n    values: values,\n}); };\nvar defaultTransitions = {\n    x: underDampedSpring,\n    y: underDampedSpring,\n    z: underDampedSpring,\n    rotate: underDampedSpring,\n    rotateX: underDampedSpring,\n    rotateY: underDampedSpring,\n    rotateZ: underDampedSpring,\n    scaleX: criticallyDampedSpring,\n    scaleY: criticallyDampedSpring,\n    scale: criticallyDampedSpring,\n    opacity: linearTween,\n    backgroundColor: linearTween,\n    color: linearTween,\n    default: criticallyDampedSpring,\n};\nvar getDefaultTransition = function (valueKey, to) {\n    var transitionFactory;\n    if (isKeyframesTarget(to)) {\n        transitionFactory = keyframes;\n    }\n    else {\n        transitionFactory =\n            defaultTransitions[valueKey] || defaultTransitions.default;\n    }\n    return tslib.__assign({ to: to }, transitionFactory(to));\n};\n\n/**\n * A map of default value types for common values\n */\nvar defaultValueTypes = tslib.__assign(tslib.__assign({}, numberValueTypes), { \n    // Color props\n    color: styleValueTypes.color, backgroundColor: styleValueTypes.color, outlineColor: styleValueTypes.color, fill: styleValueTypes.color, stroke: styleValueTypes.color, \n    // Border props\n    borderColor: styleValueTypes.color, borderTopColor: styleValueTypes.color, borderRightColor: styleValueTypes.color, borderBottomColor: styleValueTypes.color, borderLeftColor: styleValueTypes.color, filter: styleValueTypes.filter, WebkitFilter: styleValueTypes.filter });\n/**\n * Gets the default ValueType for the provided value key\n */\nvar getDefaultValueType = function (key) { return defaultValueTypes[key]; };\n\nfunction getAnimatableNone(key, value) {\n    var _a;\n    var defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== styleValueTypes.filter)\n        defaultValueType = styleValueTypes.complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\n\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined(_a) {\n    _a.when; _a.delay; _a.delayChildren; _a.staggerChildren; _a.staggerDirection; _a.repeat; _a.repeatType; _a.repeatDelay; _a.from; var transition = tslib.__rest(_a, [\"when\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"repeat\", \"repeatType\", \"repeatDelay\", \"from\"]);\n    return !!Object.keys(transition).length;\n}\nvar legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\nfunction convertTransitionToAnimationOptions(_a) {\n    var ease = _a.ease, times = _a.times, yoyo = _a.yoyo, flip = _a.flip, loop = _a.loop, transition = tslib.__rest(_a, [\"ease\", \"times\", \"yoyo\", \"flip\", \"loop\"]);\n    var options = tslib.__assign({}, transition);\n    if (times)\n        options[\"offset\"] = times;\n    /**\n     * Convert any existing durations from seconds to milliseconds\n     */\n    if (transition.duration)\n        options[\"duration\"] = secondsToMilliseconds(transition.duration);\n    if (transition.repeatDelay)\n        options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n    /**\n     * Map easing names to Popmotion's easing functions\n     */\n    if (ease) {\n        options[\"ease\"] = isEasingArray(ease)\n            ? ease.map(easingDefinitionToFunction)\n            : easingDefinitionToFunction(ease);\n    }\n    /**\n     * Support legacy transition API\n     */\n    if (transition.type === \"tween\")\n        options.type = \"keyframes\";\n    /**\n     * TODO: These options are officially removed from the API.\n     */\n    if (yoyo || loop || flip) {\n        heyListen.warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n        legacyRepeatWarning = true;\n        if (yoyo) {\n            options.repeatType = \"reverse\";\n        }\n        else if (loop) {\n            options.repeatType = \"loop\";\n        }\n        else if (flip) {\n            options.repeatType = \"mirror\";\n        }\n        options.repeat = loop || yoyo || flip || transition.repeat;\n    }\n    /**\n     * TODO: Popmotion 9 has the ability to automatically detect whether to use\n     * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n     * It'd be good to introduce a similar thing here.\n     */\n    if (transition.type !== \"spring\")\n        options.type = \"keyframes\";\n    return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\nfunction getDelayFromTransition(transition, key) {\n    var _a;\n    var valueTransition = getValueTransition(transition, key) || {};\n    return (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : 0;\n}\nfunction hydrateKeyframes(options) {\n    if (Array.isArray(options.to) && options.to[0] === null) {\n        options.to = tslib.__spreadArray([], tslib.__read(options.to));\n        options.to[0] = options.from;\n    }\n    return options;\n}\nfunction getPopmotionAnimationOptions(transition, options, key) {\n    var _a;\n    if (Array.isArray(options.to)) {\n        (_a = transition.duration) !== null && _a !== void 0 ? _a : (transition.duration = 0.8);\n    }\n    hydrateKeyframes(options);\n    /**\n     * Get a default transition if none is determined to be defined.\n     */\n    if (!isTransitionDefined(transition)) {\n        transition = tslib.__assign(tslib.__assign({}, transition), getDefaultTransition(key, options.to));\n    }\n    return tslib.__assign(tslib.__assign({}, options), convertTransitionToAnimationOptions(transition));\n}\n/**\n *\n */\nfunction getAnimation(key, value, target, transition, onComplete) {\n    var _a;\n    var valueTransition = getValueTransition(transition, key);\n    var origin = (_a = valueTransition.from) !== null && _a !== void 0 ? _a : value.get();\n    var isTargetAnimatable = isAnimatable(key, target);\n    if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n        /**\n         * If we're trying to animate from \"none\", try and get an animatable version\n         * of the target. This could be improved to work both ways.\n         */\n        origin = getAnimatableNone(key, target);\n    }\n    else if (isZero(origin) && typeof target === \"string\") {\n        origin = getZeroUnit(target);\n    }\n    else if (!Array.isArray(target) &&\n        isZero(target) &&\n        typeof origin === \"string\") {\n        target = getZeroUnit(origin);\n    }\n    var isOriginAnimatable = isAnimatable(key, origin);\n    heyListen.warning(isOriginAnimatable === isTargetAnimatable, \"You are trying to animate \" + key + \" from \\\"\" + origin + \"\\\" to \\\"\" + target + \"\\\". \" + origin + \" is not an animatable value - to enable this animation set \" + origin + \" to a value animatable to \" + target + \" via the `style` property.\");\n    function start() {\n        var options = {\n            from: origin,\n            to: target,\n            velocity: value.getVelocity(),\n            onComplete: onComplete,\n            onUpdate: function (v) { return value.set(v); },\n        };\n        return valueTransition.type === \"inertia\" ||\n            valueTransition.type === \"decay\"\n            ? popmotion.inertia(tslib.__assign(tslib.__assign({}, options), valueTransition))\n            : popmotion.animate(tslib.__assign(tslib.__assign({}, getPopmotionAnimationOptions(valueTransition, options, key)), { onUpdate: function (v) {\n                    var _a;\n                    options.onUpdate(v);\n                    (_a = valueTransition.onUpdate) === null || _a === void 0 ? void 0 : _a.call(valueTransition, v);\n                }, onComplete: function () {\n                    var _a;\n                    options.onComplete();\n                    (_a = valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n                } }));\n    }\n    function set() {\n        var _a;\n        value.set(target);\n        onComplete();\n        (_a = valueTransition === null || valueTransition === void 0 ? void 0 : valueTransition.onComplete) === null || _a === void 0 ? void 0 : _a.call(valueTransition);\n        return { stop: function () { } };\n    }\n    return !isOriginAnimatable ||\n        !isTargetAnimatable ||\n        valueTransition.type === false\n        ? set\n        : start;\n}\nfunction isZero(value) {\n    return (value === 0 ||\n        (typeof value === \"string\" &&\n            parseFloat(value) === 0 &&\n            value.indexOf(\" \") === -1));\n}\nfunction getZeroUnit(potentialUnitType) {\n    return typeof potentialUnitType === \"number\"\n        ? 0\n        : getAnimatableNone(\"\", potentialUnitType);\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n *\n * @internal\n */\nfunction startAnimation(key, value, target, transition) {\n    if (transition === void 0) { transition = {}; }\n    return value.start(function (onComplete) {\n        var delayTimer;\n        var controls;\n        var animation = getAnimation(key, value, target, transition, onComplete);\n        var delay = getDelayFromTransition(transition, key);\n        var start = function () { return (controls = animation()); };\n        if (delay) {\n            delayTimer = setTimeout(start, secondsToMilliseconds(delay));\n        }\n        else {\n            start();\n        }\n        return function () {\n            clearTimeout(delayTimer);\n            controls === null || controls === void 0 ? void 0 : controls.stop();\n        };\n    });\n}\n\n/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nvar isNumericalString = function (v) { return /^\\-?\\d*\\.?\\d+$/.test(v); };\n\nfunction addUniqueItem(arr, item) {\n    arr.indexOf(item) === -1 && arr.push(item);\n}\nfunction removeItem(arr, item) {\n    var index = arr.indexOf(item);\n    index > -1 && arr.splice(index, 1);\n}\n\nvar SubscriptionManager = /** @class */ (function () {\n    function SubscriptionManager() {\n        this.subscriptions = [];\n    }\n    SubscriptionManager.prototype.add = function (handler) {\n        var _this = this;\n        addUniqueItem(this.subscriptions, handler);\n        return function () { return removeItem(_this.subscriptions, handler); };\n    };\n    SubscriptionManager.prototype.notify = function (a, b, c) {\n        var numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (var i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                var handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    };\n    SubscriptionManager.prototype.getSize = function () {\n        return this.subscriptions.length;\n    };\n    SubscriptionManager.prototype.clear = function () {\n        this.subscriptions.length = 0;\n    };\n    return SubscriptionManager;\n}());\n\nvar isFloat = function (value) {\n    return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nvar MotionValue = /** @class */ (function () {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    function MotionValue(init) {\n        var _this = this;\n        /**\n         * Duration, in milliseconds, since last updating frame.\n         *\n         * @internal\n         */\n        this.timeDelta = 0;\n        /**\n         * Timestamp of the last time this `MotionValue` was updated.\n         *\n         * @internal\n         */\n        this.lastUpdated = 0;\n        /**\n         * Functions to notify when the `MotionValue` updates.\n         *\n         * @internal\n         */\n        this.updateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the velocity updates.\n         *\n         * @internal\n         */\n        this.velocityUpdateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n         *\n         * @internal\n         */\n        this.renderSubscribers = new SubscriptionManager();\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        this.updateAndNotify = function (v, render) {\n            if (render === void 0) { render = true; }\n            _this.prev = _this.current;\n            _this.current = v;\n            // Update timestamp\n            var _a = sync.getFrameData(), delta = _a.delta, timestamp = _a.timestamp;\n            if (_this.lastUpdated !== timestamp) {\n                _this.timeDelta = delta;\n                _this.lastUpdated = timestamp;\n                sync__default['default'].postRender(_this.scheduleVelocityCheck);\n            }\n            // Update update subscribers\n            if (_this.prev !== _this.current) {\n                _this.updateSubscribers.notify(_this.current);\n            }\n            // Update velocity subscribers\n            if (_this.velocityUpdateSubscribers.getSize()) {\n                _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n            }\n            // Update render subscribers\n            if (render) {\n                _this.renderSubscribers.notify(_this.current);\n            }\n        };\n        /**\n         * Schedule a velocity check for the next frame.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.scheduleVelocityCheck = function () { return sync__default['default'].postRender(_this.velocityCheck); };\n        /**\n         * Updates `prev` with `current` if the value hasn't been updated this frame.\n         * This ensures velocity calculations return `0`.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n                _this.velocityUpdateSubscribers.notify(_this.getVelocity());\n            }\n        };\n        this.hasAnimated = false;\n        this.prev = this.current = init;\n        this.canTrackVelocity = isFloat(this.current);\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * @library\n     *\n     * ```jsx\n     * function MyComponent() {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.onChange(updateOpacity)\n     *     const unsubscribeY = y.onChange(updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <Frame x={x} />\n     * }\n     * ```\n     *\n     * @motion\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.onChange(updateOpacity)\n     *     const unsubscribeY = y.onChange(updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @internalremarks\n     *\n     * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n     *\n     * ```jsx\n     * useOnChange(x, () => {})\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @public\n     */\n    MotionValue.prototype.onChange = function (subscription) {\n        return this.updateSubscribers.add(subscription);\n    };\n    MotionValue.prototype.clearListeners = function () {\n        this.updateSubscribers.clear();\n    };\n    /**\n     * Adds a function that will be notified when the `MotionValue` requests a render.\n     *\n     * @param subscriber - A function that's provided the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @internal\n     */\n    MotionValue.prototype.onRenderRequest = function (subscription) {\n        // Render immediately\n        subscription(this.get());\n        return this.renderSubscribers.add(subscription);\n    };\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    MotionValue.prototype.attach = function (passiveEffect) {\n        this.passiveEffect = passiveEffect;\n    };\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    MotionValue.prototype.set = function (v, render) {\n        if (render === void 0) { render = true; }\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    };\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    MotionValue.prototype.get = function () {\n        return this.current;\n    };\n    /**\n     * @public\n     */\n    MotionValue.prototype.getPrevious = function () {\n        return this.prev;\n    };\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    MotionValue.prototype.getVelocity = function () {\n        // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n        return this.canTrackVelocity\n            ? // These casts could be avoided if parseFloat would be typed better\n                popmotion.velocityPerSecond(parseFloat(this.current) -\n                    parseFloat(this.prev), this.timeDelta)\n            : 0;\n    };\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    MotionValue.prototype.start = function (animation) {\n        var _this = this;\n        this.stop();\n        return new Promise(function (resolve) {\n            _this.hasAnimated = true;\n            _this.stopAnimation = animation(resolve);\n        }).then(function () { return _this.clearAnimation(); });\n    };\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    MotionValue.prototype.stop = function () {\n        if (this.stopAnimation)\n            this.stopAnimation();\n        this.clearAnimation();\n    };\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    MotionValue.prototype.isAnimating = function () {\n        return !!this.stopAnimation;\n    };\n    MotionValue.prototype.clearAnimation = function () {\n        this.stopAnimation = null;\n    };\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    MotionValue.prototype.destroy = function () {\n        this.updateSubscribers.clear();\n        this.renderSubscribers.clear();\n        this.stop();\n    };\n    return MotionValue;\n}());\n/**\n * @internal\n */\nfunction motionValue(init) {\n    return new MotionValue(init);\n}\n\n/**\n * Tests a provided value against a ValueType\n */\nvar testValueType = function (v) { return function (type) { return type.test(v); }; };\n\n/**\n * ValueType for \"auto\"\n */\nvar auto = {\n    test: function (v) { return v === \"auto\"; },\n    parse: function (v) { return v; },\n};\n\n/**\n * A list of value types commonly used for dimensions\n */\nvar dimensionValueTypes = [styleValueTypes.number, styleValueTypes.px, styleValueTypes.percent, styleValueTypes.degrees, styleValueTypes.vw, styleValueTypes.vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nvar findDimensionValueType = function (v) {\n    return dimensionValueTypes.find(testValueType(v));\n};\n\n/**\n * A list of all ValueTypes\n */\nvar valueTypes = tslib.__spreadArray(tslib.__spreadArray([], tslib.__read(dimensionValueTypes)), [styleValueTypes.color, styleValueTypes.complex]);\n/**\n * Tests a value against the list of ValueTypes\n */\nvar findValueType = function (v) { return valueTypes.find(testValueType(v)); };\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    var resolved = resolveVariant(visualElement, definition);\n    var _a = resolved\n        ? visualElement.makeTargetAnimatable(resolved, false)\n        : {}, _b = _a.transitionEnd, transitionEnd = _b === void 0 ? {} : _b; _a.transition; var target = tslib.__rest(_a, [\"transitionEnd\", \"transition\"]);\n    target = tslib.__assign(tslib.__assign({}, target), transitionEnd);\n    for (var key in target) {\n        var value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\nfunction setVariants(visualElement, variantLabels) {\n    var reversedLabels = tslib.__spreadArray([], tslib.__read(variantLabels)).reverse();\n    reversedLabels.forEach(function (key) {\n        var _a;\n        var variant = visualElement.getVariant(key);\n        variant && setTarget(visualElement, variant);\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            setVariants(child, variantLabels);\n        });\n    });\n}\nfunction setValues(visualElement, definition) {\n    if (Array.isArray(definition)) {\n        return setVariants(visualElement, definition);\n    }\n    else if (typeof definition === \"string\") {\n        return setVariants(visualElement, [definition]);\n    }\n    else {\n        setTarget(visualElement, definition);\n    }\n}\nfunction checkTargetForNewValues(visualElement, target, origin) {\n    var _a, _b, _c;\n    var _d;\n    var newValueKeys = Object.keys(target).filter(function (key) { return !visualElement.hasValue(key); });\n    var numNewValues = newValueKeys.length;\n    if (!numNewValues)\n        return;\n    for (var i = 0; i < numNewValues; i++) {\n        var key = newValueKeys[i];\n        var targetValue = target[key];\n        var value = null;\n        /**\n         * If the target is a series of keyframes, we can use the first value\n         * in the array. If this first value is null, we'll still need to read from the DOM.\n         */\n        if (Array.isArray(targetValue)) {\n            value = targetValue[0];\n        }\n        /**\n         * If the target isn't keyframes, or the first keyframe was null, we need to\n         * first check if an origin value was explicitly defined in the transition as \"from\",\n         * if not read the value from the DOM. As an absolute fallback, take the defined target value.\n         */\n        if (value === null) {\n            value = (_b = (_a = origin[key]) !== null && _a !== void 0 ? _a : visualElement.readValue(key)) !== null && _b !== void 0 ? _b : target[key];\n        }\n        /**\n         * If value is still undefined or null, ignore it. Preferably this would throw,\n         * but this was causing issues in Framer.\n         */\n        if (value === undefined || value === null)\n            continue;\n        if (typeof value === \"string\" && isNumericalString(value)) {\n            // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n            value = parseFloat(value);\n        }\n        else if (!findValueType(value) && styleValueTypes.complex.test(targetValue)) {\n            value = getAnimatableNone(key, targetValue);\n        }\n        visualElement.addValue(key, motionValue(value));\n        (_c = (_d = origin)[key]) !== null && _c !== void 0 ? _c : (_d[key] = value);\n        visualElement.setBaseTarget(key, value);\n    }\n}\nfunction getOriginFromTransition(key, transition) {\n    if (!transition)\n        return;\n    var valueTransition = transition[key] || transition[\"default\"] || transition;\n    return valueTransition.from;\n}\nfunction getOrigin(target, transition, visualElement) {\n    var _a, _b;\n    var origin = {};\n    for (var key in target) {\n        origin[key] =\n            (_a = getOriginFromTransition(key, transition)) !== null && _a !== void 0 ? _a : (_b = visualElement.getValue(key)) === null || _b === void 0 ? void 0 : _b.get();\n    }\n    return origin;\n}\n\n/**\n * @internal\n */\nfunction animateVisualElement(visualElement, definition, options) {\n    if (options === void 0) { options = {}; }\n    visualElement.notifyAnimationStart();\n    var animation;\n    if (Array.isArray(definition)) {\n        var animations = definition.map(function (variant) {\n            return animateVariant(visualElement, variant, options);\n        });\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        var resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = animateTarget(visualElement, resolvedDefinition, options);\n    }\n    return animation.then(function () {\n        return visualElement.notifyAnimationComplete(definition);\n    });\n}\nfunction animateVariant(visualElement, variant, options) {\n    var _a;\n    if (options === void 0) { options = {}; }\n    var resolved = resolveVariant(visualElement, variant, options.custom);\n    var _b = (resolved || {}).transition, transition = _b === void 0 ? visualElement.getDefaultTransition() || {} : _b;\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    var getAnimation = resolved\n        ? function () { return animateTarget(visualElement, resolved, options); }\n        : function () { return Promise.resolve(); };\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    var getChildAnimations = ((_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.size)\n        ? function (forwardDelay) {\n            if (forwardDelay === void 0) { forwardDelay = 0; }\n            var _a = transition.delayChildren, delayChildren = _a === void 0 ? 0 : _a, staggerChildren = transition.staggerChildren, staggerDirection = transition.staggerDirection;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : function () { return Promise.resolve(); };\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    var when = transition.when;\n    if (when) {\n        var _c = tslib.__read(when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation], 2), first = _c[0], last = _c[1];\n        return first().then(last);\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\n/**\n * @internal\n */\nfunction animateTarget(visualElement, definition, _a) {\n    var _b;\n    var _c = _a === void 0 ? {} : _a, _d = _c.delay, delay = _d === void 0 ? 0 : _d, transitionOverride = _c.transitionOverride, type = _c.type;\n    var _e = visualElement.makeTargetAnimatable(definition), _f = _e.transition, transition = _f === void 0 ? visualElement.getDefaultTransition() : _f, transitionEnd = _e.transitionEnd, target = tslib.__rest(_e, [\"transition\", \"transitionEnd\"]);\n    if (transitionOverride)\n        transition = transitionOverride;\n    var animations = [];\n    var animationTypeState = type && ((_b = visualElement.animationState) === null || _b === void 0 ? void 0 : _b.getState()[type]);\n    for (var key in target) {\n        var value = visualElement.getValue(key);\n        var valueTarget = target[key];\n        if (!value ||\n            valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        var animation = startAnimation(key, value, valueTarget, tslib.__assign({ delay: delay }, transition));\n        animations.push(animation);\n    }\n    return Promise.all(animations).then(function () {\n        transitionEnd && setTarget(visualElement, transitionEnd);\n    });\n}\nfunction animateChildren(visualElement, variant, delayChildren, staggerChildren, staggerDirection, options) {\n    if (delayChildren === void 0) { delayChildren = 0; }\n    if (staggerChildren === void 0) { staggerChildren = 0; }\n    if (staggerDirection === void 0) { staggerDirection = 1; }\n    var animations = [];\n    var maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    var generateStaggerDuration = staggerDirection === 1\n        ? function (i) {\n            if (i === void 0) { i = 0; }\n            return i * staggerChildren;\n        }\n        : function (i) {\n            if (i === void 0) { i = 0; }\n            return maxStaggerDuration - i * staggerChildren;\n        };\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach(function (child, i) {\n        animations.push(animateVariant(child, variant, tslib.__assign(tslib.__assign({}, options), { delay: delayChildren + generateStaggerDuration(i) })).then(function () { return child.notifyAnimationComplete(variant); }));\n    });\n    return Promise.all(animations);\n}\nfunction stopAnimation(visualElement) {\n    visualElement.forEachValue(function (value) { return value.stop(); });\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation(_a, key) {\n    var protectedKeys = _a.protectedKeys, needsAnimating = _a.needsAnimating;\n    var shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\n\nvar variantPriorityOrder = [\n    AnimationType.Animate,\n    AnimationType.Hover,\n    AnimationType.Tap,\n    AnimationType.Drag,\n    AnimationType.Focus,\n    AnimationType.Exit,\n];\nvar reversePriorityOrder = tslib.__spreadArray([], tslib.__read(variantPriorityOrder)).reverse();\nvar numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return function (animations) {\n        return Promise.all(animations.map(function (_a) {\n            var animation = _a.animation, options = _a.options;\n            return animateVisualElement(visualElement, animation, options);\n        }));\n    };\n}\nfunction createAnimationState(visualElement) {\n    var animate = animateList(visualElement);\n    var state = createState();\n    var allAnimatedKeys = {};\n    var isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    var buildResolvedTypeValues = function (acc, definition) {\n        var resolved = resolveVariant(visualElement, definition);\n        if (resolved) {\n            resolved.transition; var transitionEnd = resolved.transitionEnd, target = tslib.__rest(resolved, [\"transition\", \"transitionEnd\"]);\n            acc = tslib.__assign(tslib.__assign(tslib.__assign({}, acc), target), transitionEnd);\n        }\n        return acc;\n    };\n    function isAnimated(key) {\n        return allAnimatedKeys[key] !== undefined;\n    }\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(options, changedActiveType) {\n        var _a;\n        var props = visualElement.getProps();\n        var context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        var animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        var removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        var encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        var removedVariantIndex = Infinity;\n        var _loop_1 = function (i) {\n            var type = reversePriorityOrder[i];\n            var typeState = state[type];\n            var prop = (_a = props[type]) !== null && _a !== void 0 ? _a : context[type];\n            var propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            var activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            var isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = tslib.__assign({}, encounteredKeys);\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                return \"continue\";\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            var shouldAnimateType = variantsHaveChanged(typeState.prevProp, prop) ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            var definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            var resolvedValues = definitionList.reduce(buildResolvedTypeValues, {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            var _b = typeState.prevResolvedValues, prevResolvedValues = _b === void 0 ? {} : _b;\n            var allKeys = tslib.__assign(tslib.__assign({}, prevResolvedValues), resolvedValues);\n            var markToAnimate = function (key) {\n                shouldAnimateType = true;\n                removedKeys.delete(key);\n                typeState.needsAnimating[key] = true;\n            };\n            for (var key in allKeys) {\n                var next = resolvedValues[key];\n                var prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                if (next !== prev) {\n                    /**\n                     * If both values are keyframes, we need to shallow compare them to\n                     * detect whether any value has changed. If it has, we animate it.\n                     */\n                    if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                        if (!shallowCompare(next, prev)) {\n                            markToAnimate(key);\n                        }\n                        else {\n                            /**\n                             * If it hasn't changed, we want to ensure it doesn't animate by\n                             * adding it to the list of protected keys.\n                             */\n                            typeState.protectedKeys[key] = true;\n                        }\n                    }\n                    else if (next !== undefined) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = tslib.__assign(tslib.__assign({}, encounteredKeys), resolvedValues);\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             * TODO: Test as this should probably still handle animations triggered\n             * by removed values?\n             */\n            if (shouldAnimateType && !isInherited) {\n                animations.push.apply(animations, tslib.__spreadArray([], tslib.__read(definitionList.map(function (animation) { return ({\n                    animation: animation,\n                    options: tslib.__assign({ type: type }, options),\n                }); }))));\n            }\n        };\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (var i = 0; i < numAnimationTypes; i++) {\n            _loop_1(i);\n        }\n        allAnimatedKeys = tslib.__assign({}, encounteredKeys);\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            var fallbackAnimation_1 = {};\n            removedKeys.forEach(function (key) {\n                var fallbackTarget = visualElement.getBaseTarget(key);\n                if (fallbackTarget !== undefined) {\n                    fallbackAnimation_1[key] = fallbackTarget;\n                }\n            });\n            animations.push({ animation: fallbackAnimation_1 });\n        }\n        var shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            props.initial === false &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive, options) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach(function (child) { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        return animateChanges(options, type);\n    }\n    return {\n        isAnimated: isAnimated,\n        animateChanges: animateChanges,\n        setActive: setActive,\n        setAnimateFunction: setAnimateFunction,\n        getState: function () { return state; },\n    };\n}\nfunction variantsHaveChanged(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (isVariantLabels(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive) {\n    if (isActive === void 0) { isActive = false; }\n    return {\n        isActive: isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    var _a;\n    return _a = {},\n        _a[AnimationType.Animate] = createTypeState(true),\n        _a[AnimationType.Hover] = createTypeState(),\n        _a[AnimationType.Tap] = createTypeState(),\n        _a[AnimationType.Drag] = createTypeState(),\n        _a[AnimationType.Focus] = createTypeState(),\n        _a[AnimationType.Exit] = createTypeState(),\n        _a;\n}\n\nvar animations = {\n    animation: makeRenderlessComponent(function (_a) {\n        var visualElement = _a.visualElement, animate = _a.animate;\n        /**\n         * We dynamically generate the AnimationState manager as it contains a reference\n         * to the underlying animation library. We only want to load that if we load this,\n         * so people can optionally code split it out using the `m` component.\n         */\n        visualElement.animationState || (visualElement.animationState = createAnimationState(visualElement));\n        /**\n         * Subscribe any provided AnimationControls to the component's VisualElement\n         */\n        if (isAnimationControls(animate)) {\n            React.useEffect(function () { return animate.subscribe(visualElement); }, [animate]);\n        }\n    }),\n    exit: makeRenderlessComponent(function (props) {\n        var custom = props.custom, visualElement = props.visualElement;\n        var _a = tslib.__read(usePresence(), 2), isPresent = _a[0], onExitComplete = _a[1];\n        var presenceContext = React.useContext(PresenceContext);\n        React.useEffect(function () {\n            var _a, _b;\n            var animation = (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Exit, !isPresent, { custom: (_b = presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.custom) !== null && _b !== void 0 ? _b : custom });\n            !isPresent && (animation === null || animation === void 0 ? void 0 : animation.then(onExitComplete));\n        }, [isPresent]);\n    }),\n};\n\n/**\n * @internal\n */\nvar PanSession = /** @class */ (function () {\n    function PanSession(event, handlers, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, transformPagePoint = _b.transformPagePoint;\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        this.updatePoint = function () {\n            if (!(_this.lastMoveEvent && _this.lastMoveEventInfo))\n                return;\n            var info = getPanInfo(_this.lastMoveEventInfo, _this.history);\n            var isPanStarted = _this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            var isDistancePastThreshold = popmotion.distance(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            var point = info.point;\n            var timestamp = sync.getFrameData().timestamp;\n            _this.history.push(tslib.__assign(tslib.__assign({}, point), { timestamp: timestamp }));\n            var _a = _this.handlers, onStart = _a.onStart, onMove = _a.onMove;\n            if (!isPanStarted) {\n                onStart && onStart(_this.lastMoveEvent, info);\n                _this.startEvent = _this.lastMoveEvent;\n            }\n            onMove && onMove(_this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = function (event, info) {\n            _this.lastMoveEvent = event;\n            _this.lastMoveEventInfo = transformPoint(info, _this.transformPagePoint);\n            // Because Safari doesn't trigger mouseup events when it's above a `<select>`\n            if (isMouseEvent(event) && event.buttons === 0) {\n                _this.handlePointerUp(event, info);\n                return;\n            }\n            // Throttle mouse move event to once per frame\n            sync__default['default'].update(_this.updatePoint, true);\n        };\n        this.handlePointerUp = function (event, info) {\n            _this.end();\n            var _a = _this.handlers, onEnd = _a.onEnd, onSessionEnd = _a.onSessionEnd;\n            var panInfo = getPanInfo(transformPoint(info, _this.transformPagePoint), _this.history);\n            if (_this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (isTouchEvent(event) && event.touches.length > 1)\n            return;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        var info = extractEventInfo(event);\n        var initialInfo = transformPoint(info, this.transformPagePoint);\n        var point = initialInfo.point;\n        var timestamp = sync.getFrameData().timestamp;\n        this.history = [tslib.__assign(tslib.__assign({}, point), { timestamp: timestamp })];\n        var onSessionStart = handlers.onSessionStart;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = popmotion.pipe(addPointerEvent(window, \"pointermove\", this.handlePointerMove), addPointerEvent(window, \"pointerup\", this.handlePointerUp), addPointerEvent(window, \"pointercancel\", this.handlePointerUp));\n    }\n    PanSession.prototype.updateHandlers = function (handlers) {\n        this.handlers = handlers;\n    };\n    PanSession.prototype.end = function () {\n        this.removeListeners && this.removeListeners();\n        sync.cancelSync.update(this.updatePoint);\n    };\n    return PanSession;\n}());\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo(_a, history) {\n    var point = _a.point;\n    return {\n        point: point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    var i = history.length - 1;\n    var timestampedPoint = null;\n    var lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    var time = (lastPoint.timestamp - timestampedPoint.timestamp) / 1000;\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    var currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nfunction noop(any) {\n    return any;\n}\n\n/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToAxisBox(_a) {\n    var top = _a.top, left = _a.left, right = _a.right, bottom = _a.bottom;\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertAxisBoxToBoundingBox(_a) {\n    var x = _a.x, y = _a.y;\n    return {\n        top: y.min,\n        bottom: y.max,\n        left: x.min,\n        right: x.max,\n    };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoundingBox(_a, transformPoint) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    if (transformPoint === void 0) { transformPoint = noop; }\n    var topLeft = transformPoint({ x: left, y: top });\n    var bottomRight = transformPoint({ x: right, y: bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n/**\n * Create an empty axis box of zero size\n */\nfunction axisBox() {\n    return { x: { min: 0, max: 1 }, y: { min: 0, max: 1 } };\n}\nfunction copyAxisBox(box) {\n    return {\n        x: tslib.__assign({}, box.x),\n        y: tslib.__assign({}, box.y),\n    };\n}\n/**\n * Create an empty box delta\n */\nvar zeroDelta = {\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n};\nfunction delta() {\n    return {\n        x: tslib.__assign({}, zeroDelta),\n        y: tslib.__assign({}, zeroDelta),\n    };\n}\n\n// Call a handler once for each axis\nfunction eachAxis(handler) {\n    return [handler(\"x\"), handler(\"y\")];\n}\n\nvar clampProgress = function (v) { return popmotion.clamp(0, 1, v); };\n/**\n * Returns true if the provided value is within maxDistance of the provided target\n */\nfunction isNear(value, target, maxDistance) {\n    if (target === void 0) { target = 0; }\n    if (maxDistance === void 0) { maxDistance = 0.01; }\n    return popmotion.distance(value, target) < maxDistance;\n}\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    var origin = 0.5;\n    var sourceLength = calcLength(source);\n    var targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = popmotion.progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = popmotion.progress(source.min, source.max - targetLength, target.min);\n    }\n    return clampProgress(origin);\n}\n/**\n * Update the AxisDelta with a transform that projects source into target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateAxisDelta(delta, source, target, origin) {\n    if (origin === void 0) { origin = 0.5; }\n    delta.origin = origin;\n    delta.originPoint = popmotion.mix(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001))\n        delta.scale = 1;\n    delta.translate =\n        popmotion.mix(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate))\n        delta.translate = 0;\n}\n/**\n * Update the BoxDelta with a transform that projects the source into the target.\n *\n * The transform `origin` is optional. If not provided, it'll be automatically\n * calculated based on the relative positions of the two bounding boxes.\n */\nfunction updateBoxDelta(delta, source, target, origin) {\n    updateAxisDelta(delta.x, source.x, target.x, defaultOrigin(origin.originX));\n    updateAxisDelta(delta.y, source.y, target.y, defaultOrigin(origin.originY));\n}\n/**\n * Currently this only accepts numerical origins, measured as 0-1, but could\n * accept pixel values by comparing to the target axis.\n */\nfunction defaultOrigin(origin) {\n    return typeof origin === \"number\" ? origin : 0.5;\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(projection, parentProjection) {\n    calcRelativeAxis(projection.target.x, projection.relativeTarget.x, parentProjection.target.x);\n    calcRelativeAxis(projection.target.y, projection.relativeTarget.y, parentProjection.target.y);\n}\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, _a, elastic) {\n    var min = _a.min, max = _a.max;\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic ? popmotion.mix(min, point, elastic.min) : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic ? popmotion.mix(max, point, elastic.max) : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculates a min projection point based on a pointer, pointer progress\n * within the drag target, and constraints.\n *\n * For instance if an element was 100px width, we were dragging from 0.25\n * along this axis, the pointer is at 200px, and there were no constraints,\n * we would calculate a min projection point of 175px.\n */\nfunction calcConstrainedMinPoint(point, length, progress, constraints, elastic) {\n    // Calculate a min point for this axis and apply it to the current pointer\n    var min = point - length * progress;\n    return constraints ? applyConstraints(min, constraints, elastic) : min;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, _a) {\n    var top = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    var _a;\n    var min = constraintsAxis.min - layoutAxis.min;\n    var max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        _a = tslib.__read([max, min], 2), min = _a[0], max = _a[1];\n    }\n    return {\n        min: layoutAxis.min + min,\n        max: layoutAxis.min + max,\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate the an axis position based on two axes and a progress value.\n */\nfunction calcPositionFromProgress(axis, constraints, progress) {\n    var axisLength = axis.max - axis.min;\n    var min = popmotion.mix(constraints.min, constraints.max - axisLength, progress);\n    return { min: min, max: min + axisLength };\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    var relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nvar defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    var _a;\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : (_a = dragElastic[label]) !== null && _a !== void 0 ? _a : 0;\n}\n\n/**\n * Measure and return the element bounding box.\n *\n * We convert the box into an AxisBox2D to make it easier to work with each axis\n * individually and programmatically.\n *\n * This function optionally accepts a transformPagePoint function which allows us to compensate\n * for, for instance, measuring the element within a scaled plane like a Framer devivce preview component.\n */\nfunction getBoundingBox(element, transformPagePoint) {\n    var box = element.getBoundingClientRect();\n    return convertBoundingBoxToAxisBox(transformBoundingBox(box, transformPagePoint));\n}\n\nvar compareByDepth = function (a, b) {\n    return a.depth - b.depth;\n};\n\nfunction isProjecting(visualElement) {\n    var isEnabled = visualElement.projection.isEnabled;\n    return isEnabled || visualElement.shouldResetTransform();\n}\nfunction collectProjectingAncestors(visualElement, ancestors) {\n    if (ancestors === void 0) { ancestors = []; }\n    var parent = visualElement.parent;\n    if (parent)\n        collectProjectingAncestors(parent, ancestors);\n    if (isProjecting(visualElement))\n        ancestors.push(visualElement);\n    return ancestors;\n}\nfunction collectProjectingChildren(visualElement) {\n    var children = [];\n    var addChild = function (child) {\n        if (isProjecting(child))\n            children.push(child);\n        child.children.forEach(addChild);\n    };\n    visualElement.children.forEach(addChild);\n    return children.sort(compareByDepth);\n}\n/**\n * Update the layoutState by measuring the DOM layout. This\n * should be called after resetting any layout-affecting transforms.\n */\nfunction updateLayoutMeasurement(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    var layoutState = visualElement.getLayoutState();\n    visualElement.notifyBeforeLayoutMeasure(layoutState.layout);\n    layoutState.isHydrated = true;\n    layoutState.layout = visualElement.measureViewportBox();\n    layoutState.layoutCorrected = copyAxisBox(layoutState.layout);\n    visualElement.notifyLayoutMeasure(layoutState.layout, visualElement.prevViewportBox || layoutState.layout);\n    sync__default['default'].update(function () { return visualElement.rebaseProjectionTarget(); });\n}\n/**\n * Record the viewport box as it was before an expected mutation/re-render\n */\nfunction snapshotViewportBox(visualElement) {\n    if (visualElement.shouldResetTransform())\n        return;\n    visualElement.prevViewportBox = visualElement.measureViewportBox(false);\n    /**\n     * Update targetBox to match the prevViewportBox. This is just to ensure\n     * that targetBox is affected by scroll in the same way as the measured box\n     */\n    visualElement.rebaseProjectionTarget(false, visualElement.prevViewportBox);\n}\n\nfunction tweenAxis(target, prev, next, p) {\n    target.min = popmotion.mix(prev.min, next.min, p);\n    target.max = popmotion.mix(prev.max, next.max, p);\n}\nfunction calcRelativeOffsetAxis(parent, child) {\n    return {\n        min: child.min - parent.min,\n        max: child.max - parent.min,\n    };\n}\nfunction calcRelativeOffset(parent, child) {\n    return {\n        x: calcRelativeOffsetAxis(parent.x, child.x),\n        y: calcRelativeOffsetAxis(parent.y, child.y),\n    };\n}\nfunction checkIfParentHasChanged(prev, next) {\n    var prevId = prev.getLayoutId();\n    var nextId = next.getLayoutId();\n    return prevId !== nextId || (nextId === undefined && prev !== next);\n}\n\nfunction isDraggable(visualElement) {\n    var _a = visualElement.getProps(), drag = _a.drag, _dragX = _a._dragX;\n    return drag && !_dragX;\n}\n\n/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetAxis(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction resetBox(box, originBox) {\n    resetAxis(box.x, originBox.x);\n    resetAxis(box.y, originBox.y);\n}\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    var distanceFromOrigin = point - originPoint;\n    var scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate, scale, originPoint, boxScale) {\n    if (translate === void 0) { translate = 0; }\n    if (scale === void 0) { scale = 1; }\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, _a) {\n    var x = _a.x, y = _a.y;\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction applyAxisTransforms(final, axis, transforms, _a) {\n    var _b = tslib.__read(_a, 3), key = _b[0], scaleKey = _b[1], originKey = _b[2];\n    // Copy the current axis to the final axis before mutation\n    final.min = axis.min;\n    final.max = axis.max;\n    var axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    var originPoint = popmotion.mix(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(final, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nvar xKeys = [\"x\", \"scaleX\", \"originX\"];\nvar yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction applyBoxTransforms(finalBox, box, transforms) {\n    applyAxisTransforms(finalBox.x, box.x, transforms, xKeys);\n    applyAxisTransforms(finalBox.y, box.y, transforms, yKeys);\n}\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate, scale, origin, boxScale) {\n    if (translate === void 0) { translate = 0; }\n    if (scale === void 0) { scale = 1; }\n    if (origin === void 0) { origin = 0.5; }\n    var originPoint = popmotion.mix(axis.min, axis.max, origin) - translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, _a) {\n    var _b = tslib.__read(_a, 3), key = _b[0], scaleKey = _b[1], originKey = _b[2];\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale);\n}\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms) {\n    removeAxisTransforms(box.x, transforms, xKeys);\n    removeAxisTransforms(box.y, transforms, yKeys);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath) {\n    var treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    var node;\n    var delta;\n    for (var i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.getLayoutState().delta;\n        // Incoporate each ancestor's scale into a culmulative treeScale for this component\n        treeScale.x *= delta.x.scale;\n        treeScale.y *= delta.y.scale;\n        // Apply each ancestor's calculated delta into this component's recorded layout box\n        applyBoxDelta(box, delta);\n        // If this is a draggable ancestor, also incorporate the node's transform to the layout box\n        if (isDraggable(node)) {\n            applyBoxTransforms(box, box, node.getLatestValues());\n        }\n    }\n}\n\n/**\n * Returns a boolean stating whether or not we converted the projection\n * to relative projection.\n */\nfunction convertToRelativeProjection(visualElement, isLayoutDrag) {\n    if (isLayoutDrag === void 0) { isLayoutDrag = true; }\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent)\n        return false;\n    var offset;\n    if (isLayoutDrag) {\n        offset = calcRelativeOffset(projectionParent.projection.target, visualElement.projection.target);\n        removeBoxTransforms(offset, projectionParent.getLatestValues());\n    }\n    else {\n        offset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    }\n    eachAxis(function (axis) {\n        return visualElement.setProjectionTargetAxis(axis, offset[axis].min, offset[axis].max, true);\n    });\n    return true;\n}\n\nvar unresolvedJobs = new Set();\nfunction pushJob(stack, job, pointer) {\n    if (!stack[pointer])\n        stack[pointer] = [];\n    stack[pointer].push(job);\n}\nfunction batchLayout(callback) {\n    unresolvedJobs.add(callback);\n    return function () { return unresolvedJobs.delete(callback); };\n}\nfunction flushLayout() {\n    if (!unresolvedJobs.size)\n        return;\n    var pointer = 0;\n    var reads = [[]];\n    var writes = [];\n    var setRead = function (job) { return pushJob(reads, job, pointer); };\n    var setWrite = function (job) {\n        pushJob(writes, job, pointer);\n        pointer++;\n    };\n    /**\n     * Resolve jobs into their array stacks\n     */\n    unresolvedJobs.forEach(function (callback) {\n        callback(setRead, setWrite);\n        pointer = 0;\n    });\n    unresolvedJobs.clear();\n    /**\n     * Execute jobs\n     */\n    var numStacks = writes.length;\n    for (var i = 0; i <= numStacks; i++) {\n        reads[i] && reads[i].forEach(executeJob);\n        writes[i] && writes[i].forEach(executeJob);\n    }\n}\nvar executeJob = function (job) { return job(); };\n\nvar elementDragControls = new WeakMap();\n/**\n *\n */\nvar lastPointerEvent;\nvar VisualElementDragControls = /** @class */ (function () {\n    function VisualElementDragControls(_a) {\n        var visualElement = _a.visualElement;\n        /**\n         * Track whether we're currently dragging.\n         *\n         * @internal\n         */\n        this.isDragging = false;\n        /**\n         * The current direction of drag, or `null` if both.\n         *\n         * @internal\n         */\n        this.currentDirection = null;\n        /**\n         * The permitted boundaries of travel, in pixels.\n         *\n         * @internal\n         */\n        this.constraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         *\n         * @internal\n         */\n        this.elastic = axisBox();\n        /**\n         * A reference to the host component's latest props.\n         *\n         * @internal\n         */\n        this.props = {};\n        /**\n         * @internal\n         */\n        this.hasMutatedConstraints = false;\n        /**\n         * Track the initial position of the cursor relative to the dragging element\n         * when dragging starts as a value of 0-1 on each axis. We then use this to calculate\n         * an ideal bounding box for the VisualElement renderer to project into every frame.\n         *\n         * @internal\n         */\n        this.cursorProgress = {\n            x: 0.5,\n            y: 0.5,\n        };\n        // When updating _dragX, or _dragY instead of the VisualElement,\n        // persist their values between drag gestures.\n        this.originPoint = {};\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        /**\n         * @internal\n         */\n        this.panSession = null;\n        this.visualElement = visualElement;\n        this.visualElement.enableLayoutProjection();\n        elementDragControls.set(visualElement, this);\n    }\n    /**\n     * Instantiate a PanSession for the drag gesture\n     *\n     * @public\n     */\n    VisualElementDragControls.prototype.start = function (originEvent, _a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.snapToCursor, snapToCursor = _c === void 0 ? false : _c, cursorProgress = _b.cursorProgress;\n        var onSessionStart = function (event) {\n            var _a;\n            // Stop any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            _this.stopMotion();\n            /**\n             * Save the initial point. We'll use this to calculate the pointer's position rather\n             * than the one we receive when the gesture actually starts. By then, the pointer will\n             * have already moved, and the perception will be of the pointer \"slipping\" across the element\n             */\n            var initialPoint = getViewportPointFromEvent(event).point;\n            (_a = _this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(_this);\n            _this.cancelLayout = batchLayout(function (read, write) {\n                var ancestors = collectProjectingAncestors(_this.visualElement);\n                var children = collectProjectingChildren(_this.visualElement);\n                var tree = tslib.__spreadArray(tslib.__spreadArray([], tslib.__read(ancestors)), tslib.__read(children));\n                var hasManuallySetCursorOrigin = false;\n                /**\n                 * Apply a simple lock to the projection target. This ensures no animations\n                 * can run on the projection box while this lock is active.\n                 */\n                _this.isLayoutDrag() && _this.visualElement.lockProjectionTarget();\n                write(function () {\n                    tree.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    updateLayoutMeasurement(_this.visualElement);\n                    children.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    tree.forEach(function (element) { return element.restoreTransform(); });\n                    if (snapToCursor) {\n                        hasManuallySetCursorOrigin = _this.snapToCursor(initialPoint);\n                    }\n                });\n                read(function () {\n                    var isRelativeDrag = Boolean(_this.getAxisMotionValue(\"x\") && !_this.isExternalDrag());\n                    if (!isRelativeDrag) {\n                        _this.visualElement.rebaseProjectionTarget(true, _this.visualElement.measureViewportBox(false));\n                    }\n                    _this.visualElement.scheduleUpdateLayoutProjection();\n                    /**\n                     * When dragging starts, we want to find where the cursor is relative to the bounding box\n                     * of the element. Every frame, we calculate a new bounding box using this relative position\n                     * and let the visualElement renderer figure out how to reproject the element into this bounding\n                     * box.\n                     *\n                     * By doing it this way, rather than applying an x/y transform directly to the element,\n                     * we can ensure the component always visually sticks to the cursor as we'd expect, even\n                     * if the DOM element itself changes layout as a result of React updates the user might\n                     * make based on the drag position.\n                     */\n                    var projection = _this.visualElement.projection;\n                    eachAxis(function (axis) {\n                        if (!hasManuallySetCursorOrigin) {\n                            var _a = projection.target[axis], min = _a.min, max = _a.max;\n                            _this.cursorProgress[axis] = cursorProgress\n                                ? cursorProgress[axis]\n                                : popmotion.progress(min, max, initialPoint[axis]);\n                        }\n                        /**\n                         * If we have external drag MotionValues, record their origin point. On pointermove\n                         * we'll apply the pan gesture offset directly to this value.\n                         */\n                        var axisValue = _this.getAxisMotionValue(axis);\n                        if (axisValue) {\n                            _this.originPoint[axis] = axisValue.get();\n                        }\n                    });\n                });\n                write(function () {\n                    sync.flushSync.update();\n                    sync.flushSync.preRender();\n                    sync.flushSync.render();\n                    sync.flushSync.postRender();\n                });\n                read(function () { return _this.resolveDragConstraints(); });\n            });\n        };\n        var onStart = function (event, info) {\n            var _a, _b, _c;\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            var _d = _this.props, drag = _d.drag, dragPropagation = _d.dragPropagation;\n            if (drag && !dragPropagation) {\n                if (_this.openGlobalLock)\n                    _this.openGlobalLock();\n                _this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!_this.openGlobalLock)\n                    return;\n            }\n            flushLayout();\n            // Set current drag status\n            _this.isDragging = true;\n            _this.currentDirection = null;\n            // Fire onDragStart event\n            (_b = (_a = _this.props).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, event, info);\n            (_c = _this.visualElement.animationState) === null || _c === void 0 ? void 0 : _c.setActive(AnimationType.Drag, true);\n        };\n        var onMove = function (event, info) {\n            var _a, _b, _c, _d;\n            var _e = _this.props, dragPropagation = _e.dragPropagation, dragDirectionLock = _e.dragDirectionLock;\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !_this.openGlobalLock)\n                return;\n            var offset = info.offset;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && _this.currentDirection === null) {\n                _this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (_this.currentDirection !== null) {\n                    (_b = (_a = _this.props).onDirectionLock) === null || _b === void 0 ? void 0 : _b.call(_a, _this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            _this.updateAxis(\"x\", info.point, offset);\n            _this.updateAxis(\"y\", info.point, offset);\n            // Fire onDrag event\n            (_d = (_c = _this.props).onDrag) === null || _d === void 0 ? void 0 : _d.call(_c, event, info);\n            // Update the last pointer event\n            lastPointerEvent = event;\n        };\n        var onSessionEnd = function (event, info) {\n            return _this.stop(event, info);\n        };\n        var transformPagePoint = this.props.transformPagePoint;\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart: onSessionStart,\n            onStart: onStart,\n            onMove: onMove,\n            onSessionEnd: onSessionEnd,\n        }, { transformPagePoint: transformPagePoint });\n    };\n    VisualElementDragControls.prototype.resolveDragConstraints = function () {\n        var _this = this;\n        var _a = this.props, dragConstraints = _a.dragConstraints, dragElastic = _a.dragElastic;\n        var layout = this.visualElement.getLayoutState().layoutCorrected;\n        if (dragConstraints) {\n            this.constraints = isRefObject(dragConstraints)\n                ? this.resolveRefConstraints(layout, dragConstraints)\n                : calcRelativeConstraints(layout, dragConstraints);\n        }\n        else {\n            this.constraints = false;\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (this.constraints && !this.hasMutatedConstraints) {\n            eachAxis(function (axis) {\n                if (_this.getAxisMotionValue(axis)) {\n                    _this.constraints[axis] = rebaseAxisConstraints(layout[axis], _this.constraints[axis]);\n                }\n            });\n        }\n    };\n    VisualElementDragControls.prototype.resolveRefConstraints = function (layoutBox, constraints) {\n        var _a = this.props, onMeasureDragConstraints = _a.onMeasureDragConstraints, transformPagePoint = _a.transformPagePoint;\n        var constraintsElement = constraints.current;\n        heyListen.invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        this.constraintsBox = getBoundingBox(constraintsElement, transformPagePoint);\n        var measuredConstraints = calcViewportConstraints(layoutBox, this.constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            var userConstraints = onMeasureDragConstraints(convertAxisBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToAxisBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    };\n    VisualElementDragControls.prototype.cancelDrag = function () {\n        var _a, _b;\n        this.visualElement.unlockProjectionTarget();\n        (_a = this.cancelLayout) === null || _a === void 0 ? void 0 : _a.call(this);\n        this.isDragging = false;\n        this.panSession && this.panSession.end();\n        this.panSession = null;\n        if (!this.props.dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        (_b = this.visualElement.animationState) === null || _b === void 0 ? void 0 : _b.setActive(AnimationType.Drag, false);\n    };\n    VisualElementDragControls.prototype.stop = function (event, info) {\n        var _a, _b, _c;\n        (_a = this.panSession) === null || _a === void 0 ? void 0 : _a.end();\n        this.panSession = null;\n        var isDragging = this.isDragging;\n        this.cancelDrag();\n        if (!isDragging)\n            return;\n        var velocity = info.velocity;\n        this.animateDragEnd(velocity);\n        (_c = (_b = this.props).onDragEnd) === null || _c === void 0 ? void 0 : _c.call(_b, event, info);\n    };\n    VisualElementDragControls.prototype.snapToCursor = function (point) {\n        var _this = this;\n        return eachAxis(function (axis) {\n            var drag = _this.props.drag;\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, _this.currentDirection))\n                return;\n            var axisValue = _this.getAxisMotionValue(axis);\n            if (axisValue) {\n                var box = _this.visualElement.getLayoutState().layout;\n                var length_1 = box[axis].max - box[axis].min;\n                var center = box[axis].min + length_1 / 2;\n                var offset = point[axis] - center;\n                _this.originPoint[axis] = point[axis];\n                axisValue.set(offset);\n            }\n            else {\n                _this.cursorProgress[axis] = 0.5;\n                return true;\n            }\n        }).includes(true);\n    };\n    /**\n     * Update the specified axis with the latest pointer information.\n     */\n    VisualElementDragControls.prototype.updateAxis = function (axis, point, offset) {\n        var drag = this.props.drag;\n        // If we're not dragging this axis, do an early return.\n        if (!shouldDrag(axis, drag, this.currentDirection))\n            return;\n        return this.getAxisMotionValue(axis)\n            ? this.updateAxisMotionValue(axis, offset)\n            : this.updateVisualElementAxis(axis, point);\n    };\n    VisualElementDragControls.prototype.updateAxisMotionValue = function (axis, offset) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!offset || !axisValue)\n            return;\n        var nextValue = this.originPoint[axis] + offset[axis];\n        var update = this.constraints\n            ? applyConstraints(nextValue, this.constraints[axis], this.elastic[axis])\n            : nextValue;\n        axisValue.set(update);\n    };\n    VisualElementDragControls.prototype.updateVisualElementAxis = function (axis, point) {\n        var _a;\n        // Get the actual layout bounding box of the element\n        var axisLayout = this.visualElement.getLayoutState().layout[axis];\n        // Calculate its current length. In the future we might want to lerp this to animate\n        // between lengths if the layout changes as we change the DOM\n        var axisLength = axisLayout.max - axisLayout.min;\n        // Get the initial progress that the pointer sat on this axis on gesture start.\n        var axisProgress = this.cursorProgress[axis];\n        // Calculate a new min point based on the latest pointer position, constraints and elastic\n        var min = calcConstrainedMinPoint(point[axis], axisLength, axisProgress, (_a = this.constraints) === null || _a === void 0 ? void 0 : _a[axis], this.elastic[axis]);\n        // Update the axis viewport target with this new min and the length\n        this.visualElement.setProjectionTargetAxis(axis, min, min + axisLength);\n    };\n    VisualElementDragControls.prototype.setProps = function (_a) {\n        var _b = _a.drag, drag = _b === void 0 ? false : _b, _c = _a.dragDirectionLock, dragDirectionLock = _c === void 0 ? false : _c, _d = _a.dragPropagation, dragPropagation = _d === void 0 ? false : _d, _e = _a.dragConstraints, dragConstraints = _e === void 0 ? false : _e, _f = _a.dragElastic, dragElastic = _f === void 0 ? defaultElastic : _f, _g = _a.dragMomentum, dragMomentum = _g === void 0 ? true : _g, remainingProps = tslib.__rest(_a, [\"drag\", \"dragDirectionLock\", \"dragPropagation\", \"dragConstraints\", \"dragElastic\", \"dragMomentum\"]);\n        this.props = tslib.__assign({ drag: drag,\n            dragDirectionLock: dragDirectionLock,\n            dragPropagation: dragPropagation,\n            dragConstraints: dragConstraints,\n            dragElastic: dragElastic,\n            dragMomentum: dragMomentum }, remainingProps);\n    };\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - If the component will perform layout animations, we output the gesture to the component's\n     *      visual bounding box\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    VisualElementDragControls.prototype.getAxisMotionValue = function (axis) {\n        var _a = this.props, layout = _a.layout, layoutId = _a.layoutId;\n        var dragKey = \"_drag\" + axis.toUpperCase();\n        if (this.props[dragKey]) {\n            return this.props[dragKey];\n        }\n        else if (!layout && layoutId === undefined) {\n            return this.visualElement.getValue(axis, 0);\n        }\n    };\n    VisualElementDragControls.prototype.isLayoutDrag = function () {\n        return !this.getAxisMotionValue(\"x\");\n    };\n    VisualElementDragControls.prototype.isExternalDrag = function () {\n        var _a = this.props, _dragX = _a._dragX, _dragY = _a._dragY;\n        return _dragX || _dragY;\n    };\n    VisualElementDragControls.prototype.animateDragEnd = function (velocity) {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragMomentum = _a.dragMomentum, dragElastic = _a.dragElastic, dragTransition = _a.dragTransition;\n        /**\n         * Everything beyond the drag gesture should be performed with\n         * relative projection so children stay in sync with their parent element.\n         */\n        var isRelative = convertToRelativeProjection(this.visualElement, this.isLayoutDrag() && !this.isExternalDrag());\n        /**\n         * If we had previously resolved constraints relative to the viewport,\n         * we need to also convert those to a relative coordinate space for the animation\n         */\n        var constraints = this.constraints || {};\n        if (isRelative &&\n            Object.keys(constraints).length &&\n            this.isLayoutDrag()) {\n            var projectionParent = this.visualElement.getProjectionParent();\n            if (projectionParent) {\n                var relativeConstraints_1 = calcRelativeOffset(projectionParent.projection.targetFinal, constraints);\n                eachAxis(function (axis) {\n                    var _a = relativeConstraints_1[axis], min = _a.min, max = _a.max;\n                    constraints[axis] = {\n                        min: isNaN(min) ? undefined : min,\n                        max: isNaN(max) ? undefined : max,\n                    };\n                });\n            }\n        }\n        var momentumAnimations = eachAxis(function (axis) {\n            var _a;\n            if (!shouldDrag(axis, drag, _this.currentDirection)) {\n                return;\n            }\n            var transition = (_a = constraints === null || constraints === void 0 ? void 0 : constraints[axis]) !== null && _a !== void 0 ? _a : {};\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            var bounceStiffness = dragElastic ? 200 : 1000000;\n            var bounceDamping = dragElastic ? 40 : 10000000;\n            var inertia = tslib.__assign(tslib.__assign({ type: \"inertia\", velocity: dragMomentum ? velocity[axis] : 0, bounceStiffness: bounceStiffness,\n                bounceDamping: bounceDamping, timeConstant: 750, restDelta: 1, restSpeed: 10 }, dragTransition), transition);\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return _this.getAxisMotionValue(axis)\n                ? _this.startAxisValueAnimation(axis, inertia)\n                : _this.visualElement.startLayoutAnimation(axis, inertia, isRelative);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(function () {\n            var _a, _b;\n            (_b = (_a = _this.props).onDragTransitionEnd) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n    };\n    VisualElementDragControls.prototype.stopMotion = function () {\n        var _this = this;\n        eachAxis(function (axis) {\n            var axisValue = _this.getAxisMotionValue(axis);\n            axisValue\n                ? axisValue.stop()\n                : _this.visualElement.stopLayoutAnimation();\n        });\n    };\n    VisualElementDragControls.prototype.startAxisValueAnimation = function (axis, transition) {\n        var axisValue = this.getAxisMotionValue(axis);\n        if (!axisValue)\n            return;\n        var currentValue = axisValue.get();\n        axisValue.set(currentValue);\n        axisValue.set(currentValue); // Set twice to hard-reset velocity\n        return startAnimation(axis, axisValue, 0, transition);\n    };\n    VisualElementDragControls.prototype.scalePoint = function () {\n        var _this = this;\n        var _a = this.props, drag = _a.drag, dragConstraints = _a.dragConstraints;\n        if (!isRefObject(dragConstraints) || !this.constraintsBox)\n            return;\n        // Stop any current animations as there can be some visual glitching if we resize mid animation\n        this.stopMotion();\n        // Record the relative progress of the targetBox relative to the constraintsBox\n        var boxProgress = { x: 0, y: 0 };\n        eachAxis(function (axis) {\n            boxProgress[axis] = calcOrigin(_this.visualElement.projection.target[axis], _this.constraintsBox[axis]);\n        });\n        /**\n         * For each axis, calculate the current progress of the layout axis within the constraints.\n         * Then, using the latest layout and constraints measurements, reposition the new layout axis\n         * proportionally within the constraints.\n         */\n        this.updateConstraints(function () {\n            eachAxis(function (axis) {\n                if (!shouldDrag(axis, drag, null))\n                    return;\n                // Calculate the position of the targetBox relative to the constraintsBox using the\n                // previously calculated progress\n                var _a = calcPositionFromProgress(_this.visualElement.projection.target[axis], _this.constraintsBox[axis], boxProgress[axis]), min = _a.min, max = _a.max;\n                _this.visualElement.setProjectionTargetAxis(axis, min, max);\n            });\n        });\n        /**\n         * If any other draggable components are queuing the same tasks synchronously\n         * this will wait until they've all been scheduled before flushing.\n         */\n        setTimeout(flushLayout, 1);\n    };\n    VisualElementDragControls.prototype.updateConstraints = function (onReady) {\n        var _this = this;\n        this.cancelLayout = batchLayout(function (read, write) {\n            var ancestors = collectProjectingAncestors(_this.visualElement);\n            write(function () {\n                return ancestors.forEach(function (element) { return element.resetTransform(); });\n            });\n            read(function () { return updateLayoutMeasurement(_this.visualElement); });\n            write(function () {\n                return ancestors.forEach(function (element) { return element.restoreTransform(); });\n            });\n            read(function () {\n                _this.resolveDragConstraints();\n            });\n            if (onReady)\n                write(onReady);\n        });\n    };\n    VisualElementDragControls.prototype.mount = function (visualElement) {\n        var _this = this;\n        var element = visualElement.getInstance();\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        var stopPointerListener = addPointerEvent(element, \"pointerdown\", function (event) {\n            var _a = _this.props, drag = _a.drag, _b = _a.dragListener, dragListener = _b === void 0 ? true : _b;\n            drag && dragListener && _this.start(event);\n        });\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        var stopResizeListener = addDomEvent(window, \"resize\", function () {\n            _this.scalePoint();\n        });\n        /**\n         * Ensure drag constraints are resolved correctly relative to the dragging element\n         * whenever its layout changes.\n         */\n        var stopLayoutUpdateListener = visualElement.onLayoutUpdate(function () {\n            if (_this.isDragging) {\n                _this.resolveDragConstraints();\n            }\n        });\n        /**\n         * If the previous component with this same layoutId was dragging at the time\n         * it was unmounted, we want to continue the same gesture on this component.\n         */\n        var prevDragCursor = visualElement.prevDragCursor;\n        if (prevDragCursor) {\n            this.start(lastPointerEvent, { cursorProgress: prevDragCursor });\n        }\n        /**\n         * Return a function that will teardown the drag gesture\n         */\n        return function () {\n            stopPointerListener === null || stopPointerListener === void 0 ? void 0 : stopPointerListener();\n            stopResizeListener === null || stopResizeListener === void 0 ? void 0 : stopResizeListener();\n            stopLayoutUpdateListener === null || stopLayoutUpdateListener === void 0 ? void 0 : stopLayoutUpdateListener();\n            _this.cancelDrag();\n        };\n    };\n    return VisualElementDragControls;\n}());\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold) {\n    if (lockThreshold === void 0) { lockThreshold = 10; }\n    var direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\n/**\n * A hook that allows an element to be dragged.\n *\n * @internal\n */\nfunction useDrag(props) {\n    var groupDragControls = props.dragControls, visualElement = props.visualElement;\n    var transformPagePoint = React.useContext(MotionConfigContext).transformPagePoint;\n    var dragControls = useConstant(function () {\n        return new VisualElementDragControls({\n            visualElement: visualElement,\n        });\n    });\n    dragControls.setProps(tslib.__assign(tslib.__assign({}, props), { transformPagePoint: transformPagePoint }));\n    // If we've been provided a DragControls for manual control over the drag gesture,\n    // subscribe this component to it on mount.\n    React.useEffect(function () { return groupDragControls && groupDragControls.subscribe(dragControls); }, [dragControls]);\n    // Mount the drag controls with the visualElement\n    React.useEffect(function () { return dragControls.mount(visualElement); }, []);\n}\n\n/**\n *\n * @param handlers -\n * @param ref -\n *\n * @internalremarks\n * Currently this sets new pan gesture functions every render. The memo route has been explored\n * in the past but ultimately we're still creating new functions every render. An optimisation\n * to explore is creating the pan gestures and loading them into a `ref`.\n *\n * @internal\n */\nfunction usePanGesture(_a) {\n    var onPan = _a.onPan, onPanStart = _a.onPanStart, onPanEnd = _a.onPanEnd, onPanSessionStart = _a.onPanSessionStart, visualElement = _a.visualElement;\n    var hasPanEvents = onPan || onPanStart || onPanEnd || onPanSessionStart;\n    var panSession = React.useRef(null);\n    var transformPagePoint = React.useContext(MotionConfigContext).transformPagePoint;\n    var handlers = {\n        onSessionStart: onPanSessionStart,\n        onStart: onPanStart,\n        onMove: onPan,\n        onEnd: function (event, info) {\n            panSession.current = null;\n            onPanEnd && onPanEnd(event, info);\n        },\n    };\n    React.useEffect(function () {\n        if (panSession.current !== null) {\n            panSession.current.updateHandlers(handlers);\n        }\n    });\n    function onPointerDown(event) {\n        panSession.current = new PanSession(event, handlers, {\n            transformPagePoint: transformPagePoint,\n        });\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPanEvents && onPointerDown);\n    useUnmountEffect(function () { return panSession.current && panSession.current.end(); });\n}\n\nvar drag = {\n    pan: makeRenderlessComponent(usePanGesture),\n    drag: makeRenderlessComponent(useDrag),\n};\n\n/**\n * @public\n */\nvar Presence;\n(function (Presence) {\n    Presence[Presence[\"Entering\"] = 0] = \"Entering\";\n    Presence[Presence[\"Present\"] = 1] = \"Present\";\n    Presence[Presence[\"Exiting\"] = 2] = \"Exiting\";\n})(Presence || (Presence = {}));\n/**\n * @public\n */\nexports.VisibilityAction = void 0;\n(function (VisibilityAction) {\n    VisibilityAction[VisibilityAction[\"Hide\"] = 0] = \"Hide\";\n    VisibilityAction[VisibilityAction[\"Show\"] = 1] = \"Show\";\n})(exports.VisibilityAction || (exports.VisibilityAction = {}));\n\nfunction isCSSVariable(value) {\n    return typeof value === \"string\" && value.startsWith(\"var(--\");\n}\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\nfunction parseCSSVariable(current) {\n    var match = cssVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    var _a = tslib.__read(match, 3), token = _a[1], fallback = _a[2];\n    return [token, fallback];\n}\nvar maxDepth = 4;\nfunction getVariableValue(current, element, depth) {\n    if (depth === void 0) { depth = 1; }\n    heyListen.invariant(depth <= maxDepth, \"Max CSS variable fallback depth detected in property \\\"\" + current + \"\\\". This may indicate a circular fallback dependency.\");\n    var _a = tslib.__read(parseCSSVariable(current), 2), token = _a[0], fallback = _a[1];\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    var resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        return resolved.trim();\n    }\n    else if (isCSSVariable(fallback)) {\n        // The fallback might itself be a CSS variable, in which case we attempt to resolve it too.\n        return getVariableValue(fallback, element, depth + 1);\n    }\n    else {\n        return fallback;\n    }\n}\n/**\n * Resolve CSS variables from\n *\n * @internal\n */\nfunction resolveCSSVariables(visualElement, _a, transitionEnd) {\n    var _b;\n    var target = tslib.__rest(_a, []);\n    var element = visualElement.getInstance();\n    if (!(element instanceof HTMLElement))\n        return { target: target, transitionEnd: transitionEnd };\n    // If `transitionEnd` isn't `undefined`, clone it. We could clone `target` and `transitionEnd`\n    // only if they change but I think this reads clearer and this isn't a performance-critical path.\n    if (transitionEnd) {\n        transitionEnd = tslib.__assign({}, transitionEnd);\n    }\n    // Go through existing `MotionValue`s and ensure any existing CSS variables are resolved\n    visualElement.forEachValue(function (value) {\n        var current = value.get();\n        if (!isCSSVariable(current))\n            return;\n        var resolved = getVariableValue(current, element);\n        if (resolved)\n            value.set(resolved);\n    });\n    // Cycle through every target property and resolve CSS variables. Currently\n    // we only read single-var properties like `var(--foo)`, not `calc(var(--foo) + 20px)`\n    for (var key in target) {\n        var current = target[key];\n        if (!isCSSVariable(current))\n            continue;\n        var resolved = getVariableValue(current, element);\n        if (!resolved)\n            continue;\n        // Clone target if it hasn't already been\n        target[key] = resolved;\n        // If the user hasn't already set this key on `transitionEnd`, set it to the unresolved\n        // CSS variable. This will ensure that after the animation the component will reflect\n        // changes in the value of the CSS variable.\n        if (transitionEnd)\n            (_b = transitionEnd[key]) !== null && _b !== void 0 ? _b : (transitionEnd[key] = current);\n    }\n    return { target: target, transitionEnd: transitionEnd };\n}\n\nfunction pixelsToPercent(pixels, axis) {\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nfunction correctBorderRadius(latest, _layoutState, _a) {\n    var target = _a.target;\n    /**\n     * If latest is a string, if it's a percentage we can return immediately as it's\n     * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n     */\n    if (typeof latest === \"string\") {\n        if (styleValueTypes.px.test(latest)) {\n            latest = parseFloat(latest);\n        }\n        else {\n            return latest;\n        }\n    }\n    /**\n     * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n     * pixel value as a percentage of each axis\n     */\n    var x = pixelsToPercent(latest, target.x);\n    var y = pixelsToPercent(latest, target.y);\n    return x + \"% \" + y + \"%\";\n}\nvar varToken = \"_$css\";\nfunction correctBoxShadow(latest, _a) {\n    var delta = _a.delta, treeScale = _a.treeScale;\n    var original = latest;\n    /**\n     * We need to first strip and store CSS variables from the string.\n     */\n    var containsCSSVariables = latest.includes(\"var(\");\n    var cssVariables = [];\n    if (containsCSSVariables) {\n        latest = latest.replace(cssVariableRegex, function (match) {\n            cssVariables.push(match);\n            return varToken;\n        });\n    }\n    var shadow = styleValueTypes.complex.parse(latest);\n    // TODO: Doesn't support multiple shadows\n    if (shadow.length > 5)\n        return original;\n    var template = styleValueTypes.complex.createTransformer(latest);\n    var offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n    // Calculate the overall context scale\n    var xScale = delta.x.scale * treeScale.x;\n    var yScale = delta.y.scale * treeScale.y;\n    shadow[0 + offset] /= xScale;\n    shadow[1 + offset] /= yScale;\n    /**\n     * Ideally we'd correct x and y scales individually, but because blur and\n     * spread apply to both we have to take a scale average and apply that instead.\n     * We could potentially improve the outcome of this by incorporating the ratio between\n     * the two scales.\n     */\n    var averageScale = popmotion.mix(xScale, yScale, 0.5);\n    // Blur\n    if (typeof shadow[2 + offset] === \"number\")\n        shadow[2 + offset] /= averageScale;\n    // Spread\n    if (typeof shadow[3 + offset] === \"number\")\n        shadow[3 + offset] /= averageScale;\n    var output = template(shadow);\n    if (containsCSSVariables) {\n        var i_1 = 0;\n        output = output.replace(varToken, function () {\n            var cssVariable = cssVariables[i_1];\n            i_1++;\n            return cssVariable;\n        });\n    }\n    return output;\n}\nvar borderCorrectionDefinition = {\n    process: correctBorderRadius,\n};\nvar defaultScaleCorrectors = {\n    borderRadius: tslib.__assign(tslib.__assign({}, borderCorrectionDefinition), { applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ] }),\n    borderTopLeftRadius: borderCorrectionDefinition,\n    borderTopRightRadius: borderCorrectionDefinition,\n    borderBottomLeftRadius: borderCorrectionDefinition,\n    borderBottomRightRadius: borderCorrectionDefinition,\n    boxShadow: {\n        process: correctBoxShadow,\n    },\n};\n\nvar progressTarget = 1000;\nvar Animate = /** @class */ (function (_super) {\n    tslib.__extends(Animate, _super);\n    function Animate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * A mutable object that tracks the target viewport box\n         * for the current animation frame.\n         */\n        _this.frameTarget = axisBox();\n        /**\n         * The current animation target, we use this to check whether to start\n         * a new animation or continue the existing one.\n         */\n        _this.currentAnimationTarget = axisBox();\n        /**\n         * Track whether we're animating this axis.\n         */\n        _this.isAnimating = {\n            x: false,\n            y: false,\n        };\n        _this.stopAxisAnimation = {\n            x: undefined,\n            y: undefined,\n        };\n        _this.isAnimatingTree = false;\n        _this.animate = function (target, origin, _a) {\n            if (_a === void 0) { _a = {}; }\n            var originBox = _a.originBox, targetBox = _a.targetBox, visibilityAction = _a.visibilityAction, shouldStackAnimate = _a.shouldStackAnimate, onComplete = _a.onComplete, prevParent = _a.prevParent, config = tslib.__rest(_a, [\"originBox\", \"targetBox\", \"visibilityAction\", \"shouldStackAnimate\", \"onComplete\", \"prevParent\"]);\n            var _b = _this.props, visualElement = _b.visualElement, layout = _b.layout;\n            /**\n             * Early return if we've been instructed not to animate this render.\n             */\n            if (shouldStackAnimate === false) {\n                _this.isAnimatingTree = false;\n                return _this.safeToRemove();\n            }\n            /**\n             * Prioritise tree animations\n             */\n            if (_this.isAnimatingTree && shouldStackAnimate !== true) {\n                return;\n            }\n            else if (shouldStackAnimate) {\n                _this.isAnimatingTree = true;\n            }\n            /**\n             * Allow the measured origin (prev bounding box) and target (actual layout) to be\n             * overridden by the provided config.\n             */\n            origin = originBox || origin;\n            target = targetBox || target;\n            /**\n             * If this element has a projecting parent, there's an opportunity to animate\n             * it relatively to that parent rather than relatively to the viewport. This\n             * allows us to add orchestrated animations.\n             */\n            var isRelative = false;\n            var projectionParent = visualElement.getProjectionParent();\n            if (projectionParent) {\n                var prevParentViewportBox = projectionParent.prevViewportBox;\n                var parentLayout = projectionParent.getLayoutState().layout;\n                /**\n                 * If we're being provided a previous parent VisualElement by AnimateSharedLayout\n                 */\n                if (prevParent) {\n                    /**\n                     * If we've been provided an explicit target box it means we're animating back\n                     * to this previous parent. So we can make a relative box by comparing to the previous\n                     * parent's layout\n                     */\n                    if (targetBox) {\n                        parentLayout = prevParent.getLayoutState().layout;\n                    }\n                    /**\n                     * Likewise if we've been provided an explicit origin box it means we're\n                     * animating out from a different element. So we should figure out where that was\n                     * on screen relative to the new parent element.\n                     */\n                    if (originBox &&\n                        !checkIfParentHasChanged(prevParent, projectionParent) &&\n                        prevParent.prevViewportBox) {\n                        prevParentViewportBox = prevParent.prevViewportBox;\n                    }\n                }\n                if (prevParentViewportBox &&\n                    isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox)) {\n                    isRelative = true;\n                    origin = calcRelativeOffset(prevParentViewportBox, origin);\n                    target = calcRelativeOffset(parentLayout, target);\n                }\n            }\n            var boxHasMoved = hasMoved(origin, target);\n            var animations = eachAxis(function (axis) {\n                var _a, _b;\n                /**\n                 * If layout is set to \"position\", we can resize the origin box based on the target\n                 * box and only animate its position.\n                 */\n                if (layout === \"position\") {\n                    var targetLength = target[axis].max - target[axis].min;\n                    origin[axis].max = origin[axis].min + targetLength;\n                }\n                if (visualElement.projection.isTargetLocked) {\n                    return;\n                }\n                else if (visibilityAction !== undefined) {\n                    visualElement.setVisibility(visibilityAction === exports.VisibilityAction.Show);\n                }\n                else if (boxHasMoved) {\n                    // If the box has moved, animate between it's current visual state and its\n                    // final state\n                    return _this.animateAxis(axis, target[axis], origin[axis], tslib.__assign(tslib.__assign({}, config), { isRelative: isRelative }));\n                }\n                else {\n                    (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    // If the box has remained in the same place, immediately set the axis target\n                    // to the final desired state\n                    return visualElement.setProjectionTargetAxis(axis, target[axis].min, target[axis].max, isRelative);\n                }\n            });\n            // Force a render to ensure there's no flash of uncorrected bounding box.\n            visualElement.syncRender();\n            /**\n             * If this visualElement isn't present (ie it's been removed from the tree by the user but\n             * kept in by the tree by AnimatePresence) then call safeToRemove when all axis animations\n             * have successfully finished.\n             */\n            return Promise.all(animations).then(function () {\n                _this.isAnimatingTree = false;\n                onComplete && onComplete();\n                visualElement.notifyLayoutAnimationComplete();\n            });\n        };\n        return _this;\n    }\n    Animate.prototype.componentDidMount = function () {\n        var _this = this;\n        var visualElement = this.props.visualElement;\n        visualElement.animateMotionValue = startAnimation;\n        visualElement.enableLayoutProjection();\n        this.unsubLayoutReady = visualElement.onLayoutUpdate(this.animate);\n        visualElement.layoutSafeToRemove = function () { return _this.safeToRemove(); };\n        addScaleCorrection(defaultScaleCorrectors);\n    };\n    Animate.prototype.componentWillUnmount = function () {\n        var _this = this;\n        this.unsubLayoutReady();\n        eachAxis(function (axis) { var _a, _b; return (_b = (_a = _this.stopAxisAnimation)[axis]) === null || _b === void 0 ? void 0 : _b.call(_a); });\n    };\n    /**\n     * TODO: This manually performs animations on the visualElement's layout progress\n     * values. It'd be preferable to amend the startLayoutAxisAnimation\n     * API to accept more custom animations like this.\n     */\n    Animate.prototype.animateAxis = function (axis, target, origin, _a) {\n        var _this = this;\n        var _b, _c;\n        var _d = _a === void 0 ? {} : _a, transition = _d.transition, isRelative = _d.isRelative;\n        /**\n         * If we're not animating to a new target, don't run this animation\n         */\n        if (this.isAnimating[axis] &&\n            axisIsEqual(target, this.currentAnimationTarget[axis])) {\n            return;\n        }\n        (_c = (_b = this.stopAxisAnimation)[axis]) === null || _c === void 0 ? void 0 : _c.call(_b);\n        this.isAnimating[axis] = true;\n        var visualElement = this.props.visualElement;\n        var frameTarget = this.frameTarget[axis];\n        var layoutProgress = visualElement.getProjectionAnimationProgress()[axis];\n        /**\n         * Set layout progress back to 0. We set it twice to hard-reset any velocity that might\n         * be re-incoporated into a subsequent spring animation.\n         */\n        layoutProgress.clearListeners();\n        layoutProgress.set(0);\n        layoutProgress.set(0);\n        /**\n         * Create an animation function to run once per frame. This will tween the visual bounding box from\n         * origin to target using the latest progress value.\n         */\n        var frame = function () {\n            // Convert the latest layoutProgress, which is a value from 0-1000, into a 0-1 progress\n            var p = layoutProgress.get() / progressTarget;\n            // Tween the axis and update the visualElement with the latest values\n            tweenAxis(frameTarget, origin, target, p);\n            visualElement.setProjectionTargetAxis(axis, frameTarget.min, frameTarget.max, isRelative);\n        };\n        // Synchronously run a frame to ensure there's no flash of the uncorrected bounding box.\n        frame();\n        // Create a function to stop animation on this specific axis\n        var unsubscribeProgress = layoutProgress.onChange(frame);\n        this.stopAxisAnimation[axis] = function () {\n            _this.isAnimating[axis] = false;\n            layoutProgress.stop();\n            unsubscribeProgress();\n        };\n        this.currentAnimationTarget[axis] = target;\n        var layoutTransition = transition ||\n            visualElement.getDefaultTransition() ||\n            defaultLayoutTransition;\n        // Start the animation on this axis\n        var animation = startAnimation(axis === \"x\" ? \"layoutX\" : \"layoutY\", layoutProgress, progressTarget, layoutTransition && getValueTransition(layoutTransition, \"layout\")).then(this.stopAxisAnimation[axis]);\n        return animation;\n    };\n    Animate.prototype.safeToRemove = function () {\n        var _a, _b;\n        (_b = (_a = this.props).safeToRemove) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    Animate.prototype.render = function () {\n        return null;\n    };\n    return Animate;\n}(React__namespace.Component));\nfunction AnimateLayoutContextProvider(props) {\n    var _a = tslib.__read(usePresence(), 2), safeToRemove = _a[1];\n    return React__namespace.createElement(Animate, tslib.__assign({}, props, { safeToRemove: safeToRemove }));\n}\nfunction hasMoved(a, b) {\n    return (!isZeroBox(a) &&\n        !isZeroBox(b) &&\n        (!axisIsEqual(a.x, b.x) || !axisIsEqual(a.y, b.y)));\n}\nvar zeroAxis = { min: 0, max: 0 };\nfunction isZeroBox(a) {\n    return axisIsEqual(a.x, zeroAxis) && axisIsEqual(a.y, zeroAxis);\n}\nfunction axisIsEqual(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nvar defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nfunction isProvidedCorrectDataForRelativeSharedLayout(prevParent, originBox, targetBox) {\n    return prevParent || (!prevParent && !(originBox || targetBox));\n}\n\n/**\n * Default handlers for batching VisualElements\n */\nvar defaultHandler = {\n    layoutReady: function (child) { return child.notifyLayoutReady(); },\n};\n/**\n * Create a batcher to process VisualElements\n */\nfunction createBatcher() {\n    var queue = new Set();\n    return {\n        add: function (child) { return queue.add(child); },\n        flush: function (_a) {\n            var _b = _a === void 0 ? defaultHandler : _a, layoutReady = _b.layoutReady, parent = _b.parent;\n            batchLayout(function (read, write) {\n                var order = Array.from(queue).sort(compareByDepth);\n                var ancestors = parent\n                    ? collectProjectingAncestors(parent)\n                    : [];\n                write(function () {\n                    var allElements = tslib.__spreadArray(tslib.__spreadArray([], tslib.__read(ancestors)), tslib.__read(order));\n                    allElements.forEach(function (element) { return element.resetTransform(); });\n                });\n                read(function () {\n                    order.forEach(updateLayoutMeasurement);\n                });\n                write(function () {\n                    ancestors.forEach(function (element) { return element.restoreTransform(); });\n                    order.forEach(layoutReady);\n                });\n                read(function () {\n                    /**\n                     * After all children have started animating, ensure any Entering components are set to Present.\n                     * If we add deferred animations (set up all animations and then start them in two loops) this\n                     * could be moved to the start loop. But it needs to happen after all the animations configs\n                     * are generated in AnimateSharedLayout as this relies on presence data\n                     */\n                    order.forEach(function (child) {\n                        if (child.isPresent)\n                            child.presence = Presence.Present;\n                    });\n                });\n                write(function () {\n                    /**\n                     * Starting these animations will have queued jobs on the frame loop. In some situations,\n                     * like when removing an element, these will be processed too late after the DOM is manipulated,\n                     * leaving a flash of incorrectly-projected content. By manually flushing these jobs\n                     * we ensure there's no flash.\n                     */\n                    sync.flushSync.preRender();\n                    sync.flushSync.render();\n                });\n                read(function () {\n                    /**\n                     * Schedule a callback at the end of the following frame to assign the latest projection\n                     * box to the prevViewportBox snapshot. Once global batching is in place this could be run\n                     * synchronously. But for now it ensures that if any nested `AnimateSharedLayout` top-level\n                     * child attempts to calculate its previous relative position against a prevViewportBox\n                     * it will be against its latest projection box instead, as the snapshot is useless beyond this\n                     * render.\n                     */\n                    sync__default['default'].postRender(function () {\n                        return order.forEach(assignProjectionToSnapshot);\n                    });\n                    queue.clear();\n                });\n            });\n            // TODO: Need to find a layout-synchronous way of flushing this\n            flushLayout();\n        },\n    };\n}\nfunction assignProjectionToSnapshot(child) {\n    child.prevViewportBox = child.projection.target;\n}\n\nvar SharedLayoutContext = React.createContext(createBatcher());\n/**\n * @internal\n */\nvar FramerTreeLayoutContext = React.createContext(createBatcher());\nfunction isSharedLayout(context) {\n    return !!context.forceUpdate;\n}\n\n/**\n * This component is responsible for scheduling the measuring of the motion component\n */\nvar Measure = /** @class */ (function (_super) {\n    tslib.__extends(Measure, _super);\n    function Measure() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * If this is a child of a SyncContext, register the VisualElement with it on mount.\n     */\n    Measure.prototype.componentDidMount = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, framerSyncLayout = _a.framerSyncLayout, visualElement = _a.visualElement;\n        isSharedLayout(syncLayout) && syncLayout.register(visualElement);\n        isSharedLayout(framerSyncLayout) &&\n            framerSyncLayout.register(visualElement);\n        visualElement.onUnmount(function () {\n            if (isSharedLayout(syncLayout)) {\n                syncLayout.remove(visualElement);\n            }\n            if (isSharedLayout(framerSyncLayout)) {\n                framerSyncLayout.remove(visualElement);\n            }\n        });\n    };\n    /**\n     * If this is a child of a SyncContext, notify it that it needs to re-render. It will then\n     * handle the snapshotting.\n     *\n     * If it is stand-alone component, add it to the batcher.\n     */\n    Measure.prototype.getSnapshotBeforeUpdate = function () {\n        var _a = this.props, syncLayout = _a.syncLayout, visualElement = _a.visualElement;\n        if (isSharedLayout(syncLayout)) {\n            syncLayout.syncUpdate();\n        }\n        else {\n            snapshotViewportBox(visualElement);\n            syncLayout.add(visualElement);\n        }\n        return null;\n    };\n    Measure.prototype.componentDidUpdate = function () {\n        var syncLayout = this.props.syncLayout;\n        if (!isSharedLayout(syncLayout))\n            syncLayout.flush();\n    };\n    Measure.prototype.render = function () {\n        return null;\n    };\n    return Measure;\n}(React__default['default'].Component));\nfunction MeasureContextProvider(props) {\n    var syncLayout = React.useContext(SharedLayoutContext);\n    var framerSyncLayout = React.useContext(FramerTreeLayoutContext);\n    return (React__default['default'].createElement(Measure, tslib.__assign({}, props, { syncLayout: syncLayout, framerSyncLayout: framerSyncLayout })));\n}\n\nvar layoutAnimations = {\n    measureLayout: MeasureContextProvider,\n    layoutAnimation: AnimateLayoutContextProvider,\n};\n\nvar createProjectionState = function () { return ({\n    isEnabled: false,\n    isHydrated: false,\n    isTargetLocked: false,\n    target: axisBox(),\n    targetFinal: axisBox(),\n}); };\nfunction createLayoutState() {\n    return {\n        isHydrated: false,\n        layout: axisBox(),\n        layoutCorrected: axisBox(),\n        treeScale: { x: 1, y: 1 },\n        delta: delta(),\n        deltaFinal: delta(),\n        deltaTransform: \"\",\n    };\n}\nvar zeroLayout = createLayoutState();\n\n/**\n * Build a transform style that takes a calculated delta between the element's current\n * space on screen and projects it into the desired space.\n */\nfunction buildLayoutProjectionTransform(_a, treeScale, latestTransform) {\n    var x = _a.x, y = _a.y;\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    var xTranslate = x.translate / treeScale.x;\n    var yTranslate = y.translate / treeScale.y;\n    var transform = \"translate3d(\" + xTranslate + \"px, \" + yTranslate + \"px, 0) \";\n    if (latestTransform) {\n        var rotate = latestTransform.rotate, rotateX = latestTransform.rotateX, rotateY = latestTransform.rotateY;\n        if (rotate)\n            transform += \"rotate(\" + rotate + \") \";\n        if (rotateX)\n            transform += \"rotateX(\" + rotateX + \") \";\n        if (rotateY)\n            transform += \"rotateY(\" + rotateY + \") \";\n    }\n    transform += \"scale(\" + x.scale + \", \" + y.scale + \")\";\n    return !latestTransform && transform === identityProjection ? \"\" : transform;\n}\n/**\n * Take the calculated delta origin and apply it as a transform string.\n */\nfunction buildLayoutProjectionTransformOrigin(_a) {\n    var deltaFinal = _a.deltaFinal;\n    return deltaFinal.x.origin * 100 + \"% \" + deltaFinal.y.origin * 100 + \"% 0\";\n}\nvar identityProjection = buildLayoutProjectionTransform(zeroLayout.delta, zeroLayout.treeScale, { x: 1, y: 1 });\n\nvar names = [\n    \"LayoutMeasure\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutUpdate\",\n    \"ViewportBoxUpdate\",\n    \"Update\",\n    \"Render\",\n    \"AnimationComplete\",\n    \"LayoutAnimationComplete\",\n    \"AnimationStart\",\n    \"SetAxisTarget\",\n    \"Unmount\",\n];\nfunction createLifecycles() {\n    var managers = names.map(function () { return new SubscriptionManager(); });\n    var propSubscriptions = {};\n    var lifecycles = {\n        clearAllListeners: function () { return managers.forEach(function (manager) { return manager.clear(); }); },\n        updatePropListeners: function (props) {\n            return names.forEach(function (name) {\n                var _a;\n                (_a = propSubscriptions[name]) === null || _a === void 0 ? void 0 : _a.call(propSubscriptions);\n                var on = \"on\" + name;\n                var propListener = props[on];\n                if (propListener) {\n                    propSubscriptions[name] = lifecycles[on](propListener);\n                }\n            });\n        },\n    };\n    managers.forEach(function (manager, i) {\n        lifecycles[\"on\" + names[i]] = function (handler) { return manager.add(handler); };\n        lifecycles[\"notify\" + names[i]] = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return manager.notify.apply(manager, tslib.__spreadArray([], tslib.__read(args)));\n        };\n    });\n    return lifecycles;\n}\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    var _a;\n    for (var key in next) {\n        var nextValue = next[key];\n        var prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping to a new motion value, create a new motion value\n             * from that\n             */\n            element.addValue(key, motionValue(nextValue));\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                var existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                element.addValue(key, motionValue((_a = element.getStaticValue(key)) !== null && _a !== void 0 ? _a : nextValue));\n            }\n        }\n    }\n    // Handle removed values\n    for (var key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nfunction updateLayoutDeltas(_a, _b, treePath, transformOrigin) {\n    var delta = _a.delta, layout = _a.layout, layoutCorrected = _a.layoutCorrected, treeScale = _a.treeScale;\n    var target = _b.target;\n    /**\n     * Reset the corrected box with the latest values from box, as we're then going\n     * to perform mutative operations on it.\n     */\n    resetBox(layoutCorrected, layout);\n    /**\n     * Apply all the parent deltas to this box to produce the corrected box. This\n     * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n     */\n    applyTreeDeltas(layoutCorrected, treeScale, treePath);\n    /**\n     * Update the delta between the corrected box and the target box before user-set transforms were applied.\n     * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n     * for our layout reprojection, but still allow them to be scaled correctly by the user.\n     * It might be that to simplify this we may want to accept that user-set scale is also corrected\n     * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n     * to allow people to choose whether these styles are corrected based on just the\n     * layout reprojection or the final bounding box.\n     */\n    updateBoxDelta(delta, layoutCorrected, target, transformOrigin);\n}\n\nvar FlatTree = /** @class */ (function () {\n    function FlatTree() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    FlatTree.prototype.add = function (child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    };\n    FlatTree.prototype.remove = function (child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    };\n    FlatTree.prototype.forEach = function (callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    };\n    return FlatTree;\n}());\n\nfunction setCurrentViewportBox(visualElement) {\n    var projectionParent = visualElement.getProjectionParent();\n    if (!projectionParent) {\n        visualElement.rebaseProjectionTarget();\n        return;\n    }\n    var relativeOffset = calcRelativeOffset(projectionParent.getLayoutState().layout, visualElement.getLayoutState().layout);\n    eachAxis(function (axis) {\n        visualElement.setProjectionTargetAxis(axis, relativeOffset[axis].min, relativeOffset[axis].max, true);\n    });\n}\n\nvar visualElement = function (_a) {\n    var _b = _a.treeType, treeType = _b === void 0 ? \"\" : _b, build = _a.build, getBaseTarget = _a.getBaseTarget, makeTargetAnimatable = _a.makeTargetAnimatable, measureViewportBox = _a.measureViewportBox, renderInstance = _a.render, readValueFromInstance = _a.readValueFromInstance, resetTransform = _a.resetTransform, restoreTransform = _a.restoreTransform, removeValueFromRenderState = _a.removeValueFromRenderState, sortNodePosition = _a.sortNodePosition, scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps;\n    return function (_a, options) {\n        var parent = _a.parent, props = _a.props, presenceId = _a.presenceId, blockInitialAnimation = _a.blockInitialAnimation, visualState = _a.visualState;\n        if (options === void 0) { options = {}; }\n        var latestValues = visualState.latestValues, renderState = visualState.renderState;\n        /**\n         * The instance of the render-specific node that will be hydrated by the\n         * exposed React ref. So for example, this visual element can host a\n         * HTMLElement, plain object, or Three.js object. The functions provided\n         * in VisualElementConfig allow us to interface with this instance.\n         */\n        var instance;\n        /**\n         * Manages the subscriptions for a visual element's lifecycle, for instance\n         * onRender and onViewportBoxUpdate.\n         */\n        var lifecycles = createLifecycles();\n        /**\n         *\n         */\n        var projection = createProjectionState();\n        /**\n         * A reference to the nearest projecting parent. This is either\n         * undefined if we haven't looked for the nearest projecting parent,\n         * false if there is no parent performing layout projection, or a reference\n         * to the projecting parent.\n         */\n        var projectionParent;\n        /**\n         * This is a reference to the visual state of the \"lead\" visual element.\n         * Usually, this will be this visual element. But if it shares a layoutId\n         * with other visual elements, only one of them will be designated lead by\n         * AnimateSharedLayout. All the other visual elements will take on the visual\n         * appearance of the lead while they crossfade to it.\n         */\n        var leadProjection = projection;\n        var leadLatestValues = latestValues;\n        var unsubscribeFromLeadVisualElement;\n        /**\n         * The latest layout measurements and calculated projections. This\n         * is seperate from the target projection data in visualState as\n         * many visual elements might point to the same piece of visualState as\n         * a target, whereas they might each have different layouts and thus\n         * projection calculations needed to project into the same viewport box.\n         */\n        var layoutState = createLayoutState();\n        /**\n         *\n         */\n        var crossfader;\n        /**\n         * Keep track of whether the viewport box has been updated since the\n         * last time the layout projection was re-calculated.\n         */\n        var hasViewportBoxUpdated = false;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        var values = new Map();\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        var valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        var prevMotionValues = {};\n        /**\n         * x/y motion values that track the progress of initiated layout\n         * animations.\n         *\n         * TODO: Target for removal\n         */\n        var projectionTargetProgress;\n        /**\n         * When values are removed from all animation props we need to search\n         * for a fallback value to animate to. These values are tracked in baseTarget.\n         */\n        var baseTarget = tslib.__assign({}, latestValues);\n        // Internal methods ========================\n        /**\n         * On mount, this will be hydrated with a callback to disconnect\n         * this visual element from its parent on unmount.\n         */\n        var removeFromVariantTree;\n        /**\n         *\n         */\n        function render() {\n            if (!instance)\n                return;\n            if (element.isProjectionReady()) {\n                /**\n                 * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n                 * This is the final box that we will then project into by calculating a transform delta and\n                 * applying it to the corrected box.\n                 */\n                applyBoxTransforms(leadProjection.targetFinal, leadProjection.target, leadLatestValues);\n                /**\n                 * Update the delta between the corrected box and the final target box, after\n                 * user-set transforms are applied to it. This will be used by the renderer to\n                 * create a transform style that will reproject the element from its actual layout\n                 * into the desired bounding box.\n                 */\n                updateBoxDelta(layoutState.deltaFinal, layoutState.layoutCorrected, leadProjection.targetFinal, latestValues);\n            }\n            triggerBuild();\n            renderInstance(instance, renderState);\n        }\n        function triggerBuild() {\n            var valuesToRender = latestValues;\n            if (crossfader && crossfader.isActive()) {\n                var crossfadedValues = crossfader.getCrossfadeState(element);\n                if (crossfadedValues)\n                    valuesToRender = crossfadedValues;\n            }\n            build(element, renderState, valuesToRender, leadProjection, layoutState, options, props);\n        }\n        function update() {\n            lifecycles.notifyUpdate(latestValues);\n        }\n        function updateLayoutProjection() {\n            if (!element.isProjectionReady())\n                return;\n            var delta = layoutState.delta, treeScale = layoutState.treeScale;\n            var prevTreeScaleX = treeScale.x;\n            var prevTreeScaleY = treeScale.y;\n            var prevDeltaTransform = layoutState.deltaTransform;\n            updateLayoutDeltas(layoutState, leadProjection, element.path, latestValues);\n            hasViewportBoxUpdated &&\n                element.notifyViewportBoxUpdate(leadProjection.target, delta);\n            hasViewportBoxUpdated = false;\n            var deltaTransform = buildLayoutProjectionTransform(delta, treeScale);\n            if (deltaTransform !== prevDeltaTransform ||\n                // Also compare calculated treeScale, for values that rely on this only for scale correction\n                prevTreeScaleX !== treeScale.x ||\n                prevTreeScaleY !== treeScale.y) {\n                element.scheduleRender();\n            }\n            layoutState.deltaTransform = deltaTransform;\n        }\n        function updateTreeLayoutProjection() {\n            element.layoutTree.forEach(fireUpdateLayoutProjection);\n        }\n        /**\n         *\n         */\n        function bindToMotionValue(key, value) {\n            var removeOnChange = value.onChange(function (latestValue) {\n                latestValues[key] = latestValue;\n                props.onUpdate && sync__default['default'].update(update, false, true);\n            });\n            var removeOnRenderRequest = value.onRenderRequest(element.scheduleRender);\n            valueSubscriptions.set(key, function () {\n                removeOnChange();\n                removeOnRenderRequest();\n            });\n        }\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        var initialMotionValues = scrapeMotionValuesFromProps(props);\n        for (var key in initialMotionValues) {\n            var value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n            }\n        }\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        var isControllingVariants = checkIfControllingVariants(props);\n        var isVariantNode = checkIfVariantNode(props);\n        var element = tslib.__assign(tslib.__assign({ treeType: treeType, \n            /**\n             * This is a mirror of the internal instance prop, which keeps\n             * VisualElement type-compatible with React's RefObject.\n             */\n            current: null, \n            /**\n             * The depth of this visual element within the visual element tree.\n             */\n            depth: parent ? parent.depth + 1 : 0, parent: parent, children: new Set(), \n            /**\n             * An ancestor path back to the root visual element. This is used\n             * by layout projection to quickly recurse back up the tree.\n             */\n            path: parent ? tslib.__spreadArray(tslib.__spreadArray([], tslib.__read(parent.path)), [parent]) : [], layoutTree: parent ? parent.layoutTree : new FlatTree(), \n            /**\n             *\n             */\n            presenceId: presenceId,\n            projection: projection, \n            /**\n             * If this component is part of the variant tree, it should track\n             * any children that are also part of the tree. This is essentially\n             * a shadow tree to simplify logic around how to stagger over children.\n             */\n            variantChildren: isVariantNode ? new Set() : undefined, \n            /**\n             * Whether this instance is visible. This can be changed imperatively\n             * by AnimateSharedLayout, is analogous to CSS's visibility in that\n             * hidden elements should take up layout, and needs enacting by the configured\n             * render function.\n             */\n            isVisible: undefined, \n            /**\n             * Normally, if a component is controlled by a parent's variants, it can\n             * rely on that ancestor to trigger animations further down the tree.\n             * However, if a component is created after its parent is mounted, the parent\n             * won't trigger that mount animation so the child needs to.\n             *\n             * TODO: This might be better replaced with a method isParentMounted\n             */\n            manuallyAnimateOnMount: Boolean(parent === null || parent === void 0 ? void 0 : parent.isMounted()), \n            /**\n             * This can be set by AnimatePresence to force components that mount\n             * at the same time as it to mount as if they have initial={false} set.\n             */\n            blockInitialAnimation: blockInitialAnimation, \n            /**\n             * Determine whether this component has mounted yet. This is mostly used\n             * by variant children to determine whether they need to trigger their\n             * own animations on mount.\n             */\n            isMounted: function () { return Boolean(instance); }, mount: function (newInstance) {\n                instance = element.current = newInstance;\n                element.pointTo(element);\n                if (isVariantNode && parent && !isControllingVariants) {\n                    removeFromVariantTree = parent === null || parent === void 0 ? void 0 : parent.addVariantChild(element);\n                }\n                parent === null || parent === void 0 ? void 0 : parent.children.add(element);\n            },\n            /**\n             *\n             */\n            unmount: function () {\n                sync.cancelSync.update(update);\n                sync.cancelSync.render(render);\n                sync.cancelSync.preRender(element.updateLayoutProjection);\n                valueSubscriptions.forEach(function (remove) { return remove(); });\n                element.stopLayoutAnimation();\n                element.layoutTree.remove(element);\n                removeFromVariantTree === null || removeFromVariantTree === void 0 ? void 0 : removeFromVariantTree();\n                parent === null || parent === void 0 ? void 0 : parent.children.delete(element);\n                unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n                lifecycles.clearAllListeners();\n            },\n            /**\n             * Add a child visual element to our set of children.\n             */\n            addVariantChild: function (child) {\n                var _a;\n                var closestVariantNode = element.getClosestVariantNode();\n                if (closestVariantNode) {\n                    (_a = closestVariantNode.variantChildren) === null || _a === void 0 ? void 0 : _a.add(child);\n                    return function () { return closestVariantNode.variantChildren.delete(child); };\n                }\n            },\n            sortNodePosition: function (other) {\n                /**\n                 * If these nodes aren't even of the same type we can't compare their depth.\n                 */\n                if (!sortNodePosition || treeType !== other.treeType)\n                    return 0;\n                return sortNodePosition(element.getInstance(), other.getInstance());\n            }, \n            /**\n             * Returns the closest variant node in the tree starting from\n             * this visual element.\n             */\n            getClosestVariantNode: function () {\n                return isVariantNode ? element : parent === null || parent === void 0 ? void 0 : parent.getClosestVariantNode();\n            }, \n            /**\n             * A method that schedules an update to layout projections throughout\n             * the tree. We inherit from the parent so there's only ever one\n             * job scheduled on the next frame - that of the root visual element.\n             */\n            scheduleUpdateLayoutProjection: parent\n                ? parent.scheduleUpdateLayoutProjection\n                : function () {\n                    return sync__default['default'].preRender(element.updateTreeLayoutProjection, false, true);\n                }, \n            /**\n             * Expose the latest layoutId prop.\n             */\n            getLayoutId: function () { return props.layoutId; }, \n            /**\n             * Returns the current instance.\n             */\n            getInstance: function () { return instance; }, \n            /**\n             * Get/set the latest static values.\n             */\n            getStaticValue: function (key) { return latestValues[key]; }, setStaticValue: function (key, value) { return (latestValues[key] = value); }, \n            /**\n             * Returns the latest motion value state. Currently only used to take\n             * a snapshot of the visual element - perhaps this can return the whole\n             * visual state\n             */\n            getLatestValues: function () { return latestValues; }, \n            /**\n             * Set the visiblity of the visual element. If it's changed, schedule\n             * a render to reflect these changes.\n             */\n            setVisibility: function (visibility) {\n                if (element.isVisible === visibility)\n                    return;\n                element.isVisible = visibility;\n                element.scheduleRender();\n            },\n            /**\n             * Make a target animatable by Popmotion. For instance, if we're\n             * trying to animate width from 100px to 100vw we need to measure 100vw\n             * in pixels to determine what we really need to animate to. This is also\n             * pluggable to support Framer's custom value types like Color,\n             * and CSS variables.\n             */\n            makeTargetAnimatable: function (target, canMutate) {\n                if (canMutate === void 0) { canMutate = true; }\n                return makeTargetAnimatable(element, target, props, canMutate);\n            },\n            // Motion values ========================\n            /**\n             * Add a motion value and bind it to this visual element.\n             */\n            addValue: function (key, value) {\n                // Remove existing value if it exists\n                if (element.hasValue(key))\n                    element.removeValue(key);\n                values.set(key, value);\n                latestValues[key] = value.get();\n                bindToMotionValue(key, value);\n            },\n            /**\n             * Remove a motion value and unbind any active subscriptions.\n             */\n            removeValue: function (key) {\n                var _a;\n                values.delete(key);\n                (_a = valueSubscriptions.get(key)) === null || _a === void 0 ? void 0 : _a();\n                valueSubscriptions.delete(key);\n                delete latestValues[key];\n                removeValueFromRenderState(key, renderState);\n            }, \n            /**\n             * Check whether we have a motion value for this key\n             */\n            hasValue: function (key) { return values.has(key); }, \n            /**\n             * Get a motion value for this key. If called with a default\n             * value, we'll create one if none exists.\n             */\n            getValue: function (key, defaultValue) {\n                var value = values.get(key);\n                if (value === undefined && defaultValue !== undefined) {\n                    value = motionValue(defaultValue);\n                    element.addValue(key, value);\n                }\n                return value;\n            }, \n            /**\n             * Iterate over our motion values.\n             */\n            forEachValue: function (callback) { return values.forEach(callback); }, \n            /**\n             * If we're trying to animate to a previously unencountered value,\n             * we need to check for it in our state and as a last resort read it\n             * directly from the instance (which might have performance implications).\n             */\n            readValue: function (key) { var _a; return (_a = latestValues[key]) !== null && _a !== void 0 ? _a : readValueFromInstance(instance, key, options); }, \n            /**\n             * Set the base target to later animate back to. This is currently\n             * only hydrated on creation and when we first read a value.\n             */\n            setBaseTarget: function (key, value) {\n                baseTarget[key] = value;\n            },\n            /**\n             * Find the base target for a value thats been removed from all animation\n             * props.\n             */\n            getBaseTarget: function (key) {\n                if (getBaseTarget) {\n                    var target = getBaseTarget(props, key);\n                    if (target !== undefined && !isMotionValue(target))\n                        return target;\n                }\n                return baseTarget[key];\n            } }, lifecycles), { \n            /**\n             * Build the renderer state based on the latest visual state.\n             */\n            build: function () {\n                triggerBuild();\n                return renderState;\n            },\n            /**\n             * Schedule a render on the next animation frame.\n             */\n            scheduleRender: function () {\n                sync__default['default'].render(render, false, true);\n            }, \n            /**\n             * Synchronously fire render. It's prefered that we batch renders but\n             * in many circumstances, like layout measurement, we need to run this\n             * synchronously. However in those instances other measures should be taken\n             * to batch reads/writes.\n             */\n            syncRender: render, \n            /**\n             * Update the provided props. Ensure any newly-added motion values are\n             * added to our map, old ones removed, and listeners updated.\n             */\n            setProps: function (newProps) {\n                props = newProps;\n                lifecycles.updatePropListeners(newProps);\n                prevMotionValues = updateMotionValuesFromProps(element, scrapeMotionValuesFromProps(props), prevMotionValues);\n            }, getProps: function () { return props; }, \n            // Variants ==============================\n            /**\n             * Returns the variant definition with a given name.\n             */\n            getVariant: function (name) { var _a; return (_a = props.variants) === null || _a === void 0 ? void 0 : _a[name]; }, \n            /**\n             * Returns the defined default transition on this component.\n             */\n            getDefaultTransition: function () { return props.transition; }, \n            /**\n             * Used by child variant nodes to get the closest ancestor variant props.\n             */\n            getVariantContext: function (startAtParent) {\n                if (startAtParent === void 0) { startAtParent = false; }\n                if (startAtParent)\n                    return parent === null || parent === void 0 ? void 0 : parent.getVariantContext();\n                if (!isControllingVariants) {\n                    var context_1 = (parent === null || parent === void 0 ? void 0 : parent.getVariantContext()) || {};\n                    if (props.initial !== undefined) {\n                        context_1.initial = props.initial;\n                    }\n                    return context_1;\n                }\n                var context = {};\n                for (var i = 0; i < numVariantProps; i++) {\n                    var name_1 = variantProps[i];\n                    var prop = props[name_1];\n                    if (isVariantLabel(prop) || prop === false) {\n                        context[name_1] = prop;\n                    }\n                }\n                return context;\n            },\n            // Layout projection ==============================\n            /**\n             * Enable layout projection for this visual element. Won't actually\n             * occur until we also have hydrated layout measurements.\n             */\n            enableLayoutProjection: function () {\n                projection.isEnabled = true;\n                element.layoutTree.add(element);\n            },\n            /**\n             * Lock the projection target, for instance when dragging, so\n             * nothing else can try and animate it.\n             */\n            lockProjectionTarget: function () {\n                projection.isTargetLocked = true;\n            },\n            unlockProjectionTarget: function () {\n                element.stopLayoutAnimation();\n                projection.isTargetLocked = false;\n            }, getLayoutState: function () { return layoutState; }, setCrossfader: function (newCrossfader) {\n                crossfader = newCrossfader;\n            }, isProjectionReady: function () {\n                return projection.isEnabled &&\n                    projection.isHydrated &&\n                    layoutState.isHydrated;\n            }, \n            /**\n             * Start a layout animation on a given axis.\n             */\n            startLayoutAnimation: function (axis, transition, isRelative) {\n                if (isRelative === void 0) { isRelative = false; }\n                var progress = element.getProjectionAnimationProgress()[axis];\n                var _a = isRelative\n                    ? projection.relativeTarget[axis]\n                    : projection.target[axis], min = _a.min, max = _a.max;\n                var length = max - min;\n                progress.clearListeners();\n                progress.set(min);\n                progress.set(min); // Set twice to hard-reset velocity\n                progress.onChange(function (v) {\n                    element.setProjectionTargetAxis(axis, v, v + length, isRelative);\n                });\n                return element.animateMotionValue(axis, progress, 0, transition);\n            },\n            /**\n             * Stop layout animations.\n             */\n            stopLayoutAnimation: function () {\n                eachAxis(function (axis) {\n                    return element.getProjectionAnimationProgress()[axis].stop();\n                });\n            },\n            /**\n             * Measure the current viewport box with or without transforms.\n             * Only measures axis-aligned boxes, rotate and skew must be manually\n             * removed with a re-render to work.\n             */\n            measureViewportBox: function (withTransform) {\n                if (withTransform === void 0) { withTransform = true; }\n                var viewportBox = measureViewportBox(instance, options);\n                if (!withTransform)\n                    removeBoxTransforms(viewportBox, latestValues);\n                return viewportBox;\n            },\n            /**\n             * Get the motion values tracking the layout animations on each\n             * axis. Lazy init if not already created.\n             */\n            getProjectionAnimationProgress: function () {\n                projectionTargetProgress || (projectionTargetProgress = {\n                    x: motionValue(0),\n                    y: motionValue(0),\n                });\n                return projectionTargetProgress;\n            },\n            /**\n             * Update the projection of a single axis. Schedule an update to\n             * the tree layout projection.\n             */\n            setProjectionTargetAxis: function (axis, min, max, isRelative) {\n                if (isRelative === void 0) { isRelative = false; }\n                var target;\n                if (isRelative) {\n                    if (!projection.relativeTarget) {\n                        projection.relativeTarget = axisBox();\n                    }\n                    target = projection.relativeTarget[axis];\n                }\n                else {\n                    projection.relativeTarget = undefined;\n                    target = projection.target[axis];\n                }\n                projection.isHydrated = true;\n                target.min = min;\n                target.max = max;\n                // Flag that we want to fire the onViewportBoxUpdate event handler\n                hasViewportBoxUpdated = true;\n                lifecycles.notifySetAxisTarget();\n            },\n            /**\n             * Rebase the projection target on top of the provided viewport box\n             * or the measured layout. This ensures that non-animating elements\n             * don't fall out of sync differences in measurements vs projections\n             * after a page scroll or other relayout.\n             */\n            rebaseProjectionTarget: function (force, box) {\n                if (box === void 0) { box = layoutState.layout; }\n                var _a = element.getProjectionAnimationProgress(), x = _a.x, y = _a.y;\n                var shouldRebase = !projection.relativeTarget &&\n                    !projection.isTargetLocked &&\n                    !x.isAnimating() &&\n                    !y.isAnimating();\n                if (force || shouldRebase) {\n                    eachAxis(function (axis) {\n                        var _a = box[axis], min = _a.min, max = _a.max;\n                        element.setProjectionTargetAxis(axis, min, max);\n                    });\n                }\n            },\n            /**\n             * Notify the visual element that its layout is up-to-date.\n             * Currently Animate.tsx uses this to check whether a layout animation\n             * needs to be performed.\n             */\n            notifyLayoutReady: function (config) {\n                setCurrentViewportBox(element);\n                element.notifyLayoutUpdate(layoutState.layout, element.prevViewportBox || layoutState.layout, config);\n            }, \n            /**\n             * Temporarily reset the transform of the instance.\n             */\n            resetTransform: function () { return resetTransform(element, instance, props); }, restoreTransform: function () { return restoreTransform(instance, renderState); }, updateLayoutProjection: updateLayoutProjection,\n            updateTreeLayoutProjection: function () {\n                element.layoutTree.forEach(fireResolveRelativeTargetBox);\n                /**\n                 * Schedule the projection updates at the end of the current preRender\n                 * step. This will ensure that all layout trees will first resolve\n                 * relative projection boxes into viewport boxes, and *then*\n                 * update projections.\n                 */\n                sync__default['default'].preRender(updateTreeLayoutProjection, false, true);\n                // sync.postRender(() => element.scheduleUpdateLayoutProjection())\n            },\n            getProjectionParent: function () {\n                if (projectionParent === undefined) {\n                    var foundParent = false;\n                    // Search backwards through the tree path\n                    for (var i = element.path.length - 1; i >= 0; i--) {\n                        var ancestor = element.path[i];\n                        if (ancestor.projection.isEnabled) {\n                            foundParent = ancestor;\n                            break;\n                        }\n                    }\n                    projectionParent = foundParent;\n                }\n                return projectionParent;\n            },\n            resolveRelativeTargetBox: function () {\n                var relativeParent = element.getProjectionParent();\n                if (!projection.relativeTarget || !relativeParent)\n                    return;\n                calcRelativeBox(projection, relativeParent.projection);\n                if (isDraggable(relativeParent)) {\n                    var target = projection.target;\n                    applyBoxTransforms(target, target, relativeParent.getLatestValues());\n                }\n            },\n            shouldResetTransform: function () {\n                return Boolean(props._layoutResetTransform);\n            },\n            /**\n             *\n             */\n            pointTo: function (newLead) {\n                leadProjection = newLead.projection;\n                leadLatestValues = newLead.getLatestValues();\n                /**\n                 * Subscribe to lead component's layout animations\n                 */\n                unsubscribeFromLeadVisualElement === null || unsubscribeFromLeadVisualElement === void 0 ? void 0 : unsubscribeFromLeadVisualElement();\n                unsubscribeFromLeadVisualElement = popmotion.pipe(newLead.onSetAxisTarget(element.scheduleUpdateLayoutProjection), newLead.onLayoutAnimationComplete(function () {\n                    var _a;\n                    if (element.isPresent) {\n                        element.presence = Presence.Present;\n                    }\n                    else {\n                        (_a = element.layoutSafeToRemove) === null || _a === void 0 ? void 0 : _a.call(element);\n                    }\n                }));\n            }, \n            // TODO: Clean this up\n            isPresent: true, presence: Presence.Entering });\n        return element;\n    };\n};\nfunction fireResolveRelativeTargetBox(child) {\n    child.resolveRelativeTargetBox();\n}\nfunction fireUpdateLayoutProjection(child) {\n    child.updateLayoutProjection();\n}\nvar variantProps = tslib.__spreadArray([\"initial\"], tslib.__read(variantPriorityOrder));\nvar numVariantProps = variantProps.length;\n\nvar positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n]);\nvar isPositionalKey = function (key) { return positionalKeys.has(key); };\nvar hasPositionalKey = function (target) {\n    return Object.keys(target).some(isPositionalKey);\n};\nvar setAndResetVelocity = function (value, to) {\n    // Looks odd but setting it twice doesn't render, it'll just\n    // set both prev and current to the latest value\n    value.set(to, false);\n    value.set(to);\n};\nvar isNumOrPxType = function (v) {\n    return v === styleValueTypes.number || v === styleValueTypes.px;\n};\nvar BoundingBoxDimension;\n(function (BoundingBoxDimension) {\n    BoundingBoxDimension[\"width\"] = \"width\";\n    BoundingBoxDimension[\"height\"] = \"height\";\n    BoundingBoxDimension[\"left\"] = \"left\";\n    BoundingBoxDimension[\"right\"] = \"right\";\n    BoundingBoxDimension[\"top\"] = \"top\";\n    BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\nvar getPosFromMatrix = function (matrix, pos) {\n    return parseFloat(matrix.split(\", \")[pos]);\n};\nvar getTranslateFromMatrix = function (pos2, pos3) { return function (_bbox, _a) {\n    var transform = _a.transform;\n    if (transform === \"none\" || !transform)\n        return 0;\n    var matrix3d = transform.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        var matrix = transform.match(/^matrix\\((.+)\\)$/);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n}; };\nvar transformKeys = new Set([\"x\", \"y\", \"z\"]);\nvar nonTranslationalTransformKeys = transformProps.filter(function (key) { return !transformKeys.has(key); });\nfunction removeNonTranslationalTransform(visualElement) {\n    var removedTransforms = [];\n    nonTranslationalTransformKeys.forEach(function (key) {\n        var value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    // Apply changes to element before measurement\n    if (removedTransforms.length)\n        visualElement.syncRender();\n    return removedTransforms;\n}\nvar positionalValues = {\n    // Dimensions\n    width: function (_a) {\n        var x = _a.x;\n        return x.max - x.min;\n    },\n    height: function (_a) {\n        var y = _a.y;\n        return y.max - y.min;\n    },\n    top: function (_bbox, _a) {\n        var top = _a.top;\n        return parseFloat(top);\n    },\n    left: function (_bbox, _a) {\n        var left = _a.left;\n        return parseFloat(left);\n    },\n    bottom: function (_a, _b) {\n        var y = _a.y;\n        var top = _b.top;\n        return parseFloat(top) + (y.max - y.min);\n    },\n    right: function (_a, _b) {\n        var x = _a.x;\n        var left = _b.left;\n        return parseFloat(left) + (x.max - x.min);\n    },\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\nvar convertChangedValueTypes = function (target, visualElement, changedKeys) {\n    var originBbox = visualElement.measureViewportBox();\n    var element = visualElement.getInstance();\n    var elementComputedStyle = getComputedStyle(element);\n    var display = elementComputedStyle.display, top = elementComputedStyle.top, left = elementComputedStyle.left, bottom = elementComputedStyle.bottom, right = elementComputedStyle.right, transform = elementComputedStyle.transform;\n    var originComputedStyle = { top: top, left: left, bottom: bottom, right: right, transform: transform };\n    // If the element is currently set to display: \"none\", make it visible before\n    // measuring the target bounding box\n    if (display === \"none\") {\n        visualElement.setStaticValue(\"display\", target.display || \"block\");\n    }\n    // Apply the latest values (as set in checkAndConvertChangedValueTypes)\n    visualElement.syncRender();\n    var targetBbox = visualElement.measureViewportBox();\n    changedKeys.forEach(function (key) {\n        // Restore styles to their **calculated computed style**, not their actual\n        // originally set style. This allows us to animate between equivalent pixel units.\n        var value = visualElement.getValue(key);\n        setAndResetVelocity(value, positionalValues[key](originBbox, originComputedStyle));\n        target[key] = positionalValues[key](targetBbox, elementComputedStyle);\n    });\n    return target;\n};\nvar checkAndConvertChangedValueTypes = function (visualElement, target, origin, transitionEnd) {\n    if (origin === void 0) { origin = {}; }\n    if (transitionEnd === void 0) { transitionEnd = {}; }\n    target = tslib.__assign({}, target);\n    transitionEnd = tslib.__assign({}, transitionEnd);\n    var targetPositionalKeys = Object.keys(target).filter(isPositionalKey);\n    // We want to remove any transform values that could affect the element's bounding box before\n    // it's measured. We'll reapply these later.\n    var removedTransformValues = [];\n    var hasAttemptedToRemoveTransformValues = false;\n    var changedValueTypeKeys = [];\n    targetPositionalKeys.forEach(function (key) {\n        var value = visualElement.getValue(key);\n        if (!visualElement.hasValue(key))\n            return;\n        var from = origin[key];\n        var to = target[key];\n        var fromType = findDimensionValueType(from);\n        var toType;\n        // TODO: The current implementation of this basically throws an error\n        // if you try and do value conversion via keyframes. There's probably\n        // a way of doing this but the performance implications would need greater scrutiny,\n        // as it'd be doing multiple resize-remeasure operations.\n        if (isKeyframesTarget(to)) {\n            var numKeyframes = to.length;\n            for (var i = to[0] === null ? 1 : 0; i < numKeyframes; i++) {\n                if (!toType) {\n                    toType = findDimensionValueType(to[i]);\n                    heyListen.invariant(toType === fromType ||\n                        (isNumOrPxType(fromType) && isNumOrPxType(toType)), \"Keyframes must be of the same dimension as the current value\");\n                }\n                else {\n                    heyListen.invariant(findDimensionValueType(to[i]) === toType, \"All keyframes must be of the same type\");\n                }\n            }\n        }\n        else {\n            toType = findDimensionValueType(to);\n        }\n        if (fromType !== toType) {\n            // If they're both just number or px, convert them both to numbers rather than\n            // relying on resize/remeasure to convert (which is wasteful in this situation)\n            if (isNumOrPxType(fromType) && isNumOrPxType(toType)) {\n                var current = value.get();\n                if (typeof current === \"string\") {\n                    value.set(parseFloat(current));\n                }\n                if (typeof to === \"string\") {\n                    target[key] = parseFloat(to);\n                }\n                else if (Array.isArray(to) && toType === styleValueTypes.px) {\n                    target[key] = to.map(parseFloat);\n                }\n            }\n            else if ((fromType === null || fromType === void 0 ? void 0 : fromType.transform) &&\n                (toType === null || toType === void 0 ? void 0 : toType.transform) &&\n                (from === 0 || to === 0)) {\n                // If one or the other value is 0, it's safe to coerce it to the\n                // type of the other without measurement\n                if (from === 0) {\n                    value.set(toType.transform(from));\n                }\n                else {\n                    target[key] = fromType.transform(to);\n                }\n            }\n            else {\n                // If we're going to do value conversion via DOM measurements, we first\n                // need to remove non-positional transform values that could affect the bbox measurements.\n                if (!hasAttemptedToRemoveTransformValues) {\n                    removedTransformValues = removeNonTranslationalTransform(visualElement);\n                    hasAttemptedToRemoveTransformValues = true;\n                }\n                changedValueTypeKeys.push(key);\n                transitionEnd[key] =\n                    transitionEnd[key] !== undefined\n                        ? transitionEnd[key]\n                        : target[key];\n                setAndResetVelocity(value, to);\n            }\n        }\n    });\n    if (changedValueTypeKeys.length) {\n        var convertedTarget = convertChangedValueTypes(target, visualElement, changedValueTypeKeys);\n        // If we removed transform values, reapply them before the next render\n        if (removedTransformValues.length) {\n            removedTransformValues.forEach(function (_a) {\n                var _b = tslib.__read(_a, 2), key = _b[0], value = _b[1];\n                visualElement.getValue(key).set(value);\n            });\n        }\n        // Reapply original values\n        visualElement.syncRender();\n        return { target: convertedTarget, transitionEnd: transitionEnd };\n    }\n    else {\n        return { target: target, transitionEnd: transitionEnd };\n    }\n};\n/**\n * Convert value types for x/y/width/height/top/left/bottom/right\n *\n * Allows animation between `'auto'` -> `'100%'` or `0` -> `'calc(50% - 10vw)'`\n *\n * @internal\n */\nfunction unitConversion(visualElement, target, origin, transitionEnd) {\n    return hasPositionalKey(target)\n        ? checkAndConvertChangedValueTypes(visualElement, target, origin, transitionEnd)\n        : { target: target, transitionEnd: transitionEnd };\n}\n\n/**\n * Parse a DOM variant to make it animatable. This involves resolving CSS variables\n * and ensuring animations like \"20%\" => \"calc(50vw)\" are performed in pixels.\n */\nvar parseDomVariant = function (visualElement, target, origin, transitionEnd) {\n    var resolved = resolveCSSVariables(visualElement, target, transitionEnd);\n    target = resolved.target;\n    transitionEnd = resolved.transitionEnd;\n    return unitConversion(visualElement, target, origin, transitionEnd);\n};\n\nfunction getComputedStyle$1(element) {\n    return window.getComputedStyle(element);\n}\nvar htmlConfig = {\n    treeType: \"dom\",\n    readValueFromInstance: function (domElement, key) {\n        if (isTransformProp(key)) {\n            var defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            var computedStyle = getComputedStyle$1(domElement);\n            return ((isCSSVariable$1(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0);\n        }\n    },\n    sortNodePosition: function (a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    },\n    getBaseTarget: function (props, key) {\n        var _a;\n        return (_a = props.style) === null || _a === void 0 ? void 0 : _a[key];\n    },\n    measureViewportBox: function (element, _a) {\n        var transformPagePoint = _a.transformPagePoint;\n        return getBoundingBox(element, transformPagePoint);\n    },\n    /**\n     * Reset the transform on the current Element. This is called as part\n     * of a batched process across the entire layout tree. To remove this write\n     * cycle it'd be interesting to see if it's possible to \"undo\" all the current\n     * layout transforms up the tree in the same way this.getBoundingBoxWithoutTransforms\n     * works\n     */\n    resetTransform: function (element, domElement, props) {\n        var transformTemplate = props.transformTemplate;\n        domElement.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        // Ensure that whatever happens next, we restore our transform on the next frame\n        element.scheduleRender();\n    },\n    restoreTransform: function (instance, mutableState) {\n        instance.style.transform = mutableState.style.transform;\n    },\n    removeValueFromRenderState: function (key, _a) {\n        var vars = _a.vars, style = _a.style;\n        delete vars[key];\n        delete style[key];\n    },\n    /**\n     * Ensure that HTML and Framer-specific value types like `px`->`%` and `Color`\n     * can be animated by Motion.\n     */\n    makeTargetAnimatable: function (element, _a, _b, isMounted) {\n        var transformValues = _b.transformValues;\n        if (isMounted === void 0) { isMounted = true; }\n        var transition = _a.transition, transitionEnd = _a.transitionEnd, target = tslib.__rest(_a, [\"transition\", \"transitionEnd\"]);\n        var origin = getOrigin(target, transition || {}, element);\n        /**\n         * If Framer has provided a function to convert `Color` etc value types, convert them\n         */\n        if (transformValues) {\n            if (transitionEnd)\n                transitionEnd = transformValues(transitionEnd);\n            if (target)\n                target = transformValues(target);\n            if (origin)\n                origin = transformValues(origin);\n        }\n        if (isMounted) {\n            checkTargetForNewValues(element, target, origin);\n            var parsed = parseDomVariant(element, target, origin, transitionEnd);\n            transitionEnd = parsed.transitionEnd;\n            target = parsed.target;\n        }\n        return tslib.__assign({ transition: transition,\n            transitionEnd: transitionEnd }, target);\n    },\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps$1,\n    build: function (element, renderState, latestValues, projection, layoutState, options, props) {\n        if (element.isVisible !== undefined) {\n            renderState.style.visibility = element.isVisible\n                ? \"visible\"\n                : \"hidden\";\n        }\n        var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n        buildHTMLStyles(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform\n            ? buildLayoutProjectionTransformOrigin\n            : undefined);\n    },\n    render: renderHTML,\n};\nvar htmlVisualElement = visualElement(htmlConfig);\n\nvar svgVisualElement = visualElement(tslib.__assign(tslib.__assign({}, htmlConfig), { getBaseTarget: function (props, key) {\n        return props[key];\n    },\n    readValueFromInstance: function (domElement, key) {\n        var _a;\n        if (isTransformProp(key)) {\n            return ((_a = getDefaultValueType(key)) === null || _a === void 0 ? void 0 : _a.default) || 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return domElement.getAttribute(key);\n    },\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    build: function (_element, renderState, latestValues, projection, layoutState, options, props) {\n        var isProjectionTranform = projection.isEnabled && layoutState.isHydrated;\n        buildSVGAttrs(renderState, latestValues, projection, layoutState, options, props.transformTemplate, isProjectionTranform ? buildLayoutProjectionTransform : undefined, isProjectionTranform\n            ? buildLayoutProjectionTransformOrigin\n            : undefined);\n    }, render: renderSVG }));\n\nvar createDomVisualElement = function (Component, options) {\n    return isSVGComponent(Component)\n        ? svgVisualElement(options, { enableHardwareAcceleration: false })\n        : htmlVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nvar featureBundle = tslib.__assign(tslib.__assign(tslib.__assign(tslib.__assign({}, animations), gestureAnimations), drag), layoutAnimations);\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nvar motion = /*@__PURE__*/ createMotionProxy(function (Component, config) {\n    return createDomMotionConfig(Component, config, featureBundle, createDomVisualElement);\n});\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, featureBundle, createDomVisualElement));\n}\n\n/**\n * @public\n */\nvar m = createMotionProxy(createDomMotionConfig);\n\nfunction useForceUpdate() {\n    var unloadingRef = React.useRef(false);\n    var _a = tslib.__read(React.useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return React.useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = React.useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    React.useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React__namespace.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React__namespace.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    React.Children.forEach(children, function (child) {\n        if (React.isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = React.useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = React.useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = React.useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = React.useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = React.useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React__namespace.createElement(React__namespace.Fragment, null, filteredChildren.map(function (child) { return (React__namespace.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = tslib.__spreadArray([], tslib.__read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React__namespace.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React__namespace.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React__namespace.createElement(React__namespace.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return React.cloneElement(child); })));\n};\n\n/**\n * Animate a single value or a `MotionValue`.\n *\n * The first argument is either a `MotionValue` to animate, or an initial animation value.\n *\n * The second is either a value to animate to, or an array of keyframes to animate through.\n *\n * The third argument can be either tween or spring options, and optional lifecycle methods: `onUpdate`, `onPlay`, `onComplete`, `onRepeat` and `onStop`.\n *\n * Returns `AnimationPlaybackControls`, currently just a `stop` method.\n *\n * ```javascript\n * const x = useMotionValue(0)\n *\n * useEffect(() => {\n *   const controls = animate(x, 100, {\n *     type: \"spring\",\n *     stiffness: 2000,\n *     onComplete: v => {}\n *   })\n *\n *   return controls.stop\n * })\n * ```\n *\n * @public\n */\nfunction animate(from, to, transition) {\n    if (transition === void 0) { transition = {}; }\n    var value = isMotionValue(from) ? from : motionValue(from);\n    startAnimation(\"\", value, to, transition);\n    return {\n        stop: function () { return value.stop(); },\n    };\n}\n\nfunction createCrossfader() {\n    /**\n     * The current state of the crossfade as a value between 0 and 1\n     */\n    var progress = motionValue(1);\n    var options = {\n        lead: undefined,\n        follow: undefined,\n        crossfadeOpacity: false,\n        preserveFollowOpacity: false,\n    };\n    var prevOptions = tslib.__assign({}, options);\n    var leadState = {};\n    var followState = {};\n    /**\n     *\n     */\n    var isActive = false;\n    /**\n     *\n     */\n    var finalCrossfadeFrame = null;\n    /**\n     * Framestamp of the last frame we updated values at.\n     */\n    var prevUpdate = 0;\n    function startCrossfadeAnimation(target, transition) {\n        var lead = options.lead, follow = options.follow;\n        isActive = true;\n        finalCrossfadeFrame = null;\n        var hasUpdated = false;\n        var onUpdate = function () {\n            hasUpdated = true;\n            lead && lead.scheduleRender();\n            follow && follow.scheduleRender();\n        };\n        var onComplete = function () {\n            isActive = false;\n            /**\n             * If the crossfade animation is no longer active, flag a frame\n             * that we're still allowed to crossfade\n             */\n            finalCrossfadeFrame = sync.getFrameData().timestamp;\n        };\n        transition = transition && getValueTransition(transition, \"crossfade\");\n        return animate(progress, target, tslib.__assign(tslib.__assign({}, transition), { onUpdate: onUpdate, onComplete: function () {\n                if (!hasUpdated) {\n                    progress.set(target);\n                    /**\n                     * If we never ran an update, for instance if this was an instant transition, fire a\n                     * simulated final frame to ensure the crossfade gets applied correctly.\n                     */\n                    sync__default['default'].read(onComplete);\n                }\n                else {\n                    onComplete();\n                }\n                onUpdate();\n            } }));\n    }\n    function updateCrossfade() {\n        var _a, _b;\n        /**\n         * We only want to compute the crossfade once per frame, so we\n         * compare the previous update framestamp with the current frame\n         * and early return if they're the same.\n         */\n        var timestamp = sync.getFrameData().timestamp;\n        var lead = options.lead, follow = options.follow;\n        if (timestamp === prevUpdate || !lead)\n            return;\n        prevUpdate = timestamp;\n        /**\n         * Merge each component's latest values into our crossfaded state\n         * before crossfading.\n         */\n        var latestLeadValues = lead.getLatestValues();\n        Object.assign(leadState, latestLeadValues);\n        var latestFollowValues = follow\n            ? follow.getLatestValues()\n            : options.prevValues;\n        Object.assign(followState, latestFollowValues);\n        var p = progress.get();\n        /**\n         * Crossfade the opacity between the two components. This will result\n         * in a different opacity for each component.\n         */\n        var leadTargetOpacity = (_a = latestLeadValues.opacity) !== null && _a !== void 0 ? _a : 1;\n        var followTargetOpacity = (_b = latestFollowValues === null || latestFollowValues === void 0 ? void 0 : latestFollowValues.opacity) !== null && _b !== void 0 ? _b : 1;\n        if (options.crossfadeOpacity && follow) {\n            leadState.opacity = popmotion.mix(\n            /**\n             * If the follow child has been completely hidden we animate\n             * this opacity from its previous opacity, but otherwise from completely transparent.\n             */\n            follow.isVisible !== false ? 0 : followTargetOpacity, leadTargetOpacity, easeCrossfadeIn(p));\n            followState.opacity = options.preserveFollowOpacity\n                ? followTargetOpacity\n                : popmotion.mix(followTargetOpacity, 0, easeCrossfadeOut(p));\n        }\n        else if (!follow) {\n            leadState.opacity = popmotion.mix(followTargetOpacity, leadTargetOpacity, p);\n        }\n        mixValues(leadState, followState, latestLeadValues, latestFollowValues || {}, Boolean(follow), p);\n    }\n    return {\n        isActive: function () {\n            return leadState &&\n                (isActive || sync.getFrameData().timestamp === finalCrossfadeFrame);\n        },\n        fromLead: function (transition) {\n            return startCrossfadeAnimation(0, transition);\n        },\n        toLead: function (transition) {\n            var initialProgress = 0;\n            if (!options.prevValues && !options.follow) {\n                /**\n                 * If we're not coming from anywhere, start at the end of the animation.\n                 */\n                initialProgress = 1;\n            }\n            else if (prevOptions.lead === options.follow &&\n                prevOptions.follow === options.lead) {\n                /**\n                 * If we're swapping follow/lead we can reverse the progress\n                 */\n                initialProgress = 1 - progress.get();\n            }\n            progress.set(initialProgress);\n            return startCrossfadeAnimation(1, transition);\n        },\n        reset: function () { return progress.set(1); },\n        stop: function () { return progress.stop(); },\n        getCrossfadeState: function (element) {\n            updateCrossfade();\n            if (element === options.lead) {\n                return leadState;\n            }\n            else if (element === options.follow) {\n                return followState;\n            }\n        },\n        setOptions: function (newOptions) {\n            prevOptions = options;\n            options = newOptions;\n            leadState = {};\n            followState = {};\n        },\n        getLatestValues: function () {\n            return leadState;\n        },\n    };\n}\nvar easeCrossfadeIn = compress(0, 0.5, popmotion.circOut);\nvar easeCrossfadeOut = compress(0.5, 0.95, popmotion.linear);\nfunction compress(min, max, easing) {\n    return function (p) {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(popmotion.progress(min, max, p));\n    };\n}\nvar borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nvar numBorders = borders.length;\nfunction mixValues(leadState, followState, latestLeadValues, latestFollowValues, hasFollowElement, p) {\n    /**\n     * Mix border radius\n     */\n    for (var i = 0; i < numBorders; i++) {\n        var borderLabel = \"border\" + borders[i] + \"Radius\";\n        var followRadius = getRadius(latestFollowValues, borderLabel);\n        var leadRadius = getRadius(latestLeadValues, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        /**\n         * Currently we're only crossfading between numerical border radius.\n         * It would be possible to crossfade between percentages for a little\n         * extra bundle size.\n         */\n        if (typeof followRadius === \"number\" &&\n            typeof leadRadius === \"number\") {\n            var radius = Math.max(popmotion.mix(followRadius, leadRadius, p), 0);\n            leadState[borderLabel] = followState[borderLabel] = radius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (latestFollowValues.rotate || latestLeadValues.rotate) {\n        var rotate = popmotion.mix(latestFollowValues.rotate || 0, latestLeadValues.rotate || 0, p);\n        leadState.rotate = followState.rotate = rotate;\n    }\n    /**\n     * We only want to mix the background color if there's a follow element\n     * that we're not crossfading opacity between. For instance with switch\n     * AnimateSharedLayout animations, this helps the illusion of a continuous\n     * element being animated but also cuts down on the number of paints triggered\n     * for elements where opacity is doing that work for us.\n     */\n    if (!hasFollowElement &&\n        latestLeadValues.backgroundColor &&\n        latestFollowValues.backgroundColor) {\n        /**\n         * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n         * We could probably create a mixer that runs at the start of the animation but\n         * the idea behind the crossfader is that it runs dynamically between two potentially\n         * changing targets (ie opacity or borderRadius may be animating independently via variants)\n         */\n        leadState.backgroundColor = followState.backgroundColor = popmotion.mixColor(latestFollowValues.backgroundColor, latestLeadValues.backgroundColor)(p);\n    }\n}\nfunction getRadius(values, radiusName) {\n    var _a;\n    return (_a = values[radiusName]) !== null && _a !== void 0 ? _a : values.borderRadius;\n}\n\nfunction layoutStack() {\n    var stack = new Set();\n    var state = { leadIsExiting: false };\n    var prevState = tslib.__assign({}, state);\n    var prevValues;\n    var prevViewportBox;\n    var prevDragCursor;\n    var crossfader = createCrossfader();\n    var needsCrossfadeAnimation = false;\n    function getFollowViewportBox() {\n        return state.follow ? state.follow.prevViewportBox : prevViewportBox;\n    }\n    function getFollowLayout() {\n        var _a;\n        return (_a = state.follow) === null || _a === void 0 ? void 0 : _a.getLayoutState().layout;\n    }\n    return {\n        add: function (element) {\n            element.setCrossfader(crossfader);\n            stack.add(element);\n            /**\n             * Hydrate new element with previous drag position if we have one\n             */\n            if (prevDragCursor)\n                element.prevDragCursor = prevDragCursor;\n            if (!state.lead)\n                state.lead = element;\n        },\n        remove: function (element) {\n            stack.delete(element);\n        },\n        getLead: function () { return state.lead; },\n        updateSnapshot: function () {\n            if (!state.lead)\n                return;\n            prevValues = crossfader.isActive()\n                ? crossfader.getLatestValues()\n                : state.lead.getLatestValues();\n            prevViewportBox = state.lead.prevViewportBox;\n            var dragControls = elementDragControls.get(state.lead);\n            if (dragControls && dragControls.isDragging) {\n                prevDragCursor = dragControls.cursorProgress;\n            }\n        },\n        clearSnapshot: function () {\n            prevDragCursor = prevViewportBox = undefined;\n        },\n        updateLeadAndFollow: function () {\n            var _a;\n            prevState = tslib.__assign({}, state);\n            var lead;\n            var follow;\n            var order = Array.from(stack);\n            for (var i = order.length; i--; i >= 0) {\n                var element = order[i];\n                if (lead)\n                    follow !== null && follow !== void 0 ? follow : (follow = element);\n                lead !== null && lead !== void 0 ? lead : (lead = element);\n                if (lead && follow)\n                    break;\n            }\n            state.lead = lead;\n            state.follow = follow;\n            state.leadIsExiting = ((_a = state.lead) === null || _a === void 0 ? void 0 : _a.presence) === Presence.Exiting;\n            crossfader.setOptions({\n                lead: lead,\n                follow: follow,\n                prevValues: prevValues,\n                crossfadeOpacity: (follow === null || follow === void 0 ? void 0 : follow.isPresenceRoot) || (lead === null || lead === void 0 ? void 0 : lead.isPresenceRoot),\n            });\n            if (\n            // Don't crossfade if we've just animated back from lead and switched the\n            // old follow to the new lead.\n            state.lead !== prevState.follow &&\n                (prevState.lead !== state.lead ||\n                    prevState.leadIsExiting !== state.leadIsExiting)) {\n                needsCrossfadeAnimation = true;\n            }\n        },\n        animate: function (child, shouldCrossfade) {\n            var _a;\n            if (shouldCrossfade === void 0) { shouldCrossfade = false; }\n            if (child === state.lead) {\n                if (shouldCrossfade) {\n                    /**\n                     * Point a lead to itself in case it was previously pointing\n                     * to a different visual element\n                     */\n                    child.pointTo(state.lead);\n                }\n                else {\n                    child.setVisibility(true);\n                }\n                var config = {};\n                var prevParent = (_a = state.follow) === null || _a === void 0 ? void 0 : _a.getProjectionParent();\n                if (prevParent) {\n                    /**\n                     * We'll use this to determine if the element or its layoutId has been reparented.\n                     */\n                    config.prevParent = prevParent;\n                }\n                if (child.presence === Presence.Entering) {\n                    config.originBox = getFollowViewportBox();\n                }\n                else if (child.presence === Presence.Exiting) {\n                    config.targetBox = getFollowLayout();\n                }\n                if (needsCrossfadeAnimation) {\n                    needsCrossfadeAnimation = false;\n                    var transition = child.getDefaultTransition();\n                    child.presence === Presence.Entering\n                        ? crossfader.toLead(transition)\n                        : crossfader.fromLead(transition);\n                }\n                child.notifyLayoutReady(config);\n            }\n            else {\n                if (shouldCrossfade) {\n                    state.lead && child.pointTo(state.lead);\n                }\n                else {\n                    child.setVisibility(false);\n                }\n            }\n        },\n    };\n}\n\nfunction resetRotate(child) {\n    // If there's no detected rotation values, we can early return without a forced render.\n    var hasRotate = false;\n    // Keep a record of all the values we've reset\n    var resetValues = {};\n    // Check the rotate value of all axes and reset to 0\n    for (var i = 0; i < transformAxes.length; i++) {\n        var axis = transformAxes[i];\n        var key = \"rotate\" + axis;\n        // If this rotation doesn't exist as a motion value, then we don't\n        // need to reset it\n        if (!child.hasValue(key) || child.getStaticValue(key) === 0)\n            continue;\n        hasRotate = true;\n        // Record the rotation and then temporarily set it to 0\n        resetValues[key] = child.getStaticValue(key);\n        child.setStaticValue(key, 0);\n    }\n    // If there's no rotation values, we don't need to do any more.\n    if (!hasRotate)\n        return;\n    // Force a render of this element to apply the transform with all rotations\n    // set to 0.\n    child.syncRender();\n    // Put back all the values we reset\n    for (var key in resetValues) {\n        child.setStaticValue(key, resetValues[key]);\n    }\n    // Schedule a render for the next frame. This ensures we won't visually\n    // see the element with the reset rotate value applied.\n    child.scheduleRender();\n}\n\n/**\n * @public\n */\nvar AnimateSharedLayout = /** @class */ (function (_super) {\n    tslib.__extends(AnimateSharedLayout, _super);\n    function AnimateSharedLayout() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * A list of all the children in the shared layout\n         */\n        _this.children = new Set();\n        /**\n         * As animate components with a defined `layoutId` are added/removed to the tree,\n         * we store them in order. When one is added, it will animate out from the\n         * previous one, and when it's removed, it'll animate to the previous one.\n         */\n        _this.stacks = new Map();\n        /**\n         * Track whether the component has mounted. If it hasn't, the presence of added children\n         * are set to Present, whereas if it has they're considered Entering\n         */\n        _this.hasMounted = false;\n        /**\n         * Track whether we already have an update scheduled. If we don't, we'll run snapshots\n         * and schedule one.\n         */\n        _this.updateScheduled = false;\n        /**\n         * Tracks whether we already have a render scheduled. If we don't, we'll force one with this.forceRender\n         */\n        _this.renderScheduled = false;\n        /**\n         * The methods provided to all children in the shared layout tree.\n         */\n        _this.syncContext = tslib.__assign(tslib.__assign({}, createBatcher()), { syncUpdate: function (force) { return _this.scheduleUpdate(force); }, forceUpdate: function () {\n                // By copying syncContext to itself, when this component re-renders it'll also re-render\n                // all children subscribed to the SharedLayout context.\n                _this.syncContext = tslib.__assign({}, _this.syncContext);\n                _this.scheduleUpdate(true);\n            }, register: function (child) { return _this.addChild(child); }, remove: function (child) { return _this.removeChild(child); } });\n        return _this;\n    }\n    AnimateSharedLayout.prototype.componentDidMount = function () {\n        this.hasMounted = true;\n    };\n    AnimateSharedLayout.prototype.componentDidUpdate = function () {\n        this.startLayoutAnimation();\n    };\n    AnimateSharedLayout.prototype.shouldComponentUpdate = function () {\n        this.renderScheduled = true;\n        return true;\n    };\n    AnimateSharedLayout.prototype.startLayoutAnimation = function () {\n        var _this = this;\n        /**\n         * Reset update and render scheduled status\n         */\n        this.renderScheduled = this.updateScheduled = false;\n        var type = this.props.type;\n        /**\n         * Update presence metadata based on the latest AnimatePresence status.\n         * This is a kind of goofy way of dealing with this, perhaps there's a better model to find.\n         */\n        this.children.forEach(function (child) {\n            if (!child.isPresent) {\n                child.presence = Presence.Exiting;\n            }\n            else if (child.presence !== Presence.Entering) {\n                child.presence =\n                    child.presence === Presence.Exiting\n                        ? Presence.Entering\n                        : Presence.Present;\n            }\n        });\n        this.updateStacks();\n        /**\n         * Create a handler which we can use to flush the children animations\n         */\n        var handler = {\n            layoutReady: function (child) {\n                if (child.getLayoutId() !== undefined) {\n                    var stack = _this.getStack(child);\n                    stack.animate(child, type === \"crossfade\");\n                }\n                else {\n                    child.notifyLayoutReady();\n                }\n            },\n            parent: this.context.visualElement,\n        };\n        /**\n         * Shared layout animations can be used without the AnimateSharedLayout wrapping component.\n         * This requires some co-ordination across components to stop layout thrashing\n         * and ensure measurements are taken at the correct time.\n         *\n         * Here we use that same mechanism of schedule/flush.\n         */\n        this.children.forEach(function (child) { return _this.syncContext.add(child); });\n        this.syncContext.flush(handler);\n        /**\n         * Clear snapshots so subsequent rerenders don't retain memory of outgoing components\n         */\n        this.stacks.forEach(function (stack) { return stack.clearSnapshot(); });\n    };\n    AnimateSharedLayout.prototype.updateStacks = function () {\n        this.stacks.forEach(function (stack) { return stack.updateLeadAndFollow(); });\n    };\n    AnimateSharedLayout.prototype.scheduleUpdate = function (force) {\n        if (force === void 0) { force = false; }\n        if (!(force || !this.updateScheduled))\n            return;\n        /**\n         * Flag we've scheduled an update\n         */\n        this.updateScheduled = true;\n        /**\n         * Write: Reset transforms so bounding boxes can be accurately measured.\n         */\n        this.children.forEach(function (child) {\n            resetRotate(child);\n            if (child.shouldResetTransform())\n                child.resetTransform();\n        });\n        /**\n         * Read: Snapshot children\n         */\n        this.children.forEach(snapshotViewportBox);\n        /**\n         * Every child keeps a local snapshot, but we also want to record\n         * snapshots of the visible children as, if they're are being removed\n         * in this render, we can still access them.\n         *\n         * TODO: What would be better here is doing a single loop where we\n         * only snapshotViewportBoxes of undefined layoutIds and then one for each stack\n         */\n        this.stacks.forEach(function (stack) { return stack.updateSnapshot(); });\n        /**\n         * Force a rerender by setting state if we aren't already going to render.\n         */\n        if (force || !this.renderScheduled) {\n            this.renderScheduled = true;\n            this.forceUpdate();\n        }\n    };\n    AnimateSharedLayout.prototype.addChild = function (child) {\n        this.children.add(child);\n        this.addToStack(child);\n        child.presence = this.hasMounted ? Presence.Entering : Presence.Present;\n    };\n    AnimateSharedLayout.prototype.removeChild = function (child) {\n        this.scheduleUpdate();\n        this.children.delete(child);\n        this.removeFromStack(child);\n    };\n    AnimateSharedLayout.prototype.addToStack = function (child) {\n        var stack = this.getStack(child);\n        stack === null || stack === void 0 ? void 0 : stack.add(child);\n    };\n    AnimateSharedLayout.prototype.removeFromStack = function (child) {\n        var stack = this.getStack(child);\n        stack === null || stack === void 0 ? void 0 : stack.remove(child);\n    };\n    /**\n     * Return a stack of animate children based on the provided layoutId.\n     * Will create a stack if none currently exists with that layoutId.\n     */\n    AnimateSharedLayout.prototype.getStack = function (child) {\n        var id = child.getLayoutId();\n        if (id === undefined)\n            return;\n        // Create stack if it doesn't already exist\n        !this.stacks.has(id) && this.stacks.set(id, layoutStack());\n        return this.stacks.get(id);\n    };\n    AnimateSharedLayout.prototype.render = function () {\n        return (React__namespace.createElement(SharedLayoutContext.Provider, { value: this.syncContext }, this.props.children));\n    };\n    AnimateSharedLayout.contextType = MotionContext;\n    return AnimateSharedLayout;\n}(React__namespace.Component));\n\n/**\n * `MotionConfig` is used to set configuration options for all children `motion` components.\n *\n * ```jsx\n * import { motion, MotionConfig } from \"framer-motion\"\n *\n * export function App() {\n *   return (\n *     <MotionConfig transition={{ type: \"spring\" }}>\n *       <motion.div animate={{ x: 100 }} />\n *     </MotionConfig>\n *   )\n * }\n * ```\n *\n * @public\n */\nfunction MotionConfig(_a) {\n    var children = _a.children, config = tslib.__rest(_a, [\"children\"]);\n    /**\n     * Inherit props from any parent MotionConfig components\n     */\n    config = tslib.__assign(tslib.__assign({}, React.useContext(MotionConfigContext)), config);\n    /**\n     * Don't allow isStatic to change between renders as it affects how many hooks\n     * motion components fire.\n     */\n    config.isStatic = useConstant(function () { return config.isStatic; });\n    /**\n     * Creating a new config context object will re-render every `motion` component\n     * every time it renders. So we only want to create a new one sparingly.\n     */\n    var transitionDependency = typeof config.transition === \"object\"\n        ? config.transition.toString()\n        : \"\";\n    var context = React.useMemo(function () { return config; }, [\n        transitionDependency,\n        config.transformPagePoint,\n    ]);\n    return (React__namespace.createElement(MotionConfigContext.Provider, { value: context }, children));\n}\n\n/**\n * Used in conjunction with the `m` component to reduce bundle size.\n *\n * `m` is a version of the `motion` component that only loads functionality\n * critical for the initial render.\n *\n * `LazyMotion` can then be used to either synchronously or asynchronously\n * load animation and gesture support.\n *\n * ```jsx\n * // Synchronous loading\n * import { LazyMotion, m, domAnimations } from \"framer-motion\"\n *\n * function App() {\n *   return (\n *     <LazyMotion features={domAnimations}>\n *       <m.div animate={{ scale: 2 }} />\n *     </LazyMotion>\n *   )\n * }\n *\n * // Asynchronous loading\n * import { LazyMotion, m } from \"framer-motion\"\n *\n * function App() {\n *   return (\n *     <LazyMotion features={() => import('./path/to/domAnimations')}>\n *       <m.div animate={{ scale: 2 }} />\n *     </LazyMotion>\n *   )\n * }\n * ```\n *\n * @public\n */\nfunction LazyMotion(_a) {\n    var children = _a.children, features = _a.features, _b = _a.strict, strict = _b === void 0 ? false : _b;\n    var _c = tslib.__read(React.useState(!isLazyBundle(features)), 2), setIsLoaded = _c[1];\n    var loadedRenderer = React.useRef(undefined);\n    /**\n     * If this is a synchronous load, load features immediately\n     */\n    if (!isLazyBundle(features)) {\n        var renderer = features.renderer, loadedFeatures = tslib.__rest(features, [\"renderer\"]);\n        loadedRenderer.current = renderer;\n        loadFeatures(loadedFeatures);\n    }\n    React.useEffect(function () {\n        if (isLazyBundle(features)) {\n            features().then(function (_a) {\n                var renderer = _a.renderer, loadedFeatures = tslib.__rest(_a, [\"renderer\"]);\n                loadFeatures(loadedFeatures);\n                loadedRenderer.current = renderer;\n                setIsLoaded(true);\n            });\n        }\n    }, []);\n    return (React__namespace.createElement(LazyContext.Provider, { value: { renderer: loadedRenderer.current, strict: strict } }, children));\n}\nfunction isLazyBundle(features) {\n    return typeof features === \"function\";\n}\n\n/**\n * @public\n */\nvar domAnimation = tslib.__assign(tslib.__assign({ renderer: createDomVisualElement }, animations), gestureAnimations);\n\n/**\n * @public\n */\nvar domMax = tslib.__assign(tslib.__assign(tslib.__assign({}, domAnimation), drag), layoutAnimations);\n\n/**\n * Creates a `MotionValue` to track the state and velocity of a value.\n *\n * Usually, these are created automatically. For advanced use-cases, like use with `useTransform`, you can create `MotionValue`s externally and pass them into the animated component via the `style` prop.\n *\n * @library\n *\n * ```jsx\n * export function MyComponent() {\n *   const scale = useMotionValue(1)\n *\n *   return <Frame scale={scale} />\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const scale = useMotionValue(1)\n *\n *   return <motion.div style={{ scale }} />\n * }\n * ```\n *\n * @param initial - The initial state.\n *\n * @public\n */\nfunction useMotionValue(initial) {\n    var value = useConstant(function () { return motionValue(initial); });\n    /**\n     * If this motion value is being used in static mode, like on\n     * the Framer canvas, force components to rerender when the motion\n     * value is updated.\n     */\n    var isStatic = React.useContext(MotionConfigContext).isStatic;\n    if (isStatic) {\n        var _a = tslib.__read(React.useState(initial), 2), setLatest_1 = _a[1];\n        React.useEffect(function () { return value.onChange(setLatest_1); }, []);\n    }\n    return value;\n}\n\nfunction useOnChange(value, callback) {\n    React.useEffect(function () {\n        if (isMotionValue(value))\n            return value.onChange(callback);\n    }, [callback]);\n}\nfunction useMultiOnChange(values, handler) {\n    React.useEffect(function () {\n        var subscriptions = values.map(function (value) { return value.onChange(handler); });\n        return function () { return subscriptions.forEach(function (unsubscribe) { return unsubscribe(); }); };\n    });\n}\n\nfunction useCombineMotionValues(values, combineValues) {\n    /**\n     * Initialise the returned motion value. This remains the same between renders.\n     */\n    var value = useMotionValue(combineValues());\n    /**\n     * Create a function that will update the template motion value with the latest values.\n     * This is pre-bound so whenever a motion value updates it can schedule its\n     * execution in Framesync. If it's already been scheduled it won't be fired twice\n     * in a single frame.\n     */\n    var updateValue = function () { return value.set(combineValues()); };\n    /**\n     * Synchronously update the motion value with the latest values during the render.\n     * This ensures that within a React render, the styles applied to the DOM are up-to-date.\n     */\n    updateValue();\n    /**\n     * Subscribe to all motion values found within the template. Whenever any of them change,\n     * schedule an update.\n     */\n    useMultiOnChange(values, function () { return sync__default['default'].update(updateValue, false, true); });\n    return value;\n}\n\n/**\n * Combine multiple motion values into a new one using a string template literal.\n *\n * ```jsx\n * import {\n *   motion,\n *   useSpring,\n *   useMotionValue,\n *   useMotionTemplate\n * } from \"framer-motion\"\n *\n * function Component() {\n *   const shadowX = useSpring(0)\n *   const shadowY = useMotionValue(0)\n *   const shadow = useMotionTemplate`drop-shadow(${shadowX}px ${shadowY}px 20px rgba(0,0,0,0.3))`\n *\n *   return <motion.div style={{ filter: shadow }} />\n * }\n * ```\n *\n * @public\n */\nfunction useMotionTemplate(fragments) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    /**\n     * Create a function that will build a string from the latest motion values.\n     */\n    var numFragments = fragments.length;\n    function buildValue() {\n        var output = \"\";\n        for (var i = 0; i < numFragments; i++) {\n            output += fragments[i];\n            var value = values[i];\n            if (value)\n                output += values[i].get();\n        }\n        return output;\n    }\n    return useCombineMotionValues(values, buildValue);\n}\n\nvar isCustomValueType = function (v) {\n    return typeof v === \"object\" && v.mix;\n};\nvar getMixer = function (v) { return (isCustomValueType(v) ? v.mix : undefined); };\nfunction transform() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var useImmediate = !Array.isArray(args[0]);\n    var argOffset = useImmediate ? 0 : -1;\n    var inputValue = args[0 + argOffset];\n    var inputRange = args[1 + argOffset];\n    var outputRange = args[2 + argOffset];\n    var options = args[3 + argOffset];\n    var interpolator = popmotion.interpolate(inputRange, outputRange, tslib.__assign({ mixer: getMixer(outputRange[0]) }, options));\n    return useImmediate ? interpolator(inputValue) : interpolator;\n}\n\nfunction useTransform(input, inputRangeOrTransformer, outputRange, options) {\n    var transformer = typeof inputRangeOrTransformer === \"function\"\n        ? inputRangeOrTransformer\n        : transform(inputRangeOrTransformer, outputRange, options);\n    return Array.isArray(input)\n        ? useListTransform(input, transformer)\n        : useListTransform([input], function (_a) {\n            var _b = tslib.__read(_a, 1), latest = _b[0];\n            return transformer(latest);\n        });\n}\nfunction useListTransform(values, transformer) {\n    var latest = useConstant(function () { return []; });\n    return useCombineMotionValues(values, function () {\n        latest.length = 0;\n        var numValues = values.length;\n        for (var i = 0; i < numValues; i++) {\n            latest[i] = values[i].get();\n        }\n        return transformer(latest);\n    });\n}\n\n/**\n * Creates a `MotionValue` that, when `set`, will use a spring animation to animate to its new state.\n *\n * It can either work as a stand-alone `MotionValue` by initialising it with a value, or as a subscriber\n * to another `MotionValue`.\n *\n * @remarks\n *\n * ```jsx\n * const x = useSpring(0, { stiffness: 300 })\n * const y = useSpring(x, { damping: 10 })\n * ```\n *\n * @param inputValue - `MotionValue` or number. If provided a `MotionValue`, when the input `MotionValue` changes, the created `MotionValue` will spring towards that value.\n * @param springConfig - Configuration options for the spring.\n * @returns `MotionValue`\n *\n * @public\n */\nfunction useSpring(source, config) {\n    if (config === void 0) { config = {}; }\n    var isStatic = React.useContext(MotionConfigContext).isStatic;\n    var activeSpringAnimation = React.useRef(null);\n    var value = useMotionValue(isMotionValue(source) ? source.get() : source);\n    React.useMemo(function () {\n        return value.attach(function (v, set) {\n            /**\n             * A more hollistic approach to this might be to use isStatic to fix VisualElement animations\n             * at that level, but this will work for now\n             */\n            if (isStatic)\n                return set(v);\n            if (activeSpringAnimation.current) {\n                activeSpringAnimation.current.stop();\n            }\n            activeSpringAnimation.current = popmotion.animate(tslib.__assign(tslib.__assign({ from: value.get(), to: v, velocity: value.getVelocity() }, config), { onUpdate: set }));\n            return value.get();\n        });\n    }, Object.values(config));\n    useOnChange(source, function (v) { return value.set(parseFloat(v)); });\n    return value;\n}\n\n/**\n * Creates a `MotionValue` that updates when the velocity of the provided `MotionValue` changes.\n *\n * ```javascript\n * const x = useMotionValue(0)\n * const xVelocity = useVelocity(x)\n * const xAcceleration = useVelocity(xVelocity)\n * ```\n *\n * @public\n */\nfunction useVelocity(value) {\n    var velocity = useMotionValue(value.getVelocity());\n    React.useEffect(function () {\n        return value.velocityUpdateSubscribers.add(function (newVelocity) {\n            velocity.set(newVelocity);\n        });\n    }, [value]);\n    return velocity;\n}\n\nfunction createScrollMotionValues() {\n    return {\n        scrollX: motionValue(0),\n        scrollY: motionValue(0),\n        scrollXProgress: motionValue(0),\n        scrollYProgress: motionValue(0),\n    };\n}\nfunction setProgress(offset, maxOffset, value) {\n    value.set(!offset || !maxOffset ? 0 : offset / maxOffset);\n}\nfunction createScrollUpdater(values, getOffsets) {\n    var update = function () {\n        var _a = getOffsets(), xOffset = _a.xOffset, yOffset = _a.yOffset, xMaxOffset = _a.xMaxOffset, yMaxOffset = _a.yMaxOffset;\n        // Set absolute positions\n        values.scrollX.set(xOffset);\n        values.scrollY.set(yOffset);\n        // Set 0-1 progress\n        setProgress(xOffset, xMaxOffset, values.scrollXProgress);\n        setProgress(yOffset, yMaxOffset, values.scrollYProgress);\n    };\n    update();\n    return update;\n}\n\nvar getElementScrollOffsets = function (element) { return function () {\n    return {\n        xOffset: element.scrollLeft,\n        yOffset: element.scrollTop,\n        xMaxOffset: element.scrollWidth - element.offsetWidth,\n        yMaxOffset: element.scrollHeight - element.offsetHeight,\n    };\n}; };\n/**\n * Returns MotionValues that update when the provided element scrolls:\n *\n * - `scrollX`  Horizontal scroll distance in pixels.\n * - `scrollY`  Vertical scroll distance in pixels.\n * - `scrollXProgress`  Horizontal scroll progress between `0` and `1`.\n * - `scrollYProgress`  Vertical scroll progress between `0` and `1`.\n *\n * This element must be set to `overflow: scroll` on either or both axes to report scroll offset.\n *\n * @library\n *\n * ```jsx\n * import * as React from \"react\"\n * import {\n *   Frame,\n *   useElementScroll,\n *   useTransform\n * } from \"framer\"\n *\n * export function MyComponent() {\n *   const ref = React.useRef()\n *   const { scrollYProgress } = useElementScroll(ref)\n *\n *   return (\n *     <Frame ref={ref}>\n *       <Frame scaleX={scrollYProgress} />\n *     </Frame>\n *   )\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const ref = useRef()\n *   const { scrollYProgress } = useElementScroll(ref)\n *\n *   return (\n *     <div ref={ref}>\n *       <motion.div style={{ scaleX: scrollYProgress }} />\n *     </div>\n *   )\n * }\n * ```\n *\n * @public\n */\nfunction useElementScroll(ref) {\n    var values = useConstant(createScrollMotionValues);\n    useIsomorphicLayoutEffect(function () {\n        var element = ref.current;\n        heyListen.invariant(!!element, \"ref provided to useScroll must be passed into a HTML element.\");\n        if (!element)\n            return;\n        var updateScrollValues = createScrollUpdater(values, getElementScrollOffsets(element));\n        var scrollListener = addDomEvent(element, \"scroll\", updateScrollValues, { passive: true });\n        var resizeListener = addDomEvent(element, \"resize\", updateScrollValues);\n        return function () {\n            scrollListener && scrollListener();\n            resizeListener && resizeListener();\n        };\n    }, []);\n    return values;\n}\n\nvar viewportScrollValues;\nfunction getViewportScrollOffsets() {\n    return {\n        xOffset: window.pageXOffset,\n        yOffset: window.pageYOffset,\n        xMaxOffset: document.body.clientWidth - window.innerWidth,\n        yMaxOffset: document.body.clientHeight - window.innerHeight,\n    };\n}\nvar hasListeners = false;\nfunction addEventListeners() {\n    hasListeners = true;\n    if (typeof window === \"undefined\")\n        return;\n    var updateScrollValues = createScrollUpdater(viewportScrollValues, getViewportScrollOffsets);\n    addDomEvent(window, \"scroll\", updateScrollValues, { passive: true });\n    addDomEvent(window, \"resize\", updateScrollValues);\n}\n/**\n * Returns MotionValues that update when the viewport scrolls:\n *\n * - `scrollX`  Horizontal scroll distance in pixels.\n * - `scrollY`  Vertical scroll distance in pixels.\n * - `scrollXProgress`  Horizontal scroll progress between `0` and `1`.\n * - `scrollYProgress`  Vertical scroll progress between `0` and `1`.\n *\n * **Warning:** Setting `body` or `html` to `height: 100%` or similar will break the `Progress`\n * values as this breaks the browser's capability to accurately measure the page length.\n *\n * @library\n *\n * ```jsx\n * import * as React from \"react\"\n * import {\n *   Frame,\n *   useViewportScroll,\n *   useTransform\n * } from \"framer\"\n *\n * export function MyComponent() {\n *   const { scrollYProgress } = useViewportScroll()\n *   return <Frame scaleX={scrollYProgress} />\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const { scrollYProgress } = useViewportScroll()\n *   return <motion.div style={{ scaleX: scrollYProgress }} />\n * }\n * ```\n *\n * @public\n */\nfunction useViewportScroll() {\n    /**\n     * Lazy-initialise the viewport scroll values\n     */\n    if (!viewportScrollValues) {\n        viewportScrollValues = createScrollMotionValues();\n    }\n    useIsomorphicLayoutEffect(function () {\n        !hasListeners && addEventListeners();\n    }, []);\n    return viewportScrollValues;\n}\n\n// Does this device prefer reduced motion? Returns `null` server-side.\nvar prefersReducedMotion;\nfunction initPrefersReducedMotion() {\n    prefersReducedMotion = motionValue(null);\n    if (typeof window === \"undefined\")\n        return;\n    if (window.matchMedia) {\n        var motionMediaQuery_1 = window.matchMedia(\"(prefers-reduced-motion)\");\n        var setReducedMotionPreferences = function () {\n            return prefersReducedMotion.set(motionMediaQuery_1.matches);\n        };\n        motionMediaQuery_1.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.set(false);\n    }\n}\n/**\n * A hook that returns `true` if we should be using reduced motion based on the current device's Reduced Motion setting.\n *\n * This can be used to implement changes to your UI based on Reduced Motion. For instance, replacing motion-sickness inducing\n * `x`/`y` animations with `opacity`, disabling the autoplay of background videos, or turning off parallax motion.\n *\n * It will actively respond to changes and re-render your components with the latest setting.\n *\n * ```jsx\n * export function Sidebar({ isOpen }) {\n *   const shouldReduceMotion = useReducedMotion()\n *   const closedX = shouldReduceMotion ? 0 : \"-100%\"\n *\n *   return (\n *     <motion.div animate={{\n *       opacity: isOpen ? 1 : 0,\n *       x: isOpen ? 0 : closedX\n *     }} />\n *   )\n * }\n * ```\n *\n * @return boolean\n *\n * @public\n */\nfunction useReducedMotion() {\n    /**\n     * Lazy initialisation of prefersReducedMotion\n     */\n    !prefersReducedMotion && initPrefersReducedMotion();\n    var _a = tslib.__read(React.useState(prefersReducedMotion.get()), 2), shouldReduceMotion = _a[0], setShouldReduceMotion = _a[1];\n    useOnChange(prefersReducedMotion, setShouldReduceMotion);\n    return shouldReduceMotion;\n}\n\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    var hasMounted = false;\n    /**\n     * Pending animations that are started before a component is mounted.\n     * TODO: Remove this as animations should only run in effects\n     */\n    var pendingAnimations = [];\n    /**\n     * A collection of linked component animation controls.\n     */\n    var subscribers = new Set();\n    var controls = {\n        subscribe: function (visualElement) {\n            subscribers.add(visualElement);\n            return function () { return void subscribers.delete(visualElement); };\n        },\n        start: function (definition, transitionOverride) {\n            /**\n             * TODO: We only perform this hasMounted check because in Framer we used to\n             * encourage the ability to start an animation within the render phase. This\n             * isn't behaviour concurrent-safe so when we make Framer concurrent-safe\n             * we can ditch this.\n             */\n            if (hasMounted) {\n                var animations_1 = [];\n                subscribers.forEach(function (visualElement) {\n                    animations_1.push(animateVisualElement(visualElement, definition, {\n                        transitionOverride: transitionOverride,\n                    }));\n                });\n                return Promise.all(animations_1);\n            }\n            else {\n                return new Promise(function (resolve) {\n                    pendingAnimations.push({\n                        animation: [definition, transitionOverride],\n                        resolve: resolve,\n                    });\n                });\n            }\n        },\n        set: function (definition) {\n            heyListen.invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach(function (visualElement) {\n                setValues(visualElement, definition);\n            });\n        },\n        stop: function () {\n            subscribers.forEach(function (visualElement) {\n                stopAnimation(visualElement);\n            });\n        },\n        mount: function () {\n            hasMounted = true;\n            pendingAnimations.forEach(function (_a) {\n                var animation = _a.animation, resolve = _a.resolve;\n                controls.start.apply(controls, tslib.__spreadArray([], tslib.__read(animation))).then(resolve);\n            });\n            return function () {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\n/**\n * Creates `AnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `AnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * @library\n *\n * ```jsx\n * import * as React from 'react'\n * import { Frame, useAnimation } from 'framer'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <Frame animate={controls} />\n * }\n * ```\n *\n * @motion\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimation() {\n    var controls = useConstant(animationControls);\n    React.useEffect(controls.mount, []);\n    return controls;\n}\n\n/**\n * Cycles through a series of visual properties. Can be used to toggle between or cycle through animations. It works similar to `useState` in React. It is provided an initial array of possible states, and returns an array of two arguments.\n *\n * @library\n *\n * ```jsx\n * import * as React from \"react\"\n * import { Frame, useCycle } from \"framer\"\n *\n * export function MyComponent() {\n *   const [x, cycleX] = useCycle(0, 50, 100)\n *\n *   return (\n *     <Frame\n *       animate={{ x: x }}\n *       onTap={() => cycleX()}\n *      />\n *    )\n * }\n * ```\n *\n * @motion\n *\n * An index value can be passed to the returned `cycle` function to cycle to a specific index.\n *\n * ```jsx\n * import * as React from \"react\"\n * import { motion, useCycle } from \"framer-motion\"\n *\n * export const MyComponent = () => {\n *   const [x, cycleX] = useCycle(0, 50, 100)\n *\n *   return (\n *     <motion.div\n *       animate={{ x: x }}\n *       onTap={() => cycleX()}\n *      />\n *    )\n * }\n * ```\n *\n * @param items - items to cycle through\n * @returns [currentState, cycleState]\n *\n * @public\n */\nfunction useCycle() {\n    var items = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n    }\n    var index = React.useRef(0);\n    var _a = tslib.__read(React.useState(items[index.current]), 2), item = _a[0], setItem = _a[1];\n    return [\n        item,\n        function (next) {\n            index.current =\n                typeof next !== \"number\"\n                    ? popmotion.wrap(0, items.length, index.current + 1)\n                    : next;\n            setItem(items[index.current]);\n        },\n    ];\n}\n\n/**\n * Can manually trigger a drag gesture on one or more `drag`-enabled `motion` components.\n *\n * @library\n *\n * ```jsx\n * const dragControls = useDragControls()\n *\n * function startDrag(event) {\n *   dragControls.start(event, { snapToCursor: true })\n * }\n *\n * return (\n *   <>\n *     <Frame onTapStart={startDrag} />\n *     <Frame drag=\"x\" dragControls={dragControls} />\n *   </>\n * )\n * ```\n *\n * @motion\n *\n * ```jsx\n * const dragControls = useDragControls()\n *\n * function startDrag(event) {\n *   dragControls.start(event, { snapToCursor: true })\n * }\n *\n * return (\n *   <>\n *     <div onPointerDown={startDrag} />\n *     <motion.div drag=\"x\" dragControls={dragControls} />\n *   </>\n * )\n * ```\n *\n * @public\n */\nvar DragControls = /** @class */ (function () {\n    function DragControls() {\n        this.componentControls = new Set();\n    }\n    /**\n     * Subscribe a component's internal `VisualElementDragControls` to the user-facing API.\n     *\n     * @internal\n     */\n    DragControls.prototype.subscribe = function (controls) {\n        var _this = this;\n        this.componentControls.add(controls);\n        return function () { return _this.componentControls.delete(controls); };\n    };\n    /**\n     * Start a drag gesture on every `motion` component that has this set of drag controls\n     * passed into it via the `dragControls` prop.\n     *\n     * ```jsx\n     * dragControls.start(e, {\n     *   snapToCursor: true\n     * })\n     * ```\n     *\n     * @param event - PointerEvent\n     * @param options - Options\n     *\n     * @public\n     */\n    DragControls.prototype.start = function (event, options) {\n        this.componentControls.forEach(function (controls) {\n            controls.start(event.nativeEvent || event, options);\n        });\n    };\n    DragControls.prototype.updateConstraints = function (flush) {\n        if (flush === void 0) { flush = true; }\n        this.componentControls.forEach(function (controls) {\n            controls.updateConstraints();\n        });\n        flush && flushLayout();\n    };\n    return DragControls;\n}());\nvar createDragControls = function () { return new DragControls(); };\n/**\n * Usually, dragging is initiated by pressing down on a `motion` component with a `drag` prop\n * and moving it. For some use-cases, for instance clicking at an arbitrary point on a video scrubber, we\n * might want to initiate that dragging from a different component than the draggable one.\n *\n * By creating a `dragControls` using the `useDragControls` hook, we can pass this into\n * the draggable component's `dragControls` prop. It exposes a `start` method\n * that can start dragging from pointer events on other components.\n *\n * @library\n *\n * ```jsx\n * const dragControls = useDragControls()\n *\n * function startDrag(event) {\n *   dragControls.start(event, { snapToCursor: true })\n * }\n *\n * return (\n *   <>\n *     <Frame onTapStart={startDrag} />\n *     <Frame drag=\"x\" dragControls={dragControls} />\n *   </>\n * )\n * ```\n *\n * @motion\n *\n * ```jsx\n * const dragControls = useDragControls()\n *\n * function startDrag(event) {\n *   dragControls.start(event, { snapToCursor: true })\n * }\n *\n * return (\n *   <>\n *     <div onPointerDown={startDrag} />\n *     <motion.div drag=\"x\" dragControls={dragControls} />\n *   </>\n * )\n * ```\n *\n * @public\n */\nfunction useDragControls() {\n    return useConstant(createDragControls);\n}\n\nvar createObject = function () { return ({}); };\nvar stateVisualElement = visualElement({\n    build: function () { },\n    measureViewportBox: axisBox,\n    resetTransform: function () { },\n    restoreTransform: function () { },\n    removeValueFromRenderState: function () { },\n    render: function () { },\n    scrapeMotionValuesFromProps: createObject,\n    readValueFromInstance: function (_state, key, options) {\n        return options.initialState[key] || 0;\n    },\n    makeTargetAnimatable: function (element, _a) {\n        var transition = _a.transition, transitionEnd = _a.transitionEnd, target = tslib.__rest(_a, [\"transition\", \"transitionEnd\"]);\n        var origin = getOrigin(target, transition || {}, element);\n        checkTargetForNewValues(element, target, origin);\n        return tslib.__assign({ transition: transition, transitionEnd: transitionEnd }, target);\n    },\n});\nvar useVisualState = makeUseVisualState({\n    scrapeMotionValuesFromProps: createObject,\n    createRenderState: createObject,\n});\n/**\n * This is not an officially supported API and may be removed\n * on any version.\n * @internal\n */\nfunction useAnimatedState(initialState) {\n    var _a = tslib.__read(React.useState(initialState), 2), animationState = _a[0], setAnimationState = _a[1];\n    var visualState = useVisualState({}, false);\n    var element = useConstant(function () {\n        return stateVisualElement({ props: {}, visualState: visualState }, { initialState: initialState });\n    });\n    React.useEffect(function () {\n        element.mount({});\n        return element.unmount();\n    }, []);\n    React.useEffect(function () {\n        element.setProps({\n            onUpdate: function (v) { return setAnimationState(tslib.__assign({}, v)); },\n        });\n    });\n    var startAnimation = useConstant(function () { return function (animationDefinition) {\n        return animateVisualElement(element, animationDefinition);\n    }; });\n    return [animationState, startAnimation];\n}\n\n// Keep things reasonable and avoid scale: Infinity. In practise we might need\n// to add another value, opacity, that could interpolate scaleX/Y [0,0.01] => [0,1]\n// to simply hide content at unreasonable scales.\nvar maxScale = 100000;\nvar invertScale = function (scale) {\n    return scale > 0.001 ? 1 / scale : maxScale;\n};\nvar hasWarned = false;\n/**\n * Returns a `MotionValue` each for `scaleX` and `scaleY` that update with the inverse\n * of their respective parent scales.\n *\n * This is useful for undoing the distortion of content when scaling a parent component.\n *\n * By default, `useInvertedScale` will automatically fetch `scaleX` and `scaleY` from the nearest parent.\n * By passing other `MotionValue`s in as `useInvertedScale({ scaleX, scaleY })`, it will invert the output\n * of those instead.\n *\n * @motion\n *\n * ```jsx\n * const MyComponent = () => {\n *   const { scaleX, scaleY } = useInvertedScale()\n *   return <motion.div style={{ scaleX, scaleY }} />\n * }\n * ```\n *\n * @library\n *\n * ```jsx\n * function MyComponent() {\n *   const { scaleX, scaleY } = useInvertedScale()\n *   return <Frame scaleX={scaleX} scaleY={scaleY} />\n * }\n * ```\n *\n * @deprecated\n * @internal\n */\nfunction useInvertedScale(scale) {\n    var parentScaleX = useMotionValue(1);\n    var parentScaleY = useMotionValue(1);\n    var visualElement = useVisualElementContext();\n    heyListen.invariant(!!(scale || visualElement), \"If no scale values are provided, useInvertedScale must be used within a child of another motion component.\");\n    heyListen.warning(hasWarned, \"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead.\");\n    hasWarned = true;\n    if (scale) {\n        parentScaleX = scale.scaleX || parentScaleX;\n        parentScaleY = scale.scaleY || parentScaleY;\n    }\n    else if (visualElement) {\n        parentScaleX = visualElement.getValue(\"scaleX\", 1);\n        parentScaleY = visualElement.getValue(\"scaleY\", 1);\n    }\n    var scaleX = useTransform(parentScaleX, invertScale);\n    var scaleY = useTransform(parentScaleY, invertScale);\n    return { scaleX: scaleX, scaleY: scaleY };\n}\n\nexports.AnimatePresence = AnimatePresence;\nexports.AnimateSharedLayout = AnimateSharedLayout;\nexports.DragControls = DragControls;\nexports.FlatTree = FlatTree;\nexports.FramerTreeLayoutContext = FramerTreeLayoutContext;\nexports.LayoutGroupContext = LayoutGroupContext;\nexports.LazyMotion = LazyMotion;\nexports.MotionConfig = MotionConfig;\nexports.MotionConfigContext = MotionConfigContext;\nexports.MotionValue = MotionValue;\nexports.PresenceContext = PresenceContext;\nexports.SharedLayoutContext = SharedLayoutContext;\nexports.addScaleCorrection = addScaleCorrection;\nexports.animate = animate;\nexports.animateVisualElement = animateVisualElement;\nexports.animationControls = animationControls;\nexports.batchLayout = batchLayout;\nexports.createBatcher = createBatcher;\nexports.createCrossfader = createCrossfader;\nexports.createDomMotionComponent = createDomMotionComponent;\nexports.createMotionComponent = createMotionComponent;\nexports.domAnimation = domAnimation;\nexports.domMax = domMax;\nexports.flushLayout = flushLayout;\nexports.isValidMotionProp = isValidMotionProp;\nexports.m = m;\nexports.motion = motion;\nexports.motionValue = motionValue;\nexports.resolveMotionValue = resolveMotionValue;\nexports.snapshotViewportBox = snapshotViewportBox;\nexports.transform = transform;\nexports.useAnimation = useAnimation;\nexports.useCycle = useCycle;\nexports.useDeprecatedAnimatedState = useAnimatedState;\nexports.useDeprecatedInvertedScale = useInvertedScale;\nexports.useDomEvent = useDomEvent;\nexports.useDragControls = useDragControls;\nexports.useElementScroll = useElementScroll;\nexports.useIsPresent = useIsPresent;\nexports.useMotionTemplate = useMotionTemplate;\nexports.useMotionValue = useMotionValue;\nexports.usePresence = usePresence;\nexports.useReducedMotion = useReducedMotion;\nexports.useSpring = useSpring;\nexports.useTransform = useTransform;\nexports.useVelocity = useVelocity;\nexports.useViewportScroll = useViewportScroll;\nexports.visualElement = visualElement;\n","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default index;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar defaultTimestep = (1 / 60) * 1000;\nvar getCurrentTime = typeof performance !== \"undefined\"\n    ? function () { return performance.now(); }\n    : function () { return Date.now(); };\nvar onNextFrame = typeof window !== \"undefined\"\n    ? function (callback) {\n        return window.requestAnimationFrame(callback);\n    }\n    : function (callback) {\n        return setTimeout(function () { return callback(getCurrentTime()); }, defaultTimestep);\n    };\n\nfunction createRenderStep(runNextFrame) {\n    var toRun = [];\n    var toRunNextFrame = [];\n    var numToRun = 0;\n    var isProcessing = false;\n    var toKeepAlive = new WeakSet();\n    var step = {\n        schedule: function (callback, keepAlive, immediate) {\n            if (keepAlive === void 0) { keepAlive = false; }\n            if (immediate === void 0) { immediate = false; }\n            var addToCurrentFrame = immediate && isProcessing;\n            var buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentFrame && isProcessing)\n                    numToRun = toRun.length;\n            }\n            return callback;\n        },\n        cancel: function (callback) {\n            var index = toRunNextFrame.indexOf(callback);\n            if (index !== -1)\n                toRunNextFrame.splice(index, 1);\n            toKeepAlive.delete(callback);\n        },\n        process: function (frameData) {\n            var _a;\n            isProcessing = true;\n            _a = [toRunNextFrame, toRun], toRun = _a[0], toRunNextFrame = _a[1];\n            toRunNextFrame.length = 0;\n            numToRun = toRun.length;\n            if (numToRun) {\n                for (var i = 0; i < numToRun; i++) {\n                    var callback = toRun[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n        },\n    };\n    return step;\n}\n\nvar maxElapsed = 40;\nvar useDefaultElapsed = true;\nvar runNextFrame = false;\nvar isProcessing = false;\nvar frame = {\n    delta: 0,\n    timestamp: 0,\n};\nvar stepsOrder = [\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nvar steps = stepsOrder.reduce(function (acc, key) {\n    acc[key] = createRenderStep(function () { return (runNextFrame = true); });\n    return acc;\n}, {});\nvar sync = stepsOrder.reduce(function (acc, key) {\n    var step = steps[key];\n    acc[key] = function (process, keepAlive, immediate) {\n        if (keepAlive === void 0) { keepAlive = false; }\n        if (immediate === void 0) { immediate = false; }\n        if (!runNextFrame)\n            startLoop();\n        return step.schedule(process, keepAlive, immediate);\n    };\n    return acc;\n}, {});\nvar cancelSync = stepsOrder.reduce(function (acc, key) {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nvar flushSync = stepsOrder.reduce(function (acc, key) {\n    acc[key] = function () { return steps[key].process(frame); };\n    return acc;\n}, {});\nvar processStep = function (stepId) { return steps[stepId].process(frame); };\nvar processFrame = function (timestamp) {\n    runNextFrame = false;\n    frame.delta = useDefaultElapsed\n        ? defaultTimestep\n        : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n    frame.timestamp = timestamp;\n    isProcessing = true;\n    stepsOrder.forEach(processStep);\n    isProcessing = false;\n    if (runNextFrame) {\n        useDefaultElapsed = false;\n        onNextFrame(processFrame);\n    }\n};\nvar startLoop = function () {\n    runNextFrame = true;\n    useDefaultElapsed = true;\n    if (!isProcessing)\n        onNextFrame(processFrame);\n};\nvar getFrameData = function () { return frame; };\n\nexports.cancelSync = cancelSync;\nexports.default = sync;\nexports.flushSync = flushSync;\nexports.getFrameData = getFrameData;\n","var warning = function () { };\r\nvar invariant = function () { };\r\nif (process.env.NODE_ENV !== 'production') {\r\n    warning = function (check, message) {\r\n        if (!check && typeof console !== 'undefined') {\r\n            console.warn(message);\r\n        }\r\n    };\r\n    invariant = function (check, message) {\r\n        if (!check) {\r\n            throw new Error(message);\r\n        }\r\n    };\r\n}\n\nexport { invariant, warning };\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar tslib = require('tslib');\nvar heyListen = require('hey-listen');\nvar styleValueTypes = require('style-value-types');\nvar sync = require('framesync');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar sync__default = /*#__PURE__*/_interopDefaultLegacy(sync);\n\nvar clamp = function (min, max, v) {\n    return Math.min(Math.max(v, min), max);\n};\n\nvar safeMin = 0.001;\nvar minDuration = 0.01;\nvar maxDuration = 10.0;\nvar minDamping = 0.05;\nvar maxDamping = 1;\nfunction findSpring(_a) {\n    var _b = _a.duration, duration = _b === void 0 ? 800 : _b, _c = _a.bounce, bounce = _c === void 0 ? 0.25 : _c, _d = _a.velocity, velocity = _d === void 0 ? 0 : _d, _e = _a.mass, mass = _e === void 0 ? 1 : _e;\n    var envelope;\n    var derivative;\n    heyListen.warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n    var dampingRatio = 1 - bounce;\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, duration / 1000);\n    if (dampingRatio < 1) {\n        envelope = function (undampedFreq) {\n            var exponentialDecay = undampedFreq * dampingRatio;\n            var delta = exponentialDecay * duration;\n            var a = exponentialDecay - velocity;\n            var b = calcAngularFreq(undampedFreq, dampingRatio);\n            var c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = function (undampedFreq) {\n            var exponentialDecay = undampedFreq * dampingRatio;\n            var delta = exponentialDecay * duration;\n            var d = delta * velocity + velocity;\n            var e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            var f = Math.exp(-delta);\n            var g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            var factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        envelope = function (undampedFreq) {\n            var a = Math.exp(-undampedFreq * duration);\n            var b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = function (undampedFreq) {\n            var a = Math.exp(-undampedFreq * duration);\n            var b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    var initialGuess = 5 / duration;\n    var undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = duration * 1000;\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration: duration,\n        };\n    }\n    else {\n        var stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness: stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration: duration,\n        };\n    }\n}\nvar rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    var result = initialGuess;\n    for (var i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nvar durationKeys = [\"duration\", \"bounce\"];\nvar physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some(function (key) { return options[key] !== undefined; });\n}\nfunction getSpringOptions(options) {\n    var springOptions = tslib.__assign({ velocity: 0.0, stiffness: 100, damping: 10, mass: 1.0, isResolvedFromDuration: false }, options);\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        var derived = findSpring(options);\n        springOptions = tslib.__assign(tslib.__assign(tslib.__assign({}, springOptions), derived), { velocity: 0.0, mass: 1.0 });\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0.0 : _b, _c = _a.to, to = _c === void 0 ? 1.0 : _c, _d = _a.restSpeed, restSpeed = _d === void 0 ? 2 : _d, restDelta = _a.restDelta, options = tslib.__rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n    var state = { done: false, value: from };\n    var _e = getSpringOptions(options), stiffness = _e.stiffness, damping = _e.damping, mass = _e.mass, velocity = _e.velocity, duration = _e.duration, isResolvedFromDuration = _e.isResolvedFromDuration;\n    var resolveSpring = zero;\n    var resolveVelocity = zero;\n    function createSpring() {\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var initialDelta = to - from;\n        var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n        var undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n        restDelta !== null && restDelta !== void 0 ? restDelta : (restDelta = Math.abs(to - from) <= 1 ? 0.01 : 0.4);\n        if (dampingRatio < 1) {\n            var angularFreq_1 = calcAngularFreq(undampedAngularFreq, dampingRatio);\n            resolveSpring = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (to -\n                    envelope *\n                        (((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) /\n                            angularFreq_1) *\n                            Math.sin(angularFreq_1 * t) +\n                            initialDelta * Math.cos(angularFreq_1 * t)));\n            };\n            resolveVelocity = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (dampingRatio *\n                    undampedAngularFreq *\n                    envelope *\n                    ((Math.sin(angularFreq_1 * t) *\n                        (initialVelocity +\n                            dampingRatio *\n                                undampedAngularFreq *\n                                initialDelta)) /\n                        angularFreq_1 +\n                        initialDelta * Math.cos(angularFreq_1 * t)) -\n                    envelope *\n                        (Math.cos(angularFreq_1 * t) *\n                            (initialVelocity +\n                                dampingRatio *\n                                    undampedAngularFreq *\n                                    initialDelta) -\n                            angularFreq_1 *\n                                initialDelta *\n                                Math.sin(angularFreq_1 * t)));\n            };\n        }\n        else if (dampingRatio === 1) {\n            resolveSpring = function (t) {\n                return to -\n                    Math.exp(-undampedAngularFreq * t) *\n                        (initialDelta +\n                            (initialVelocity + undampedAngularFreq * initialDelta) *\n                                t);\n            };\n        }\n        else {\n            var dampedAngularFreq_1 = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n            resolveSpring = function (t) {\n                var envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                var freqForT = Math.min(dampedAngularFreq_1 * t, 300);\n                return (to -\n                    (envelope *\n                        ((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) *\n                            Math.sinh(freqForT) +\n                            dampedAngularFreq_1 *\n                                initialDelta *\n                                Math.cosh(freqForT))) /\n                        dampedAngularFreq_1);\n            };\n        }\n    }\n    createSpring();\n    return {\n        next: function (t) {\n            var current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                var currentVelocity = resolveVelocity(t) * 1000;\n                var isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                var isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? to : current;\n            return state;\n        },\n        flipTarget: function () {\n            var _a;\n            velocity = -velocity;\n            _a = [to, from], from = _a[0], to = _a[1];\n            createSpring();\n        },\n    };\n}\nspring.needsInterpolation = function (a, b) {\n    return typeof a === \"string\" || typeof b === \"string\";\n};\nvar zero = function (_t) { return 0; };\n\nvar progress = function (from, to, value) {\n    var toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nvar mix = function (from, to, progress) {\n    return -progress * from + progress * to + from;\n};\n\nvar mixLinearColor = function (from, to, v) {\n    var fromExpo = from * from;\n    var toExpo = to * to;\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nvar colorTypes = [styleValueTypes.hex, styleValueTypes.rgba, styleValueTypes.hsla];\nvar getColorType = function (v) {\n    return colorTypes.find(function (type) { return type.test(v); });\n};\nvar notAnimatable = function (color) {\n    return \"'\" + color + \"' is not an animatable color. Use the equivalent color code instead.\";\n};\nvar mixColor = function (from, to) {\n    var fromColorType = getColorType(from);\n    var toColorType = getColorType(to);\n    heyListen.invariant(!!fromColorType, notAnimatable(from));\n    heyListen.invariant(!!toColorType, notAnimatable(to));\n    heyListen.invariant(fromColorType.transform === toColorType.transform, \"Both colors must be hex/RGBA, OR both must be HSLA.\");\n    var fromColor = fromColorType.parse(from);\n    var toColor = toColorType.parse(to);\n    var blended = tslib.__assign({}, fromColor);\n    var mixFunc = fromColorType === styleValueTypes.hsla ? mix : mixLinearColor;\n    return function (v) {\n        for (var key in blended) {\n            if (key !== \"alpha\") {\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n        return fromColorType.transform(blended);\n    };\n};\n\nvar zeroPoint = {\n    x: 0,\n    y: 0,\n    z: 0\n};\nvar isNum = function (v) { return typeof v === 'number'; };\n\nvar combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\nvar pipe = function () {\n    var transformers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        transformers[_i] = arguments[_i];\n    }\n    return transformers.reduce(combineFunctions);\n};\n\nfunction getMixer(origin, target) {\n    if (isNum(origin)) {\n        return function (v) { return mix(origin, target, v); };\n    }\n    else if (styleValueTypes.color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return mixComplex(origin, target);\n    }\n}\nvar mixArray = function (from, to) {\n    var output = tslib.__spreadArray([], from);\n    var numValues = output.length;\n    var blendValue = from.map(function (fromThis, i) { return getMixer(fromThis, to[i]); });\n    return function (v) {\n        for (var i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nvar mixObject = function (origin, target) {\n    var output = tslib.__assign(tslib.__assign({}, origin), target);\n    var blendValue = {};\n    for (var key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return function (v) {\n        for (var key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nfunction analyse(value) {\n    var parsed = styleValueTypes.complex.parse(value);\n    var numValues = parsed.length;\n    var numNumbers = 0;\n    var numRGB = 0;\n    var numHSL = 0;\n    for (var i = 0; i < numValues; i++) {\n        if (numNumbers || typeof parsed[i] === \"number\") {\n            numNumbers++;\n        }\n        else {\n            if (parsed[i].hue !== undefined) {\n                numHSL++;\n            }\n            else {\n                numRGB++;\n            }\n        }\n    }\n    return { parsed: parsed, numNumbers: numNumbers, numRGB: numRGB, numHSL: numHSL };\n}\nvar mixComplex = function (origin, target) {\n    var template = styleValueTypes.complex.createTransformer(target);\n    var originStats = analyse(origin);\n    var targetStats = analyse(target);\n    heyListen.invariant(originStats.numHSL === targetStats.numHSL &&\n        originStats.numRGB === targetStats.numRGB &&\n        originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n};\n\nvar mixNumber = function (from, to) { return function (p) { return mix(from, to, p); }; };\nfunction detectMixerFactory(v) {\n    if (typeof v === 'number') {\n        return mixNumber;\n    }\n    else if (typeof v === 'string') {\n        if (styleValueTypes.color.test(v)) {\n            return mixColor;\n        }\n        else {\n            return mixComplex;\n        }\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === 'object') {\n        return mixObject;\n    }\n}\nfunction createMixers(output, ease, customMixer) {\n    var mixers = [];\n    var mixerFactory = customMixer || detectMixerFactory(output[0]);\n    var numMixers = output.length - 1;\n    for (var i = 0; i < numMixers; i++) {\n        var mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            var easingFunction = Array.isArray(ease) ? ease[i] : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\nfunction fastInterpolate(_a, _b) {\n    var from = _a[0], to = _a[1];\n    var mixer = _b[0];\n    return function (v) { return mixer(progress(from, to, v)); };\n}\nfunction slowInterpolate(input, mixers) {\n    var inputLength = input.length;\n    var lastInputIndex = inputLength - 1;\n    return function (v) {\n        var mixerIndex = 0;\n        var foundMixerIndex = false;\n        if (v <= input[0]) {\n            foundMixerIndex = true;\n        }\n        else if (v >= input[lastInputIndex]) {\n            mixerIndex = lastInputIndex - 1;\n            foundMixerIndex = true;\n        }\n        if (!foundMixerIndex) {\n            var i = 1;\n            for (; i < inputLength; i++) {\n                if (input[i] > v || i === lastInputIndex) {\n                    break;\n                }\n            }\n            mixerIndex = i - 1;\n        }\n        var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n        return mixers[mixerIndex](progressInRange);\n    };\n}\nfunction interpolate(input, output, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.clamp, isClamp = _c === void 0 ? true : _c, ease = _b.ease, mixer = _b.mixer;\n    var inputLength = input.length;\n    heyListen.invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n    heyListen.invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n    if (input[0] > input[inputLength - 1]) {\n        input = [].concat(input);\n        output = [].concat(output);\n        input.reverse();\n        output.reverse();\n    }\n    var mixers = createMixers(output, ease, mixer);\n    var interpolator = inputLength === 2\n        ? fastInterpolate(input, mixers)\n        : slowInterpolate(input, mixers);\n    return isClamp\n        ? function (v) { return interpolator(clamp(input[0], input[inputLength - 1], v)); }\n        : interpolator;\n}\n\nvar reverseEasing = function (easing) { return function (p) { return 1 - easing(1 - p); }; };\nvar mirrorEasing = function (easing) { return function (p) {\n    return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n}; };\nvar createExpoIn = function (power) { return function (p) { return Math.pow(p, power); }; };\nvar createBackIn = function (power) { return function (p) {\n    return p * p * ((power + 1) * p - power);\n}; };\nvar createAnticipate = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1\n            ? 0.5 * backEasing(p)\n            : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\n\nvar DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar linear = function (p) { return p; };\nvar easeIn = createExpoIn(2);\nvar easeOut = reverseEasing(easeIn);\nvar easeInOut = mirrorEasing(easeIn);\nvar circIn = function (p) { return 1 - Math.sin(Math.acos(p)); };\nvar circOut = reverseEasing(circIn);\nvar circInOut = mirrorEasing(circOut);\nvar backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = reverseEasing(backIn);\nvar backInOut = mirrorEasing(backIn);\nvar anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function (p) {\n    if (p === 1 || p === 0)\n        return p;\n    var p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD\n        ? 7.5625 * p2\n        : p < BOUNCE_SECOND_THRESHOLD\n            ? 9.075 * p2 - 9.9 * p + 3.4\n            : p < BOUNCE_THIRD_THRESHOLD\n                ? ca * p2 - cb * p + cc\n                : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = reverseEasing(bounceOut);\nvar bounceInOut = function (p) {\n    return p < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0))\n        : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\n\nfunction defaultEasing(values, easing) {\n    return values.map(function () { return easing || easeInOut; }).splice(0, values.length - 1);\n}\nfunction defaultOffset(values) {\n    var numValues = values.length;\n    return values.map(function (_value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n}\nfunction convertOffsetToTimes(offset, duration) {\n    return offset.map(function (o) { return o * duration; });\n}\nfunction keyframes(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0 : _b, _c = _a.to, to = _c === void 0 ? 1 : _c, ease = _a.ease, offset = _a.offset, _d = _a.duration, duration = _d === void 0 ? 300 : _d;\n    var state = { done: false, value: from };\n    var values = Array.isArray(to) ? to : [from, to];\n    var times = convertOffsetToTimes(offset && offset.length === values.length\n        ? offset\n        : defaultOffset(values), duration);\n    function createInterpolator() {\n        return interpolate(times, values, {\n            ease: Array.isArray(ease) ? ease : defaultEasing(values, ease),\n        });\n    }\n    var interpolator = createInterpolator();\n    return {\n        next: function (t) {\n            state.value = interpolator(t);\n            state.done = t >= duration;\n            return state;\n        },\n        flipTarget: function () {\n            values.reverse();\n            interpolator = createInterpolator();\n        },\n    };\n}\n\nfunction decay(_a) {\n    var _b = _a.velocity, velocity = _b === void 0 ? 0 : _b, _c = _a.from, from = _c === void 0 ? 0 : _c, _d = _a.power, power = _d === void 0 ? 0.8 : _d, _e = _a.timeConstant, timeConstant = _e === void 0 ? 350 : _e, _f = _a.restDelta, restDelta = _f === void 0 ? 0.5 : _f, modifyTarget = _a.modifyTarget;\n    var state = { done: false, value: from };\n    var amplitude = power * velocity;\n    var ideal = from + amplitude;\n    var target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    if (target !== ideal)\n        amplitude = target - from;\n    return {\n        next: function (t) {\n            var delta = -amplitude * Math.exp(-t / timeConstant);\n            state.done = !(delta > restDelta || delta < -restDelta);\n            state.value = state.done ? target : target + delta;\n            return state;\n        },\n        flipTarget: function () { },\n    };\n}\n\nvar types = { keyframes: keyframes, spring: spring, decay: decay };\nfunction detectAnimationFromOptions(config) {\n    if (Array.isArray(config.to)) {\n        return keyframes;\n    }\n    else if (types[config.type]) {\n        return types[config.type];\n    }\n    var keys = new Set(Object.keys(config));\n    if (keys.has(\"ease\") ||\n        (keys.has(\"duration\") && !keys.has(\"dampingRatio\"))) {\n        return keyframes;\n    }\n    else if (keys.has(\"dampingRatio\") ||\n        keys.has(\"stiffness\") ||\n        keys.has(\"mass\") ||\n        keys.has(\"damping\") ||\n        keys.has(\"restSpeed\") ||\n        keys.has(\"restDelta\")) {\n        return spring;\n    }\n    return keyframes;\n}\n\nfunction loopElapsed(elapsed, duration, delay) {\n    if (delay === void 0) { delay = 0; }\n    return elapsed - duration - delay;\n}\nfunction reverseElapsed(elapsed, duration, delay, isForwardPlayback) {\n    if (delay === void 0) { delay = 0; }\n    if (isForwardPlayback === void 0) { isForwardPlayback = true; }\n    return isForwardPlayback\n        ? loopElapsed(duration + -elapsed, duration, delay)\n        : duration - (elapsed - duration) + delay;\n}\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n    return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\n\nvar framesync = function (update) {\n    var passTimestamp = function (_a) {\n        var delta = _a.delta;\n        return update(delta);\n    };\n    return {\n        start: function () { return sync__default['default'].update(passTimestamp, true); },\n        stop: function () { return sync.cancelSync.update(passTimestamp); },\n    };\n};\nfunction animate(_a) {\n    var _b, _c;\n    var from = _a.from, _d = _a.autoplay, autoplay = _d === void 0 ? true : _d, _e = _a.driver, driver = _e === void 0 ? framesync : _e, _f = _a.elapsed, elapsed = _f === void 0 ? 0 : _f, _g = _a.repeat, repeatMax = _g === void 0 ? 0 : _g, _h = _a.repeatType, repeatType = _h === void 0 ? \"loop\" : _h, _j = _a.repeatDelay, repeatDelay = _j === void 0 ? 0 : _j, onPlay = _a.onPlay, onStop = _a.onStop, onComplete = _a.onComplete, onRepeat = _a.onRepeat, onUpdate = _a.onUpdate, options = tslib.__rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n    var to = options.to;\n    var driverControls;\n    var repeatCount = 0;\n    var computedDuration = options.duration;\n    var latest;\n    var isComplete = false;\n    var isForwardPlayback = true;\n    var interpolateFromNumber;\n    var animator = detectAnimationFromOptions(options);\n    if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n        interpolateFromNumber = interpolate([0, 100], [from, to], {\n            clamp: false,\n        });\n        from = 0;\n        to = 100;\n    }\n    var animation = animator(tslib.__assign(tslib.__assign({}, options), { from: from, to: to }));\n    function repeat() {\n        repeatCount++;\n        if (repeatType === \"reverse\") {\n            isForwardPlayback = repeatCount % 2 === 0;\n            elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n        }\n        else {\n            elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n            if (repeatType === \"mirror\")\n                animation.flipTarget();\n        }\n        isComplete = false;\n        onRepeat && onRepeat();\n    }\n    function complete() {\n        driverControls.stop();\n        onComplete && onComplete();\n    }\n    function update(delta) {\n        if (!isForwardPlayback)\n            delta = -delta;\n        elapsed += delta;\n        if (!isComplete) {\n            var state = animation.next(Math.max(0, elapsed));\n            latest = state.value;\n            if (interpolateFromNumber)\n                latest = interpolateFromNumber(latest);\n            isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n        }\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n        if (isComplete) {\n            if (repeatCount === 0)\n                computedDuration !== null && computedDuration !== void 0 ? computedDuration : (computedDuration = elapsed);\n            if (repeatCount < repeatMax) {\n                hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n            }\n            else {\n                complete();\n            }\n        }\n    }\n    function play() {\n        onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n        driverControls = driver(update);\n        driverControls.start();\n    }\n    autoplay && play();\n    return {\n        stop: function () {\n            onStop === null || onStop === void 0 ? void 0 : onStop();\n            driverControls.stop();\n        },\n    };\n}\n\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nfunction inertia(_a) {\n    var _b = _a.from, from = _b === void 0 ? 0 : _b, _c = _a.velocity, velocity = _c === void 0 ? 0 : _c, min = _a.min, max = _a.max, _d = _a.power, power = _d === void 0 ? 0.8 : _d, _e = _a.timeConstant, timeConstant = _e === void 0 ? 750 : _e, _f = _a.bounceStiffness, bounceStiffness = _f === void 0 ? 500 : _f, _g = _a.bounceDamping, bounceDamping = _g === void 0 ? 10 : _g, _h = _a.restDelta, restDelta = _h === void 0 ? 1 : _h, modifyTarget = _a.modifyTarget, driver = _a.driver, onUpdate = _a.onUpdate, onComplete = _a.onComplete;\n    var currentAnimation;\n    function isOutOfBounds(v) {\n        return (min !== undefined && v < min) || (max !== undefined && v > max);\n    }\n    function boundaryNearest(v) {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    }\n    function startAnimation(options) {\n        currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n        currentAnimation = animate(tslib.__assign(tslib.__assign({}, options), { driver: driver, onUpdate: function (v) {\n                var _a;\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(v);\n                (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n            }, onComplete: onComplete }));\n    }\n    function startSpring(options) {\n        startAnimation(tslib.__assign({ type: \"spring\", stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta }, options));\n    }\n    if (isOutOfBounds(from)) {\n        startSpring({ from: from, velocity: velocity, to: boundaryNearest(from) });\n    }\n    else {\n        var target = power * velocity + from;\n        if (typeof modifyTarget !== \"undefined\")\n            target = modifyTarget(target);\n        var boundary_1 = boundaryNearest(target);\n        var heading_1 = boundary_1 === min ? -1 : 1;\n        var prev_1;\n        var current_1;\n        var checkBoundary = function (v) {\n            prev_1 = current_1;\n            current_1 = v;\n            velocity = velocityPerSecond(v - prev_1, sync.getFrameData().delta);\n            if ((heading_1 === 1 && v > boundary_1) ||\n                (heading_1 === -1 && v < boundary_1)) {\n                startSpring({ from: v, to: boundary_1, velocity: velocity });\n            }\n        };\n        startAnimation({\n            type: \"decay\",\n            from: from,\n            velocity: velocity,\n            timeConstant: timeConstant,\n            power: power,\n            restDelta: restDelta,\n            modifyTarget: modifyTarget,\n            onUpdate: isOutOfBounds(target) ? checkBoundary : undefined,\n        });\n    }\n    return {\n        stop: function () { return currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop(); },\n    };\n}\n\nvar radiansToDegrees = function (radians) { return (radians * 180) / Math.PI; };\n\nvar angle = function (a, b) {\n    if (b === void 0) { b = zeroPoint; }\n    return radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\n};\n\nvar applyOffset = function (from, to) {\n    var hasReceivedFrom = true;\n    if (to === undefined) {\n        to = from;\n        hasReceivedFrom = false;\n    }\n    return function (v) {\n        if (hasReceivedFrom) {\n            return v - from + to;\n        }\n        else {\n            from = v;\n            hasReceivedFrom = true;\n            return to;\n        }\n    };\n};\n\nvar identity = function (v) { return v; };\nvar createAttractor = function (alterDisplacement) {\n    if (alterDisplacement === void 0) { alterDisplacement = identity; }\n    return function (constant, origin, v) {\n        var displacement = origin - v;\n        var springModifiedDisplacement = -(0 - constant + 1) * (0 - alterDisplacement(Math.abs(displacement)));\n        return displacement <= 0\n            ? origin + springModifiedDisplacement\n            : origin - springModifiedDisplacement;\n    };\n};\nvar attract = createAttractor();\nvar attractExpo = createAttractor(Math.sqrt);\n\nvar degreesToRadians = function (degrees) { return (degrees * Math.PI) / 180; };\n\nvar isPoint = function (point) {\n    return point.hasOwnProperty('x') && point.hasOwnProperty('y');\n};\n\nvar isPoint3D = function (point) {\n    return isPoint(point) && point.hasOwnProperty('z');\n};\n\nvar distance1D = function (a, b) { return Math.abs(a - b); };\nfunction distance(a, b) {\n    if (isNum(a) && isNum(b)) {\n        return distance1D(a, b);\n    }\n    else if (isPoint(a) && isPoint(b)) {\n        var xDelta = distance1D(a.x, b.x);\n        var yDelta = distance1D(a.y, b.y);\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n    }\n}\n\nvar pointFromVector = function (origin, angle, distance) {\n    angle = degreesToRadians(angle);\n    return {\n        x: distance * Math.cos(angle) + origin.x,\n        y: distance * Math.sin(angle) + origin.y\n    };\n};\n\nvar toDecimal = function (num, precision) {\n    if (precision === void 0) { precision = 2; }\n    precision = Math.pow(10, precision);\n    return Math.round(num * precision) / precision;\n};\n\nvar smoothFrame = function (prevValue, nextValue, duration, smoothing) {\n    if (smoothing === void 0) { smoothing = 0; }\n    return toDecimal(prevValue +\n        (duration * (nextValue - prevValue)) / Math.max(smoothing, duration));\n};\n\nvar smooth = function (strength) {\n    if (strength === void 0) { strength = 50; }\n    var previousValue = 0;\n    var lastUpdated = 0;\n    return function (v) {\n        var currentFramestamp = sync.getFrameData().timestamp;\n        var timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\n        var newValue = timeDelta\n            ? smoothFrame(previousValue, v, timeDelta, strength)\n            : previousValue;\n        lastUpdated = currentFramestamp;\n        previousValue = newValue;\n        return newValue;\n    };\n};\n\nvar snap = function (points) {\n    if (typeof points === 'number') {\n        return function (v) { return Math.round(v / points) * points; };\n    }\n    else {\n        var i_1 = 0;\n        var numPoints_1 = points.length;\n        return function (v) {\n            var lastDistance = Math.abs(points[0] - v);\n            for (i_1 = 1; i_1 < numPoints_1; i_1++) {\n                var point = points[i_1];\n                var distance = Math.abs(point - v);\n                if (distance === 0)\n                    return point;\n                if (distance > lastDistance)\n                    return points[i_1 - 1];\n                if (i_1 === numPoints_1 - 1)\n                    return point;\n                lastDistance = distance;\n            }\n        };\n    }\n};\n\nfunction velocityPerFrame(xps, frameDuration) {\n    return xps / (1000 / frameDuration);\n}\n\nvar wrap = function (min, max, v) {\n    var rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nvar a = function (a1, a2) { return 1.0 - 3.0 * a2 + 3.0 * a1; };\nvar b = function (a1, a2) { return 3.0 * a2 - 6.0 * a1; };\nvar c = function (a1) { return 3.0 * a1; };\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar subdivisionPrecision = 0.0000001;\nvar subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX;\n    var currentT;\n    var i = 0;\n    do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n            aB = currentT;\n        }\n        else {\n            aA = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nvar newtonIterations = 8;\nvar newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < newtonIterations; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n            return aGuessT;\n        }\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n}\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    if (mX1 === mY1 && mX2 === mY2)\n        return linear;\n    var sampleValues = new Float32Array(kSplineTableSize);\n    for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n    function getTForX(aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n        var dist = (aX - sampleValues[currentSample]) /\n            (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= newtonMinSlope) {\n            return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n        else if (initialSlope === 0.0) {\n            return guessForT;\n        }\n        else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n    }\n    return function (t) {\n        return t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n    };\n}\n\nvar steps = function (steps, direction) {\n    if (direction === void 0) { direction = 'end'; }\n    return function (progress) {\n        progress =\n            direction === 'end' ? Math.min(progress, 0.999) : Math.max(progress, 0.001);\n        var expanded = progress * steps;\n        var rounded = direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded);\n        return clamp(0, 1, rounded / steps);\n    };\n};\n\nexports.angle = angle;\nexports.animate = animate;\nexports.anticipate = anticipate;\nexports.applyOffset = applyOffset;\nexports.attract = attract;\nexports.attractExpo = attractExpo;\nexports.backIn = backIn;\nexports.backInOut = backInOut;\nexports.backOut = backOut;\nexports.bounceIn = bounceIn;\nexports.bounceInOut = bounceInOut;\nexports.bounceOut = bounceOut;\nexports.circIn = circIn;\nexports.circInOut = circInOut;\nexports.circOut = circOut;\nexports.clamp = clamp;\nexports.createAnticipate = createAnticipate;\nexports.createAttractor = createAttractor;\nexports.createBackIn = createBackIn;\nexports.createExpoIn = createExpoIn;\nexports.cubicBezier = cubicBezier;\nexports.decay = decay;\nexports.degreesToRadians = degreesToRadians;\nexports.distance = distance;\nexports.easeIn = easeIn;\nexports.easeInOut = easeInOut;\nexports.easeOut = easeOut;\nexports.inertia = inertia;\nexports.interpolate = interpolate;\nexports.isPoint = isPoint;\nexports.isPoint3D = isPoint3D;\nexports.keyframes = keyframes;\nexports.linear = linear;\nexports.mirrorEasing = mirrorEasing;\nexports.mix = mix;\nexports.mixColor = mixColor;\nexports.mixComplex = mixComplex;\nexports.pipe = pipe;\nexports.pointFromVector = pointFromVector;\nexports.progress = progress;\nexports.radiansToDegrees = radiansToDegrees;\nexports.reverseEasing = reverseEasing;\nexports.smooth = smooth;\nexports.smoothFrame = smoothFrame;\nexports.snap = snap;\nexports.spring = spring;\nexports.steps = steps;\nexports.toDecimal = toDecimal;\nexports.velocityPerFrame = velocityPerFrame;\nexports.velocityPerSecond = velocityPerSecond;\nexports.wrap = wrap;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Dont use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Carousel = void 0;\nvar CarouselItem_1 = require(\"./CarouselItem\");\nvar Indicators_1 = require(\"./Indicators\");\nvar util_1 = require(\"./util\");\nvar Styled_1 = require(\"./Styled\");\nvar react_1 = __importStar(require(\"react\"));\nvar Carousel = function (props) {\n    var _a = (0, react_1.useState)({\n        active: 0,\n        prevActive: 0,\n        next: true\n    }), state = _a[0], setState = _a[1];\n    /** Used to set carousel's height. It is being set by the CarouselItems */\n    var _b = (0, react_1.useState)(), childrenHeight = _b[0], setChildrenHeight = _b[1];\n    var _c = (0, react_1.useState)(false), paused = _c[0], setPaused = _c[1];\n    var sanitizedProps = (0, util_1.sanitizeProps)(props);\n    // componentDidMount & onIndexChange\n    (0, react_1.useEffect)(function () {\n        var index = sanitizedProps.index, changeOnFirstRender = sanitizedProps.changeOnFirstRender;\n        setNext(index, true, changeOnFirstRender);\n    }, [sanitizedProps.index]);\n    (0, util_1.useInterval)(function () {\n        var autoPlay = sanitizedProps.autoPlay;\n        if (autoPlay && !paused) {\n            next(undefined);\n        }\n    }, sanitizedProps.interval);\n    var next = function (event) {\n        var children = sanitizedProps.children, cycleNavigation = sanitizedProps.cycleNavigation;\n        var last = Array.isArray(children) ? children.length - 1 : 0;\n        var nextActive = state.active + 1 > last ? (cycleNavigation ? 0 : state.active) : state.active + 1;\n        setNext(nextActive, true);\n        if (event)\n            event.stopPropagation();\n    };\n    var prev = function (event) {\n        var children = sanitizedProps.children, cycleNavigation = sanitizedProps.cycleNavigation;\n        var last = Array.isArray(children) ? children.length - 1 : 0;\n        var nextActive = state.active - 1 < 0 ? (cycleNavigation ? last : state.active) : state.active - 1;\n        setNext(nextActive, false);\n        if (event)\n            event.stopPropagation();\n    };\n    var setNext = function (index, isNext, runCallbacks) {\n        if (runCallbacks === void 0) { runCallbacks = true; }\n        var onChange = sanitizedProps.onChange, children = sanitizedProps.children, strictIndexing = sanitizedProps.strictIndexing;\n        if (Array.isArray(children)) {\n            if (strictIndexing && index > children.length - 1)\n                index = children.length - 1;\n            if (strictIndexing && index < 0)\n                index = 0;\n        }\n        else {\n            index = 0;\n        }\n        if (runCallbacks) {\n            if (isNext !== undefined)\n                isNext ? sanitizedProps.next(index, state.active) : sanitizedProps.prev(index, state.active);\n            onChange(index, state.active);\n        }\n        if (isNext === undefined) {\n            isNext = index > state.active;\n        }\n        setState({\n            active: index,\n            prevActive: state.active,\n            next: isNext\n        });\n    };\n    var children = sanitizedProps.children, sx = sanitizedProps.sx, className = sanitizedProps.className, height = sanitizedProps.height, stopAutoPlayOnHover = sanitizedProps.stopAutoPlayOnHover, animation = sanitizedProps.animation, duration = sanitizedProps.duration, swipe = sanitizedProps.swipe, navButtonsAlwaysInvisible = sanitizedProps.navButtonsAlwaysInvisible, navButtonsAlwaysVisible = sanitizedProps.navButtonsAlwaysVisible, cycleNavigation = sanitizedProps.cycleNavigation, fullHeightHover = sanitizedProps.fullHeightHover, navButtonsProps = sanitizedProps.navButtonsProps, navButtonsWrapperProps = sanitizedProps.navButtonsWrapperProps, NavButton = sanitizedProps.NavButton, NextIcon = sanitizedProps.NextIcon, PrevIcon = sanitizedProps.PrevIcon, indicators = sanitizedProps.indicators, indicatorContainerProps = sanitizedProps.indicatorContainerProps, indicatorIconButtonProps = sanitizedProps.indicatorIconButtonProps, activeIndicatorIconButtonProps = sanitizedProps.activeIndicatorIconButtonProps, IndicatorIcon = sanitizedProps.IndicatorIcon;\n    var showButton = function (next) {\n        if (next === void 0) { next = true; }\n        if (cycleNavigation)\n            return true;\n        var last = Array.isArray(children) ? children.length - 1 : 0;\n        if (next && state.active === last)\n            return false;\n        if (!next && state.active === 0)\n            return false;\n        return true;\n    };\n    return (react_1.default.createElement(Styled_1.StyledRoot, { sx: sx, className: className, onMouseOver: function () { stopAutoPlayOnHover && setPaused(true); }, onMouseOut: function () { stopAutoPlayOnHover && setPaused(false); }, onFocus: function () { stopAutoPlayOnHover && setPaused(true); }, onBlur: function () { stopAutoPlayOnHover && setPaused(false); } },\n        react_1.default.createElement(Styled_1.StyledItemWrapper, { style: { height: height ? height : childrenHeight } }, Array.isArray(children) ?\n            children.map(function (child, index) {\n                return (react_1.default.createElement(CarouselItem_1.CarouselItem, { key: \"carousel-item\" + index, state: state, index: index, maxIndex: children.length - 1, child: child, animation: animation, duration: duration, swipe: swipe, next: next, prev: prev, height: height, setHeight: setChildrenHeight }));\n            })\n            :\n                react_1.default.createElement(CarouselItem_1.CarouselItem, { key: \"carousel-item0\", state: state, index: 0, maxIndex: 0, child: children, animation: animation, duration: duration, height: height, setHeight: setChildrenHeight })),\n        !navButtonsAlwaysInvisible && showButton(true) &&\n            react_1.default.createElement(Styled_1.StyledButtonWrapper, __assign({ \"$next\": true, \"$prev\": false, \"$fullHeightHover\": fullHeightHover }, navButtonsWrapperProps), NavButton !== undefined ?\n                NavButton(__assign({ onClick: next, next: true, prev: false }, navButtonsProps))\n                :\n                    react_1.default.createElement(Styled_1.StyledIconButton, __assign({ \"$alwaysVisible\": navButtonsAlwaysVisible, \"$fullHeightHover\": fullHeightHover, onClick: next, \"aria-label\": \"Next\" }, navButtonsProps), NextIcon)),\n        !navButtonsAlwaysInvisible && showButton(false) &&\n            react_1.default.createElement(Styled_1.StyledButtonWrapper, __assign({ \"$next\": false, \"$prev\": true, \"$fullHeightHover\": fullHeightHover }, navButtonsWrapperProps), NavButton !== undefined ?\n                NavButton(__assign({ onClick: prev, next: false, prev: true }, navButtonsProps))\n                :\n                    react_1.default.createElement(Styled_1.StyledIconButton, __assign({ \"$alwaysVisible\": navButtonsAlwaysVisible, \"$fullHeightHover\": fullHeightHover, onClick: prev, \"aria-label\": \"Previous\" }, navButtonsProps), PrevIcon)),\n        indicators ?\n            react_1.default.createElement(Indicators_1.Indicators, { length: Array.isArray(children) ? children.length : 0, active: state.active, press: setNext, indicatorContainerProps: indicatorContainerProps, indicatorIconButtonProps: indicatorIconButtonProps, activeIndicatorIconButtonProps: activeIndicatorIconButtonProps, IndicatorIcon: IndicatorIcon }) : null));\n};\nexports.Carousel = Carousel;\nexports.default = exports.Carousel;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CarouselItem = void 0;\nvar framer_motion_1 = require(\"framer-motion\");\nvar react_1 = __importStar(require(\"react\"));\nvar Styled_1 = require(\"./Styled\");\nvar CarouselItem = function (_a) {\n    var animation = _a.animation, next = _a.next, prev = _a.prev, swipe = _a.swipe, state = _a.state, index = _a.index, maxIndex = _a.maxIndex, duration = _a.duration, child = _a.child, height = _a.height, setHeight = _a.setHeight;\n    var slide = animation === 'slide';\n    var fade = animation === 'fade';\n    var dragProps = {\n        drag: 'x',\n        layout: true,\n        onDragEnd: function (event, info) {\n            if (!swipe)\n                return;\n            if (info.offset.x > 0)\n                prev && prev();\n            else if (info.offset.x < 0)\n                next && next();\n            event.stopPropagation();\n        },\n        dragElastic: 0,\n        dragConstraints: { left: 0, right: 0 }\n    };\n    var divRef = (0, react_1.useRef)(null);\n    var checkAndSetHeight = (0, react_1.useCallback)(function () {\n        if (index !== state.active)\n            return;\n        if (!divRef.current)\n            return;\n        if (divRef.current.offsetHeight === 0) {\n            setTimeout(function () { return checkAndSetHeight(); }, 100);\n        }\n        else {\n            setHeight(divRef.current.offsetHeight);\n        }\n    }, [setHeight, state.active, index, divRef]);\n    // Set height on every child change\n    (0, react_1.useEffect)(function () {\n        checkAndSetHeight();\n    }, [checkAndSetHeight]);\n    var variants = {\n        leftwardExit: {\n            x: slide ? '-100%' : undefined,\n            opacity: fade ? 0 : undefined,\n            zIndex: 0,\n            // position: 'relative'\n        },\n        leftOut: {\n            x: slide ? '-100%' : undefined,\n            opacity: fade ? 0 : undefined,\n            display: 'none',\n            zIndex: 0,\n            // position: 'relative'\n        },\n        rightwardExit: {\n            x: slide ? '100%' : undefined,\n            opacity: fade ? 0 : undefined,\n            zIndex: 0,\n            // position: 'relative'\n        },\n        rightOut: {\n            x: slide ? '100%' : undefined,\n            opacity: fade ? 0 : undefined,\n            display: 'none',\n            zIndex: 0,\n            // position: 'relative'\n        },\n        center: {\n            x: 0,\n            opacity: 1,\n            zIndex: 1,\n            // position: 'relative'\n        },\n    };\n    // Handle animation directions and opacity given based on active, prevActive and this item's index\n    var active = state.active, isNext = state.next, prevActive = state.prevActive;\n    var animate = 'center';\n    if (index === active)\n        animate = 'center';\n    else if (index === prevActive) {\n        animate = isNext ? 'leftwardExit' : 'rightwardExit';\n        if (active === maxIndex && index === 0)\n            animate = 'rightwardExit';\n        if (active === 0 && index === maxIndex)\n            animate = 'leftwardExit';\n    }\n    else {\n        animate = index < active ? 'leftOut' : 'rightOut';\n        if (active === maxIndex && index === 0)\n            animate = 'rightOut';\n        if (active === 0 && index === maxIndex)\n            animate = 'leftOut';\n    }\n    duration = duration / 1000;\n    return (react_1.default.createElement(Styled_1.StyledItem, null,\n        react_1.default.createElement(framer_motion_1.AnimatePresence, { custom: isNext },\n            react_1.default.createElement(framer_motion_1.motion.div, __assign({}, (swipe && dragProps), { style: { height: '100%' } }),\n                react_1.default.createElement(framer_motion_1.motion.div, { custom: isNext, variants: variants, animate: animate, transition: {\n                        x: { type: \"tween\", duration: duration, delay: 0 },\n                        opacity: { duration: duration },\n                    }, style: { position: 'relative', height: '100%' } },\n                    react_1.default.createElement(\"div\", { ref: divRef, style: { height: height } }, child))))));\n};\nexports.CarouselItem = CarouselItem;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Indicators = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar Styled_1 = require(\"./Styled\");\nvar Indicators = function (props) {\n    var IndicatorIcon = (0, react_1.useMemo)(function () { return props.IndicatorIcon !== undefined ? props.IndicatorIcon : react_1.default.createElement(Styled_1.StyledFiberManualRecordIcon, null); }, [props.IndicatorIcon]);\n    var completeListIfRequired = (0, react_1.useCallback)(function (arrayOfIcons) {\n        while (arrayOfIcons.length < props.length) {\n            var index = 0;\n            arrayOfIcons.push(arrayOfIcons[index]);\n            index += 1;\n        }\n    }, [props.length]);\n    var _a = props.indicatorIconButtonProps, indicatorIconButtonClass = _a.className, indicatorIconButtonStyle = _a.style, indicatorIconButtonProps = __rest(_a, [\"className\", \"style\"]);\n    var _b = props.activeIndicatorIconButtonProps, activeIndicatorIconButtonClass = _b.className, activeIndicatorIconButtonStyle = _b.style, activeIndicatorIconButtonProps = __rest(_b, [\"className\", \"style\"]);\n    var indicators = [];\n    var _loop_1 = function (i) {\n        var className = i === props.active ?\n            indicatorIconButtonClass + \" \" + activeIndicatorIconButtonClass :\n            \"\" + indicatorIconButtonClass;\n        var style = i === props.active ?\n            Object.assign({}, indicatorIconButtonStyle, activeIndicatorIconButtonStyle) :\n            indicatorIconButtonStyle;\n        var restProps = i === props.active ?\n            Object.assign({}, indicatorIconButtonProps, activeIndicatorIconButtonProps) :\n            indicatorIconButtonProps;\n        if (restProps['aria-label'] === undefined)\n            restProps['aria-label'] = 'carousel indicator';\n        var createIndicator = function (IndicatorIcon) {\n            return (react_1.default.createElement(Styled_1.StyledIndicatorIconButton, __assign({ \"$active\": i === props.active, key: i, className: className, style: style, onClick: function () { props.press(i); } }, restProps, { \"aria-label\": restProps['aria-label'] + \" \" + (i + 1) }), IndicatorIcon));\n        };\n        Array.isArray(IndicatorIcon)\n            ? indicators.push(createIndicator(IndicatorIcon[i])) && completeListIfRequired(IndicatorIcon)\n            : indicators.push(createIndicator(IndicatorIcon));\n    };\n    for (var i = 0; i < props.length; i++) {\n        _loop_1(i);\n    }\n    var _c = props.indicatorContainerProps, indicatorContainerClass = _c.className, indicatorContainerStyle = _c.style, indicatorContainerProps = __rest(_c, [\"className\", \"style\"]);\n    return (react_1.default.createElement(Styled_1.StyledIndicators, __assign({ className: indicatorContainerClass, style: indicatorContainerStyle }, indicatorContainerProps), indicators));\n};\nexports.Indicators = Indicators;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StyledButtonWrapper = exports.StyledIconButton = exports.StyledIndicatorIconButton = exports.StyledFiberManualRecordIcon = exports.StyledIndicators = exports.StyledItemWrapper = exports.StyledItem = exports.StyledRoot = void 0;\nvar FiberManualRecord_1 = __importDefault(require(\"@mui/icons-material/FiberManualRecord\"));\nvar material_1 = require(\"@mui/material\");\nexports.StyledRoot = (0, material_1.styled)(\"div\")({\n    position: \"relative\",\n    overflow: \"hidden\",\n});\nexports.StyledItem = (0, material_1.styled)(\"div\")({\n    position: \"absolute\",\n    height: \"100%\",\n    width: '100%',\n    //    flexGrow: 1\n});\nexports.StyledItemWrapper = (0, material_1.styled)(\"div\")({\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n});\nexports.StyledIndicators = (0, material_1.styled)(\"div\")({\n    width: \"100%\",\n    marginTop: \"10px\",\n    textAlign: \"center\"\n});\nexports.StyledFiberManualRecordIcon = (0, material_1.styled)(FiberManualRecord_1.default)({\n    fontSize: \"15px\",\n});\nexports.StyledIndicatorIconButton = (0, material_1.styled)(material_1.IconButton, { shouldForwardProp: function (propName) { return !propName.startsWith('$'); } })(function (_a) {\n    var $active = _a.$active;\n    return ({\n        cursor: \"pointer\",\n        transition: \"200ms\",\n        padding: 0,\n        color: $active ? \"#494949\" : \"#afafaf\",\n        '&:hover': {\n            color: $active ? \"#494949\" : \"#1f1f1f\",\n        },\n        '&:active': {\n            color: $active ? \"#494949\" : \"#1f1f1f\",\n        }\n    });\n});\nexports.StyledIconButton = (0, material_1.styled)(material_1.IconButton, { shouldForwardProp: function (propName) { return !propName.startsWith('$'); } })(function (_a) {\n    var $alwaysVisible = _a.$alwaysVisible;\n    return ({\n        margin: \"0 10px\",\n        position: \"relative\",\n        backgroundColor: \"#494949\",\n        top: \"calc(50% - 20px) !important\",\n        color: \"white\",\n        fontSize: \"30px\",\n        transition: \"200ms\",\n        cursor: \"pointer\",\n        opacity: $alwaysVisible ? '1' : '0',\n        '&:hover': {\n            opacity: \"0.6 !important\",\n        },\n    });\n});\nexports.StyledButtonWrapper = (0, material_1.styled)(\"div\", { shouldForwardProp: function (propName) { return !propName.startsWith('$'); } })(function (_a) {\n    var $next = _a.$next, $prev = _a.$prev, $fullHeightHover = _a.$fullHeightHover;\n    return (__assign(__assign(__assign({ position: \"absolute\", height: \"100px\", backgroundColor: \"transparent\", zIndex: 1, top: \"calc(50% - 70px)\", '&:hover': {\n            '& button': {\n                backgroundColor: \"black\",\n                filter: \"brightness(120%)\",\n                opacity: \"0.4\"\n            }\n        } }, ($fullHeightHover ? {\n        height: \"100%\",\n        top: \"0\"\n    } : undefined)), ($next ? { right: 0 } : undefined)), ($prev ? { left: 0 } : undefined)));\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useInterval = exports.sanitizeProps = exports.sanitizeNavProps = void 0;\nvar NavigateBefore_1 = __importDefault(require(\"@mui/icons-material/NavigateBefore\"));\nvar NavigateNext_1 = __importDefault(require(\"@mui/icons-material/NavigateNext\"));\nvar react_1 = __importStar(require(\"react\"));\n;\nvar sanitizeNavProps = function (props) {\n    var _a = props || {}, className = _a.className, style = _a.style, rest = __rest(_a, [\"className\", \"style\"]);\n    return props !== undefined ? __assign({ style: props.style !== undefined ? props.style : {}, className: props.className !== undefined ? props.className : \"\" }, rest) : __assign({ style: {}, className: \"\" }, rest);\n};\nexports.sanitizeNavProps = sanitizeNavProps;\nvar sanitizeProps = function (props) {\n    var animation = props.animation !== undefined ? props.animation : \"fade\";\n    var duration = props.duration !== undefined ? props.duration : (animation === \"fade\" ? 500 : 200);\n    return {\n        sx: props.sx !== undefined ? props.sx : {},\n        className: props.className !== undefined ? props.className : \"\",\n        children: props.children ? props.children : [],\n        height: props.height,\n        index: props.index !== undefined ? props.index : 0,\n        strictIndexing: props.strictIndexing !== undefined ? props.strictIndexing : true,\n        autoPlay: props.autoPlay !== undefined ? props.autoPlay : true,\n        stopAutoPlayOnHover: props.stopAutoPlayOnHover !== undefined ? props.stopAutoPlayOnHover : true,\n        interval: props.interval !== undefined ? props.interval : 4000,\n        animation: animation,\n        duration: duration,\n        swipe: props.swipe !== undefined ? props.swipe : true,\n        navButtonsAlwaysInvisible: props.navButtonsAlwaysInvisible !== undefined ? props.navButtonsAlwaysInvisible : false,\n        navButtonsAlwaysVisible: props.navButtonsAlwaysVisible !== undefined ? props.navButtonsAlwaysVisible : false,\n        cycleNavigation: props.cycleNavigation !== undefined ? props.cycleNavigation : true,\n        fullHeightHover: props.fullHeightHover !== undefined ? props.fullHeightHover : true,\n        navButtonsWrapperProps: (0, exports.sanitizeNavProps)(props.navButtonsWrapperProps),\n        navButtonsProps: (0, exports.sanitizeNavProps)(props.navButtonsProps),\n        NavButton: props.NavButton,\n        NextIcon: props.NextIcon !== undefined ? props.NextIcon : react_1.default.createElement(NavigateNext_1.default, null),\n        PrevIcon: props.PrevIcon !== undefined ? props.PrevIcon : react_1.default.createElement(NavigateBefore_1.default, null),\n        indicators: props.indicators !== undefined ? props.indicators : true,\n        indicatorContainerProps: (0, exports.sanitizeNavProps)(props.indicatorContainerProps),\n        indicatorIconButtonProps: (0, exports.sanitizeNavProps)(props.indicatorIconButtonProps),\n        activeIndicatorIconButtonProps: (0, exports.sanitizeNavProps)(props.activeIndicatorIconButtonProps),\n        IndicatorIcon: props.IndicatorIcon,\n        onChange: props.onChange !== undefined ? props.onChange : function () { },\n        changeOnFirstRender: props.changeOnFirstRender !== undefined ? props.changeOnFirstRender : false,\n        next: props.next !== undefined ? props.next : function () { },\n        prev: props.prev !== undefined ? props.prev : function () { },\n    };\n};\nexports.sanitizeProps = sanitizeProps;\nvar useInterval = function (callback, delay) {\n    var savedCallback = (0, react_1.useRef)(function () { });\n    // Remember the latest callback.\n    (0, react_1.useEffect)(function () {\n        savedCallback.current = callback;\n    }, [callback]);\n    // Set up the interval.\n    (0, react_1.useEffect)(function () {\n        function tick() {\n            savedCallback.current();\n        }\n        if (delay !== null) {\n            var id_1 = setInterval(tick, delay);\n            return function () { return clearInterval(id_1); };\n        }\n        return function () { };\n    }, [delay]);\n};\nexports.useInterval = useInterval;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Carousel_1 = __importDefault(require(\"./components/Carousel\"));\nexports.default = Carousel_1.default;\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect =\n    /*#__PURE__*/\n    function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar tslib = require('tslib');\n\nvar clamp = function (min, max) { return function (v) {\n    return Math.max(Math.min(v, max), min);\n}; };\nvar sanitize = function (v) { return (v % 1 ? Number(v.toFixed(5)) : v); };\nvar floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\nfunction isString(v) {\n    return typeof v === 'string';\n}\n\nvar number = {\n    test: function (v) { return typeof v === 'number'; },\n    parse: parseFloat,\n    transform: function (v) { return v; },\n};\nvar alpha = tslib.__assign(tslib.__assign({}, number), { transform: clamp(0, 1) });\nvar scale = tslib.__assign(tslib.__assign({}, number), { default: 1 });\n\nvar createUnitType = function (unit) { return ({\n    test: function (v) {\n        return isString(v) && v.endsWith(unit) && v.split(' ').length === 1;\n    },\n    parse: parseFloat,\n    transform: function (v) { return \"\" + v + unit; },\n}); };\nvar degrees = createUnitType('deg');\nvar percent = createUnitType('%');\nvar px = createUnitType('px');\nvar vh = createUnitType('vh');\nvar vw = createUnitType('vw');\nvar progressPercentage = tslib.__assign(tslib.__assign({}, percent), { parse: function (v) { return percent.parse(v) / 100; }, transform: function (v) { return percent.transform(v * 100); } });\n\nvar isColorString = function (type, testProp) { return function (v) {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n}; };\nvar splitColor = function (aName, bName, cName) { return function (v) {\n    var _a;\n    if (!isString(v))\n        return v;\n    var _b = v.match(floatRegex), a = _b[0], b = _b[1], c = _b[2], alpha = _b[3];\n    return _a = {},\n        _a[aName] = parseFloat(a),\n        _a[bName] = parseFloat(b),\n        _a[cName] = parseFloat(c),\n        _a.alpha = alpha !== undefined ? parseFloat(alpha) : 1,\n        _a;\n}; };\n\nvar hsla = {\n    test: isColorString('hsl', 'hue'),\n    parse: splitColor('hue', 'saturation', 'lightness'),\n    transform: function (_a) {\n        var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\n        return ('hsla(' +\n            Math.round(hue) +\n            ', ' +\n            percent.transform(sanitize(saturation)) +\n            ', ' +\n            percent.transform(sanitize(lightness)) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')');\n    },\n};\n\nvar clampRgbUnit = clamp(0, 255);\nvar rgbUnit = tslib.__assign(tslib.__assign({}, number), { transform: function (v) { return Math.round(clampRgbUnit(v)); } });\nvar rgba = {\n    test: isColorString('rgb', 'red'),\n    parse: splitColor('red', 'green', 'blue'),\n    transform: function (_a) {\n        var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$1 = _b === void 0 ? 1 : _b;\n        return 'rgba(' +\n            rgbUnit.transform(red) +\n            ', ' +\n            rgbUnit.transform(green) +\n            ', ' +\n            rgbUnit.transform(blue) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')';\n    },\n};\n\nfunction parseHex(v) {\n    var r = '';\n    var g = '';\n    var b = '';\n    var a = '';\n    if (v.length > 5) {\n        r = v.substr(1, 2);\n        g = v.substr(3, 2);\n        b = v.substr(5, 2);\n        a = v.substr(7, 2);\n    }\n    else {\n        r = v.substr(1, 1);\n        g = v.substr(2, 1);\n        b = v.substr(3, 1);\n        a = v.substr(4, 1);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nvar hex = {\n    test: isColorString('#'),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nvar color = {\n    test: function (v) { return rgba.test(v) || hex.test(v) || hsla.test(v); },\n    parse: function (v) {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: function (v) {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty('red')\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nvar colorToken = '${c}';\nvar numberToken = '${n}';\nfunction test(v) {\n    var _a, _b, _c, _d;\n    return (isNaN(v) &&\n        isString(v) &&\n        ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0);\n}\nfunction analyse(v) {\n    var values = [];\n    var numColors = 0;\n    var colors = v.match(colorRegex);\n    if (colors) {\n        numColors = colors.length;\n        v = v.replace(colorRegex, colorToken);\n        values.push.apply(values, colors.map(color.parse));\n    }\n    var numbers = v.match(floatRegex);\n    if (numbers) {\n        v = v.replace(floatRegex, numberToken);\n        values.push.apply(values, numbers.map(number.parse));\n    }\n    return { values: values, numColors: numColors, tokenised: v };\n}\nfunction parse(v) {\n    return analyse(v).values;\n}\nfunction createTransformer(v) {\n    var _a = analyse(v), values = _a.values, numColors = _a.numColors, tokenised = _a.tokenised;\n    var numValues = values.length;\n    return function (v) {\n        var output = tokenised;\n        for (var i = 0; i < numValues; i++) {\n            output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n        }\n        return output;\n    };\n}\nvar convertNumbersToZero = function (v) {\n    return typeof v === 'number' ? 0 : v;\n};\nfunction getAnimatableNone(v) {\n    var parsed = parse(v);\n    var transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nvar complex = { test: test, parse: parse, createTransformer: createTransformer, getAnimatableNone: getAnimatableNone };\n\nvar maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\nfunction applyDefaultFilter(v) {\n    var _a = v.slice(0, -1).split('('), name = _a[0], value = _a[1];\n    if (name === 'drop-shadow')\n        return v;\n    var number = (value.match(floatRegex) || [])[0];\n    if (!number)\n        return v;\n    var unit = value.replace(number, '');\n    var defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + '(' + defaultValue + unit + ')';\n}\nvar functionRegex = /([a-z-]*)\\(.*?\\)/g;\nvar filter = tslib.__assign(tslib.__assign({}, complex), { getAnimatableNone: function (v) {\n        var functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n    } });\n\nexports.alpha = alpha;\nexports.color = color;\nexports.complex = complex;\nexports.degrees = degrees;\nexports.filter = filter;\nexports.hex = hex;\nexports.hsla = hsla;\nexports.number = number;\nexports.percent = percent;\nexports.progressPercentage = progressPercentage;\nexports.px = px;\nexports.rgbUnit = rgbUnit;\nexports.rgba = rgba;\nexports.scale = scale;\nexports.vh = vh;\nexports.vw = vw;\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_createSvgIcon","_jsxRuntime","_default","default","jsx","cx","cy","r","d","enumerable","get","_utils","createSvgIcon","tslib","React","heyListen","styleValueTypes","popmotion","sync","_interopDefaultLegacy","e","_interopNamespace","__esModule","n","create","keys","forEach","k","getOwnPropertyDescriptor","freeze","React__namespace","React__default","sync__default","createDefinition","propNames","isEnabled","props","some","name","featureDefinitions","measureLayout","animation","exit","drag","focus","hover","tap","pan","layoutAnimation","loadFeatures","features","key","Component","LazyContext","createContext","strict","featureNames","numFeatures","length","MotionConfigContext","transformPagePoint","p","isStatic","MotionContext","useVisualElementContext","useContext","visualElement","PresenceContext","useConstant","init","ref","useRef","current","usePresence","context","isPresent","onExitComplete","register","id","useUniqueId","useEffect","counter","incrementId","LayoutGroupContext","isBrowser","window","useIsomorphicLayoutEffect","useLayoutEffect","useVisualElement","visualState","createVisualElement","config","lazyContext","parent","presenceContext","layoutId","_a","layoutGroupId","undefined","useLayoutId","visualElementRef","renderer","__assign","presenceId","blockInitialAnimation","initial","setProps","isPresenceRoot","syncRender","animationState","animateChanges","notifyUnmount","isRefObject","prototype","hasOwnProperty","call","isVariantLabels","v","Array","isArray","isVariantLabel","resolveVariantFromProps","definition","custom","currentValues","currentVelocity","variants","resolveVariant","getProps","forEachValue","getCurrent","velocity","getVelocity","getVelocity$1","checkIfControllingVariants","animate","start","whileHover","whileDrag","whileTap","whileFocus","checkIfVariantNode","Boolean","useCreateMotionContext","inherit","getCurrentTreeVariants","useMemo","variantLabelsAsDependency","prop","join","createMotionComponent","preloadedFeatures","useRender","useVisualState","forwardRef","externalRef","i","name_1","push","createElement","useFeatures","Fragment","Provider","useCallback","instance","mount","unmount","useMotionRef","createMotionProxy","createConfig","customMotionComponentConfig","componentCache","Map","Proxy","_target","has","set","lowercaseSVGElements","isSVGComponent","includes","indexOf","test","valueScaleCorrection","addScaleCorrection","correctors","transformAxes","transformProps","sortTransformProps","a","b","operationKey","axesKey","transformPropSet","Set","isTransformProp","transformOriginProps","isTransformOriginProp","isForcedMotionValue","layout","isMotionValue","translateAlias","x","y","z","transformPerspective","isCSSVariable$1","startsWith","getValueAsType","type","transform","int","number","Math","round","numberValueTypes","borderWidth","px","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","size","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","degrees","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","opacity","alpha","originX","progressPercentage","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","buildHTMLStyles","state","latestValues","projection","layoutState","options","transformTemplate","buildProjectionTransform","buildProjectionTransformOrigin","style","vars","transformKeys","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","isHydrated","correctedValue","process","applyTo","num","deltaFinal","treeScale","_b","transformIsDefault","_c","enableHardwareAcceleration","_d","allowTransformNone","transformString","sort","transformHasZ","numTransformKeys","trim","buildTransform","buildTransformOrigin","createHtmlRenderState","copyRawValuesOnly","target","source","useStyle","assign","useInitialMotionValues","transformValues","useHTMLProps","htmlProps","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","validMotionProps","isValidMotionProp","shouldForward","emotionIsPropValid_1","calcOrigin$1","origin","offset","progressToPixels","progress","dashKeys","array","camelKeys","buildSVGAttrs","attrX","attrY","pathLength","pathSpacing","pathOffset","__rest","attrs","dimensions","totalPathLength","calcSVGTransformOrigin","totalLength","spacing","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","CAMEL_CASE_PATTERN","camelToDash","str","replace","toLowerCase","renderHTML","element","setProperty","camelCaseAttributes","renderSVG","renderState","setAttribute","scrapeMotionValuesFromProps$1","newValues","scrapeMotionValuesFromProps","toUpperCase","isAnimationControls","isKeyframesTarget","resolveMotionValue","unwrappedValue","mix","toValue","makeState","createRenderState","onMount","makeLatestValues","makeUseVisualState","scrapeMotionValues","values","motionValues","isControllingVariants","isVariantNode","variantToSet","resolved","transitionEnd","transition","svgMotionConfig","getBBox","getBoundingClientRect","tagName","getTotalLength","AnimationType","htmlMotionConfig","createDomMotionConfig","baseConfig","addDomEvent","eventName","handler","addEventListener","removeEventListener","useDomEvent","isMouseEvent","event","PointerEvent","pointerType","MouseEvent","isTouchEvent","touches","defaultPagePoint","pageX","pageY","pointFromTouch","pointType","point","changedTouches","pointFromMouse","extractEventInfo","wrapHandler","shouldFilterPrimaryPointer","eventHandler","listener","button","mouseEventNames","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","touchEventNames","getPointerEventName","onpointerdown","ontouchstart","onmousedown","addPointerEvent","usePointerEvent","createLock","lock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal_1","openVertical_1","isDragActive","openGestureLock","createHoverEvent","isActive","callback","info","setActive","Hover","isNodeOrChild","child","parentElement","useUnmountEffect","makeRenderlessComponent","hook","gestureAnimations","onTap","onTapStart","onTapCancel","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","checkPointerEnd","Tap","onPointerUp","getInstance","onPointerCancel","pipe","Focus","onHoverStart","onHoverEnd","shallowCompare","next","prev","prevLength","secondsToMilliseconds","seconds","easingLookup","linear","easeIn","easeInOut","easeOut","circIn","circInOut","circOut","backIn","backInOut","backOut","anticipate","bounceIn","bounceInOut","bounceOut","easingDefinitionToFunction","invariant","__read","x1","y1","x2","y2","cubicBezier","isAnimatable","complex","underDampedSpring","stiffness","damping","restDelta","restSpeed","criticallyDampedSpring","to","sqrt","linearTween","ease","duration","keyframes","defaultTransitions","backgroundColor","color","defaultValueTypes","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","filter","WebkitFilter","getDefaultValueType","getAnimatableNone","defaultValueType","legacyRepeatWarning","convertTransitionToAnimationOptions","times","yoyo","flip","loop","repeatDelay","isEasingArray","map","warning","repeatType","repeat","getPopmotionAnimationOptions","__spreadArray","from","hydrateKeyframes","when","delay","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","valueKey","transitionFactory","getDefaultTransition","isZero","parseFloat","getZeroUnit","potentialUnitType","getValueTransition","startAnimation","onComplete","delayTimer","controls","valueTransition","isTargetAnimatable","isOriginAnimatable","onUpdate","inertia","stop","getAnimation","getDelayFromTransition","setTimeout","clearTimeout","addUniqueItem","arr","item","removeItem","index","splice","SubscriptionManager","this","subscriptions","add","_this","notify","c","numSubscriptions","getSize","clear","MotionValue","timeDelta","lastUpdated","updateSubscribers","velocityUpdateSubscribers","renderSubscribers","canTrackVelocity","updateAndNotify","render","getFrameData","delta","timestamp","postRender","scheduleVelocityCheck","velocityCheck","hasAnimated","isNaN","onChange","subscription","clearListeners","onRenderRequest","attach","passiveEffect","getPrevious","velocityPerSecond","Promise","resolve","stopAnimation","then","clearAnimation","isAnimating","destroy","motionValue","testValueType","dimensionValueTypes","percent","vw","vh","parse","findDimensionValueType","find","valueTypes","findValueType","setMotionValue","hasValue","getValue","addValue","setTarget","makeTargetAnimatable","setVariants","variantLabels","reverse","variant","getVariant","variantChildren","checkTargetForNewValues","newValueKeys","numNewValues","targetValue","readValue","setBaseTarget","getOriginFromTransition","getOrigin","animateVisualElement","notifyAnimationStart","animations","animateVariant","all","resolvedDefinition","animateTarget","notifyAnimationComplete","transitionOverride","getChildAnimations","forwardDelay","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","animateChildren","first","last","_e","_f","animationTypeState","getState","valueTarget","shouldBlockAnimation","sortNodePosition","protectedKeys","needsAnimating","shouldBlock","variantPriorityOrder","Animate","Drag","Exit","reversePriorityOrder","numAnimationTypes","createAnimationState","animateList","createTypeState","createState","allAnimatedKeys","isInitialRender","buildResolvedTypeValues","acc","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","Infinity","_loop_1","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","shouldAnimateType","variantsHaveChanged","definitionList","resolvedValues","reduce","prevResolvedValues","allKeys","markToAnimate","delete","apply","fallbackAnimation_1","fallbackTarget","getBaseTarget","shouldAnimate","isAnimated","setAnimateFunction","makeAnimator","subscribe","PanSession","handlers","startEvent","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","onStart","onMove","handlePointerMove","transformPoint","buttons","handlePointerUp","update","end","onEnd","onSessionEnd","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","cancelSync","subtractPoint","lastDevicePoint","startDevicePoint","timestampedPoint","lastPoint","time","noop","any","convertBoundingBoxToAxisBox","min","max","axisBox","zeroDelta","translate","originPoint","eachAxis","isNear","maxDistance","calcLength","axis","calcOrigin","sourceLength","targetLength","clamp","updateAxisDelta","updateBoxDelta","defaultOrigin","calcRelativeAxis","relative","applyConstraints","elastic","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","getBoundingBox","topLeft","bottomRight","transformBoundingBox","compareByDepth","depth","isProjecting","shouldResetTransform","collectProjectingAncestors","ancestors","updateLayoutMeasurement","box","getLayoutState","notifyBeforeLayoutMeasure","measureViewportBox","layoutCorrected","notifyLayoutMeasure","prevViewportBox","rebaseProjectionTarget","snapshotViewportBox","calcRelativeOffsetAxis","calcRelativeOffset","checkIfParentHasChanged","prevId","getLayoutId","nextId","isDraggable","_dragX","resetAxis","originAxis","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","applyAxisTransforms","final","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","applyBoxTransforms","finalBox","removePointDelta","removeAxisTransforms","removeAxisDelta","removeBoxTransforms","unresolvedJobs","pushJob","stack","job","pointer","batchLayout","flushLayout","reads","writes","setRead","setWrite","numStacks","executeJob","lastPointerEvent","elementDragControls","WeakMap","VisualElementDragControls","isDragging","currentDirection","constraints","hasMutatedConstraints","cursorProgress","openGlobalLock","panSession","enableLayoutProjection","originEvent","snapToCursor","stopMotion","initialPoint","getViewportPointFromEvent","cancelLayout","read","write","children","addChild","collectProjectingChildren","tree","hasManuallySetCursorOrigin","isLayoutDrag","lockProjectionTarget","resetTransform","restoreTransform","getAxisMotionValue","isExternalDrag","scheduleUpdateLayoutProjection","axisValue","flushSync","preRender","resolveDragConstraints","dragPropagation","onDragStart","dragDirectionLock","lockThreshold","direction","abs","getCurrentDirection","onDirectionLock","updateAxis","onDrag","dragConstraints","resolveRefConstraints","layoutBox","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","measuredConstraints","calcViewportConstraints","userConstraints","convertAxisBoxToBoundingBox","cancelDrag","unlockProjectionTarget","animateDragEnd","onDragEnd","shouldDrag","length_1","center","updateAxisMotionValue","updateVisualElementAxis","nextValue","axisLayout","axisLength","axisProgress","calcConstrainedMinPoint","setProjectionTargetAxis","_g","dragMomentum","remainingProps","dragKey","_dragY","dragTransition","isRelative","projectionParent","getProjectionParent","getLatestValues","convertToRelativeProjection","relativeConstraints_1","targetFinal","momentumAnimations","bounceStiffness","bounceDamping","timeConstant","startAxisValueAnimation","startLayoutAnimation","onDragTransitionEnd","stopLayoutAnimation","currentValue","boxProgress","updateConstraints","calcPositionFromProgress","onReady","stopPointerListener","dragListener","stopResizeListener","stopLayoutUpdateListener","onLayoutUpdate","prevDragCursor","Presence","VisibilityAction","onPan","onPanStart","onPanEnd","onPanSessionStart","hasPanEvents","groupDragControls","dragControls","isCSSVariable","cssVariableRegex","getVariableValue","match","exec","parseCSSVariable","token","fallback","getComputedStyle","getPropertyValue","pixelsToPercent","pixels","varToken","borderCorrectionDefinition","latest","_layoutState","defaultScaleCorrectors","boxShadow","original","containsCSSVariables","cssVariables","shadow","template","createTransformer","xScale","yScale","averageScale","output","i_1","cssVariable","_super","arguments","frameTarget","currentAnimationTarget","stopAxisAnimation","isAnimatingTree","originBox","targetBox","visibilityAction","shouldStackAnimate","prevParent","safeToRemove","prevParentViewportBox","parentLayout","isProvidedCorrectDataForRelativeSharedLayout","boxHasMoved","hasMoved","isTargetLocked","animateAxis","setVisibility","Show","notifyLayoutAnimationComplete","__extends","componentDidMount","animateMotionValue","unsubLayoutReady","layoutSafeToRemove","componentWillUnmount","axisIsEqual","layoutProgress","getProjectionAnimationProgress","frame","tweenAxis","unsubscribeProgress","layoutTransition","defaultLayoutTransition","isZeroBox","zeroAxis","defaultHandler","layoutReady","notifyLayoutReady","createBatcher","queue","flush","order","presence","Present","assignProjectionToSnapshot","SharedLayoutContext","FramerTreeLayoutContext","isSharedLayout","forceUpdate","Measure","syncLayout","framerSyncLayout","onUnmount","remove","getSnapshotBeforeUpdate","syncUpdate","componentDidUpdate","layoutAnimations","createLayoutState","deltaTransform","zeroLayout","buildLayoutProjectionTransform","latestTransform","identityProjection","buildLayoutProjectionTransformOrigin","names","updateLayoutDeltas","treePath","treeLength","node","applyTreeDeltas","FlatTree","isDirty","treeType","build","renderInstance","readValueFromInstance","removeValueFromRenderState","unsubscribeFromLeadVisualElement","crossfader","projectionTargetProgress","removeFromVariantTree","lifecycles","managers","propSubscriptions","clearAllListeners","manager","updatePropListeners","on","propListener","args","_i","createLifecycles","leadProjection","leadLatestValues","hasViewportBoxUpdated","valueSubscriptions","prevMotionValues","baseTarget","isProjectionReady","triggerBuild","valuesToRender","crossfadedValues","getCrossfadeState","notifyUpdate","updateTreeLayoutProjection","layoutTree","fireUpdateLayoutProjection","initialMotionValues","path","isVisible","isMounted","newInstance","pointTo","addVariantChild","updateLayoutProjection","closestVariantNode","getClosestVariantNode","other","getStaticValue","setStaticValue","visibility","scheduleRender","canMutate","removeValue","removeOnChange","latestValue","removeOnRenderRequest","bindToMotionValue","defaultValue","newProps","prevValue","existingValue","updateMotionValuesFromProps","startAtParent","context_1","numVariantProps","variantProps","setCrossfader","newCrossfader","relativeTarget","withTransform","viewportBox","notifySetAxisTarget","force","shouldRebase","relativeOffset","setCurrentViewportBox","notifyLayoutUpdate","prevTreeScaleX","prevTreeScaleY","prevDeltaTransform","notifyViewportBoxUpdate","fireResolveRelativeTargetBox","foundParent","ancestor","resolveRelativeTargetBox","relativeParent","parentProjection","calcRelativeBox","_layoutResetTransform","newLead","onSetAxisTarget","onLayoutAnimationComplete","Entering","BoundingBoxDimension","positionalKeys","isPositionalKey","setAndResetVelocity","isNumOrPxType","getPosFromMatrix","matrix","pos","split","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","nonTranslationalTransformKeys","positionalValues","checkAndConvertChangedValueTypes","targetPositionalKeys","removedTransformValues","hasAttemptedToRemoveTransformValues","changedValueTypeKeys","toType","fromType","numKeyframes","removedTransforms","removeNonTranslationalTransform","convertedTarget","changedKeys","originBbox","elementComputedStyle","display","originComputedStyle","targetBbox","convertChangedValueTypes","unitConversion","hasPositionalKey","parseDomVariant","HTMLElement","resolveCSSVariables","htmlConfig","domElement","defaultType","computedStyle","compareDocumentPosition","mutableState","parsed","isProjectionTranform","htmlVisualElement","svgVisualElement","getAttribute","_element","createDomVisualElement","featureBundle","motion","m","getPresenceId","PresenceChild","presenceAffectsLayout","presenceChildren","newChildrenMap","childId","allComplete","isComplete","_","getChildKey","createCrossfader","lead","follow","crossfadeOpacity","preserveFollowOpacity","prevOptions","leadState","followState","finalCrossfadeFrame","prevUpdate","startCrossfadeAnimation","hasUpdated","updateCrossfade","latestLeadValues","latestFollowValues","prevValues","leadTargetOpacity","followTargetOpacity","easeCrossfadeIn","easeCrossfadeOut","hasFollowElement","numBorders","borderLabel","borders","followRadius","getRadius","leadRadius","mixColor","mixValues","fromLead","toLead","initialProgress","reset","setOptions","newOptions","compress","easing","radiusName","layoutStack","leadIsExiting","prevState","needsCrossfadeAnimation","getLead","updateSnapshot","clearSnapshot","updateLeadAndFollow","Exiting","shouldCrossfade","getFollowLayout","AnimateSharedLayout","stacks","hasMounted","updateScheduled","renderScheduled","syncContext","scheduleUpdate","removeChild","shouldComponentUpdate","updateStacks","getStack","hasRotate","resetValues","resetRotate","addToStack","removeFromStack","contextType","isLazyBundle","domAnimation","domMax","useMotionValue","setLatest_1","useState","useOnChange","useCombineMotionValues","combineValues","updateValue","unsubscribe","useMultiOnChange","getMixer","isCustomValueType","useImmediate","argOffset","inputValue","inputRange","outputRange","interpolator","interpolate","mixer","useTransform","input","inputRangeOrTransformer","transformer","useListTransform","numValues","createScrollMotionValues","scrollX","scrollY","scrollXProgress","scrollYProgress","setProgress","maxOffset","createScrollUpdater","getOffsets","xOffset","yOffset","xMaxOffset","yMaxOffset","viewportScrollValues","getViewportScrollOffsets","pageXOffset","pageYOffset","document","body","clientWidth","innerWidth","clientHeight","innerHeight","prefersReducedMotion","hasListeners","animationControls","pendingAnimations","subscribers","animations_1","setValues","DragControls","componentControls","nativeEvent","createDragControls","createObject","stateVisualElement","_state","initialState","invertScale","hasWarned","AnimatePresence","exitBeforeEnter","forceRender","unloadingRef","forcedRenderCount","setForcedRenderCount","useForceUpdate","layoutContext","filteredChildren","filtered","Children","isValidElement","onlyElements","presentChildren","allChildren","exiting","updateChildLookup","childrenToRender","presentKeys","targetKeys","numPresent","insertionIndex","removeIndex","findIndex","presentChild","cloneElement","LazyMotion","setIsLoaded","loadedRenderer","loadedFeatures","MotionConfig","transitionDependency","toString","createDomMotionComponent","useAnimation","useCycle","items","setItem","wrap","useDeprecatedAnimatedState","setAnimationState","animationDefinition","useDeprecatedInvertedScale","parentScaleX","parentScaleY","useDragControls","useElementScroll","updateScrollValues","scrollLeft","scrollTop","scrollWidth","offsetWidth","scrollHeight","offsetHeight","getElementScrollOffsets","scrollListener","passive","resizeListener","useIsPresent","useMotionTemplate","fragments","numFragments","buildValue","useReducedMotion","matchMedia","motionMediaQuery_1","setReducedMotionPreferences","matches","addListener","initPrefersReducedMotion","shouldReduceMotion","setShouldReduceMotion","useSpring","activeSpringAnimation","useVelocity","newVelocity","useViewportScroll","addEventListeners","reactPropsRegex","fn","cache","arg","memoize","charCodeAt","defaultTimestep","getCurrentTime","performance","now","Date","onNextFrame","requestAnimationFrame","useDefaultElapsed","runNextFrame","isProcessing","stepsOrder","steps","toRun","toRunNextFrame","numToRun","toKeepAlive","WeakSet","step","schedule","keepAlive","immediate","addToCurrentFrame","buffer","cancel","frameData","createRenderStep","startLoop","processStep","stepId","processFrame","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","module","test1","String","getOwnPropertyNames","test2","fromCharCode","test3","letter","err","shouldUseNative","symbols","s","safeMin","findSpring","envelope","derivative","bounce","mass","maxDuration","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","exp","pow","f","g","initialGuess","result","approximateRoot","durationKeys","physicsKeys","isSpringType","spring","done","springOptions","isResolvedFromDuration","derived","getSpringOptions","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","angularFreq_1","t","sin","cos","dampedAngularFreq_1","freqForT","sinh","cosh","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","toFromDifference","mixLinearColor","fromExpo","toExpo","colorTypes","hex","rgba","hsla","getColorType","notAnimatable","fromColorType","toColorType","fromColor","toColor","blended","mixFunc","zeroPoint","isNum","combineFunctions","transformers","mixComplex","mixArray","blendValue","fromThis","mixObject","analyse","numNumbers","numRGB","numHSL","hue","originStats","targetStats","mixNumber","createMixers","customMixer","mixers","mixerFactory","numMixers","easingFunction","isClamp","inputLength","concat","fastInterpolate","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","slowInterpolate","reverseEasing","mirrorEasing","createExpoIn","power","createBackIn","createAnticipate","backEasing","acos","p2","defaultEasing","o","convertOffsetToTimes","_value","defaultOffset","createInterpolator","decay","modifyTarget","amplitude","ideal","types","loopElapsed","elapsed","framesync","passTimestamp","driverControls","interpolateFromNumber","autoplay","driver","repeatMax","_h","_j","onPlay","onStop","onRepeat","repeatCount","computedDuration","isForwardPlayback","animator","detectAnimationFromOptions","reverseElapsed","hasRepeatDelayElapsed","frameDuration","radiansToDegrees","radians","PI","identity","createAttractor","alterDisplacement","constant","displacement","springModifiedDisplacement","attract","attractExpo","degreesToRadians","isPoint","isPoint3D","distance1D","toDecimal","precision","smoothFrame","smoothing","a1","a2","calcBezier","getSlope","kSampleStepSize","angle","atan2","applyOffset","hasReceivedFrom","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","xDelta","yDelta","zDelta","currentAnimation","isOutOfBounds","boundaryNearest","startSpring","prev_1","current_1","boundary_1","heading_1","pointFromVector","smooth","strength","previousValue","currentFramestamp","newValue","snap","points","numPoints_1","lastDistance","expanded","rounded","floor","ceil","velocityPerFrame","xps","rangeSize","hasElementType","Element","hasMap","hasSet","hasArrayBuffer","ArrayBuffer","isView","equal","constructor","it","entries","RegExp","flags","valueOf","$$typeof","error","message","console","warn","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","obj","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","Symbol","iterator","classCallCheck","Constructor","createClass","defineProperties","descriptor","configurable","writable","protoProps","staticProps","_extends","objectWithoutProperties","possibleConstructorReturn","self","ReferenceError","encodeSpecialCharacters","encode","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","tag","lowerCaseAttributeKey","getTagsFromPropsList","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","objectAssign","property","rafPolyfill","clock","currentTime","cafPolyfill","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","title","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","removeAttribute","tags","headElement","head","querySelector","tagNodes","querySelectorAll","slice","indexToDelete","newElement","innerHTML","styleSheet","cssText","appendChild","createTextNode","existingTag","isEqualNode","parentNode","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","generateTitleAsReactComponent","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","content","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","base","link","meta","noscript","script","HelmetExport","_class","_temp","_React$Component","HelmetWrapper","subClass","superClass","setPrototypeOf","__proto__","inherits","nextProps","isEqual","mapNestedChildrenToProps","nestedChildren","Error","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","_props","canUseDOM","propTypes","PropTypes","defaultTitle","defer","titleTemplate","defaultProps","peek","rewind","mappedState","Helmet","withSideEffect","renderStatic","__createBinding","k2","__setModuleDefault","__importStar","mod","Carousel","CarouselItem_1","Indicators_1","util_1","Styled_1","react_1","active","prevActive","setState","childrenHeight","setChildrenHeight","paused","setPaused","sanitizedProps","sanitizeProps","changeOnFirstRender","setNext","useInterval","autoPlay","interval","cycleNavigation","nextActive","stopPropagation","isNext","runCallbacks","strictIndexing","sx","className","stopAutoPlayOnHover","swipe","navButtonsAlwaysInvisible","navButtonsAlwaysVisible","fullHeightHover","navButtonsProps","navButtonsWrapperProps","NavButton","NextIcon","PrevIcon","indicators","indicatorContainerProps","indicatorIconButtonProps","activeIndicatorIconButtonProps","IndicatorIcon","showButton","StyledRoot","onMouseOver","onMouseOut","onFocus","onBlur","StyledItemWrapper","CarouselItem","maxIndex","setHeight","StyledButtonWrapper","onClick","StyledIconButton","Indicators","press","framer_motion_1","slide","fade","dragProps","divRef","checkAndSetHeight","leftwardExit","leftOut","rightwardExit","rightOut","StyledItem","div","position","StyledFiberManualRecordIcon","completeListIfRequired","arrayOfIcons","indicatorIconButtonClass","indicatorIconButtonStyle","activeIndicatorIconButtonClass","activeIndicatorIconButtonStyle","restProps","createIndicator","StyledIndicatorIconButton","indicatorContainerClass","indicatorContainerStyle","StyledIndicators","__importDefault","FiberManualRecord_1","material_1","styled","overflow","textAlign","fontSize","IconButton","shouldForwardProp","propName","$active","cursor","$alwaysVisible","$next","$prev","$fullHeightHover","sanitizeNavProps","NavigateBefore_1","NavigateNext_1","rest","savedCallback","id_1","setInterval","clearInterval","Carousel_1","ex","_defineProperty","reducePropsToState","handleStateChangeOnClient","WrappedComponent","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","PureComponent","displayName","getDisplayName","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","endsWith","isColorString","testProp","splitColor","aName","bName","cName","saturation","lightness","alpha$1","clampRgbUnit","rgbUnit","red","green","blue","substr","parseInt","colorToken","numberToken","numColors","colors","numbers","tokenised","convertNumbersToZero","maxDefaults","applyDefaultFilter","functionRegex","functions","_objectWithoutProperties","excluded","sourceSymbolKeys"],"sourceRoot":""}